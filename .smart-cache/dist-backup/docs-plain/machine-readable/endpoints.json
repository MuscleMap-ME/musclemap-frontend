{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "MuscleMap API Endpoints",
  "description": "Machine-readable list of REST API endpoints",
  "version": "1.0.0",
  "lastUpdated": "2026-01-15",
  "baseUrl": "https://musclemap.me/api",
  "endpoints": {
    "auth": {
      "signup": {
        "method": "POST",
        "path": "/auth/signup",
        "description": "Register a new user account",
        "authentication": false,
        "requestBody": {
          "email": "string",
          "password": "string",
          "username": "string"
        },
        "response": {
          "token": "string",
          "user": "User"
        },
        "errors": [400, 409]
      },
      "login": {
        "method": "POST",
        "path": "/auth/login",
        "description": "Authenticate user and get token",
        "authentication": false,
        "requestBody": {
          "email": "string",
          "password": "string"
        },
        "response": {
          "token": "string",
          "user": "User"
        },
        "errors": [400, 401]
      },
      "me": {
        "method": "GET",
        "path": "/auth/me",
        "description": "Get current authenticated user",
        "authentication": true,
        "response": {
          "user": "User"
        },
        "errors": [401]
      }
    },
    "users": {
      "getProfile": {
        "method": "GET",
        "path": "/users/:id",
        "description": "Get user profile by ID",
        "authentication": false,
        "parameters": {
          "id": "UUID"
        },
        "response": "User",
        "errors": [404]
      },
      "updateProfile": {
        "method": "PUT",
        "path": "/users/:id",
        "description": "Update user profile",
        "authentication": true,
        "parameters": {
          "id": "UUID"
        },
        "requestBody": {
          "username": "string?",
          "avatarUrl": "string?",
          "bio": "string?"
        },
        "response": "User",
        "errors": [400, 401, 403, 404]
      },
      "getStats": {
        "method": "GET",
        "path": "/users/:id/stats",
        "description": "Get user statistics",
        "authentication": false,
        "parameters": {
          "id": "UUID"
        },
        "response": "UserStats",
        "errors": [404]
      }
    },
    "workouts": {
      "list": {
        "method": "GET",
        "path": "/workouts",
        "description": "List user's workouts with pagination",
        "authentication": true,
        "queryParams": {
          "limit": "number?",
          "cursor": "string?"
        },
        "response": {
          "data": "Workout[]",
          "nextCursor": "string?"
        },
        "errors": [401]
      },
      "get": {
        "method": "GET",
        "path": "/workouts/:id",
        "description": "Get workout by ID",
        "authentication": true,
        "parameters": {
          "id": "UUID"
        },
        "response": "Workout",
        "errors": [401, 403, 404]
      },
      "create": {
        "method": "POST",
        "path": "/workouts",
        "description": "Create a new workout",
        "authentication": true,
        "requestBody": {
          "name": "string",
          "exercises": "WorkoutExerciseInput[]"
        },
        "response": "Workout",
        "errors": [400, 401]
      },
      "complete": {
        "method": "POST",
        "path": "/workouts/:id/complete",
        "description": "Mark workout as completed",
        "authentication": true,
        "parameters": {
          "id": "UUID"
        },
        "response": "Workout",
        "errors": [401, 403, 404]
      },
      "delete": {
        "method": "DELETE",
        "path": "/workouts/:id",
        "description": "Delete a workout",
        "authentication": true,
        "parameters": {
          "id": "UUID"
        },
        "response": null,
        "errors": [401, 403, 404]
      }
    },
    "exercises": {
      "list": {
        "method": "GET",
        "path": "/exercises",
        "description": "List exercises with filters",
        "authentication": false,
        "queryParams": {
          "search": "string?",
          "category": "string?",
          "muscleGroup": "string?",
          "equipment": "string[]?",
          "limit": "number?"
        },
        "response": "Exercise[]",
        "errors": []
      },
      "get": {
        "method": "GET",
        "path": "/exercises/:id",
        "description": "Get exercise by ID",
        "authentication": false,
        "parameters": {
          "id": "UUID"
        },
        "response": "Exercise",
        "errors": [404]
      },
      "alternatives": {
        "method": "GET",
        "path": "/exercises/:id/alternatives",
        "description": "Get alternative exercises for similar muscles",
        "authentication": false,
        "parameters": {
          "id": "UUID"
        },
        "queryParams": {
          "equipment": "string[]?"
        },
        "response": "Exercise[]",
        "errors": [404]
      }
    },
    "archetypes": {
      "list": {
        "method": "GET",
        "path": "/archetypes",
        "description": "List all available archetypes",
        "authentication": false,
        "response": "Archetype[]",
        "errors": []
      },
      "select": {
        "method": "POST",
        "path": "/archetypes/:id/select",
        "description": "Select archetype for current user",
        "authentication": true,
        "parameters": {
          "id": "string"
        },
        "response": "User",
        "errors": [401, 404]
      }
    },
    "credits": {
      "balance": {
        "method": "GET",
        "path": "/credits/balance",
        "description": "Get current credit balance",
        "authentication": true,
        "response": {
          "balance": "number",
          "wealthTier": "number"
        },
        "errors": [401]
      },
      "history": {
        "method": "GET",
        "path": "/credits/history",
        "description": "Get credit transaction history",
        "authentication": true,
        "queryParams": {
          "limit": "number?",
          "cursor": "string?"
        },
        "response": "CreditTransaction[]",
        "errors": [401]
      },
      "purchase": {
        "method": "POST",
        "path": "/credits/purchase",
        "description": "Purchase credit package",
        "authentication": true,
        "requestBody": {
          "packageId": "string",
          "paymentMethodId": "string"
        },
        "response": {
          "transaction": "CreditTransaction",
          "newBalance": "number"
        },
        "errors": [400, 401, 402]
      },
      "gift": {
        "method": "POST",
        "path": "/credits/gift",
        "description": "Gift credits to another user",
        "authentication": true,
        "requestBody": {
          "toUserId": "UUID",
          "amount": "number"
        },
        "response": {
          "transaction": "CreditTransaction",
          "newBalance": "number"
        },
        "errors": [400, 401, 403]
      }
    },
    "social": {
      "feed": {
        "method": "GET",
        "path": "/feed",
        "description": "Get activity feed from followed users",
        "authentication": true,
        "queryParams": {
          "limit": "number?",
          "cursor": "string?"
        },
        "response": "FeedItem[]",
        "errors": [401]
      },
      "follow": {
        "method": "POST",
        "path": "/users/:id/follow",
        "description": "Follow a user",
        "authentication": true,
        "parameters": {
          "id": "UUID"
        },
        "response": null,
        "errors": [401, 404, 409]
      },
      "unfollow": {
        "method": "DELETE",
        "path": "/users/:id/follow",
        "description": "Unfollow a user",
        "authentication": true,
        "parameters": {
          "id": "UUID"
        },
        "response": null,
        "errors": [401, 404]
      },
      "highFive": {
        "method": "POST",
        "path": "/highfives",
        "description": "Send a high five to a user",
        "authentication": true,
        "requestBody": {
          "toUserId": "UUID",
          "type": "string?"
        },
        "response": "HighFive",
        "errors": [401, 404]
      }
    },
    "leaderboards": {
      "get": {
        "method": "GET",
        "path": "/leaderboards/:type",
        "description": "Get leaderboard by type",
        "authentication": false,
        "parameters": {
          "type": "string"
        },
        "queryParams": {
          "limit": "number?",
          "archetypeId": "string?",
          "ageGroup": "string?",
          "region": "string?"
        },
        "response": "LeaderboardEntry[]",
        "errors": [400]
      }
    },
    "system": {
      "health": {
        "method": "GET",
        "path": "/health",
        "description": "Health check endpoint",
        "authentication": false,
        "response": {
          "status": "string",
          "timestamp": "string"
        },
        "errors": []
      },
      "ready": {
        "method": "GET",
        "path": "/ready",
        "description": "Readiness probe for orchestration",
        "authentication": false,
        "response": {
          "ready": "boolean"
        },
        "errors": [503]
      }
    }
  },
  "types": {
    "User": {
      "id": "UUID",
      "email": "string",
      "username": "string",
      "level": "number",
      "archetypeId": "string?",
      "totalTU": "number",
      "creditBalance": "number",
      "wealthTier": "number",
      "avatarUrl": "string?",
      "createdAt": "ISO8601"
    },
    "Workout": {
      "id": "UUID",
      "name": "string",
      "exercises": "WorkoutExercise[]",
      "totalTU": "number",
      "duration": "number?",
      "completedAt": "ISO8601?",
      "createdAt": "ISO8601"
    },
    "Exercise": {
      "id": "UUID",
      "name": "string",
      "category": "string",
      "equipment": "string[]",
      "muscleGroups": "MuscleActivation[]",
      "instructions": "string?"
    }
  }
}
