const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ActivityFeed-CoHsrkx0.js","assets/react-vendor-By4WaTeA.js","assets/index-BWXbdiCA.js","assets/date-vendor-C_JWt2cu.js","assets/leaflet-vendor-CIGW-MKW.css","assets/reactflow-vendor-B5DZHykP.css","assets/index-DbjXnjMt.css","assets/ServerControl-BTn2WICJ.js","assets/GlassSurface-CmR0rmfd.js","assets/loader-circle-C5TWBMcP.js","assets/server-BgFmfoXd.js","assets/refresh-cw-p-yaTekW.js","assets/database-C1hksDc6.js","assets/memory-stick-CUz3ByzR.js","assets/hard-drive-B5aL1sG9.js","assets/chevron-down-CngmuGkJ.js","assets/chevron-right-DoiQoaX2.js","assets/square-C9XBdjBf.js","assets/rotate-ccw-BHwZF35N.js","assets/upload-cuyWStVx.js","assets/circle-check-big-CiijVxoO.js","assets/file-text-q_jsMOqJ.js","assets/git-branch-vF1kbhSx.js","assets/git-commit-horizontal-CdZnmBWz.js","assets/terminal-r2iNx1TO.js","assets/triangle-alert-Dv3L0ipr.js","assets/circle-x-D51H6TmZ.js","assets/DatabasePanel-DDrR9HqS.js","assets/trash-2-DedgPl_l.js","assets/layers-XyFK9hVh.js","assets/chevron-left-C2uj3XOf.js","assets/SchedulerPanel-D8XksPIl.js","assets/pause-B9D2wBiR.js","assets/timer-DeR0Egzm.js","assets/history-BeviyJsz.js","assets/pen-BOjE4BF0.js","assets/EnvPanel-CobdRnID.js","assets/shield-check-DitBgcSF.js","assets/key-DpDZ42tF.js","assets/shield-alert-D4g_1BkM.js","assets/eye-BFV3_OZC.js","assets/check-BT9ajVis.js","assets/copy-cOQLA_bE.js","assets/pen-line-DDr4WeDR.js","assets/save-B2kyirg1.js","assets/DeployPanel-BviaaJgT.js","assets/MetricsPanel-C3PSa6-w.js","assets/trending-down-yb27-Yjs.js","assets/gauge-C9gvz3JQ.js","assets/wifi-CILOumd5.js","assets/arrow-up-down-CzTOotxs.js","assets/AlertsPanel-CXH7YAW5.js","assets/send-8BSTJb5T.js","assets/info-DEhOPaBa.js","assets/lock-CEc1LRTZ.js","assets/circle-alert-BJWGlvkC.js","assets/external-link-DqJ4adaO.js","assets/SecurityPanel-JjCxXdDM.js","assets/monitor-C2nGgDIA.js","assets/FeatureFlagsPanel-aHgriTKK.js","assets/funnel-ByFNXMvJ.js","assets/LogsPanel-Ba2zFt5v.js","assets/download-C-UWhxxy.js","assets/BackupPanel-Cq40_-5U.js","assets/MarkdownEditor-B1d8OUf0.js","assets/file-cJV5on13.js","assets/UserAnalyticsPanel-9XOTQaGu.js"])))=>i.map(i=>d[i]);
import{_ as b}from"./three-vendor-BoD47aQL.js";import{r as t,j as e,L as v,a as Fs}from"./react-vendor-By4WaTeA.js";import{c as E,e as Ds,aE as X,H as Ms,aF as Ps,aC as L,v as Os,M as ie,q as A,o as ke,aG as ne,aH as es,U as K,aI as ss,aJ as ts,aK as Ls,x as Us,B as Bs,Z as _,N as Is,aL as Y,J as fe,L as ve,p as Ne,aD as Gs,X as Xe,aM as Vs,aN as qs,aO as zs,aP as Hs,aQ as Js}from"./index-BWXbdiCA.js";import{G as d}from"./GlassSurface-CmR0rmfd.js";import{S as as}from"./server-BgFmfoXd.js";import{D as Ws}from"./database-C1hksDc6.js";import{F as Qs,L as Xs,A as Ks}from"./lock-CEc1LRTZ.js";import{R as Ys,T as Zs}from"./terminal-r2iNx1TO.js";import{T as et}from"./triangle-alert-Dv3L0ipr.js";import{C as Q}from"./chevron-right-DoiQoaX2.js";import{R as h}from"./refresh-cw-p-yaTekW.js";import{A as st,S as Ke}from"./send-8BSTJb5T.js";import{R as tt,A as at,f as lt,X as rt,Y as it,e as nt,h as ct}from"./recharts-vendor-BBD0wQvA.js";import{C as I}from"./circle-alert-BJWGlvkC.js";import{C as G}from"./circle-check-big-CiijVxoO.js";import{E as ot}from"./eye-BFV3_OZC.js";import{E as S}from"./external-link-DqJ4adaO.js";const dt=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],xt=E("ellipsis-vertical",dt);const mt=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"11.5",cy:"14.5",r:"2.5",key:"1bq0ko"}],["path",{d:"M13.3 16.3 15 18",key:"2quom7"}]],ht=E("file-search",mt);const pt=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Z=E("gift",pt);const ut=[["path",{d:"M6 16c5 0 7-8 12-8a4 4 0 0 1 0 8c-5 0-7-8-12-8a4 4 0 1 0 0 8",key:"18ogeb"}]],_e=E("infinity",ut);const gt=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ls=E("mail",gt);const jt=[["rect",{width:"3",height:"8",x:"13",y:"2",rx:"1.5",key:"diqz80"}],["path",{d:"M19 8.5V10h1.5A1.5 1.5 0 1 0 19 8.5",key:"183iwg"}],["rect",{width:"3",height:"8",x:"8",y:"14",rx:"1.5",key:"hqg7r1"}],["path",{d:"M5 15.5V14H3.5A1.5 1.5 0 1 0 5 15.5",key:"76g71w"}],["rect",{width:"8",height:"3",x:"14",y:"13",rx:"1.5",key:"1kmz0a"}],["path",{d:"M15.5 19H14v1.5a1.5 1.5 0 1 0 1.5-1.5",key:"jc4sz0"}],["rect",{width:"8",height:"3",x:"2",y:"8",rx:"1.5",key:"1omvl4"}],["path",{d:"M8.5 5H10V3.5A1.5 1.5 0 1 0 8.5 5",key:"16f3cl"}]],Ce=E("slack",jt);const bt=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],yt=E("toggle-left",bt);const ft=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],vt=E("user-plus",ft);t.lazy(()=>b(()=>import("./ActivityFeed-CoHsrkx0.js"),__vite__mapDeps([0,1,2,3,4,5,6])));const Nt=t.lazy(()=>b(()=>import("./ServerControl-BTn2WICJ.js"),__vite__mapDeps([7,1,8,9,2,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,4,5,6]))),wt=t.lazy(()=>b(()=>import("./DatabasePanel-DDrR9HqS.js"),__vite__mapDeps([27,1,8,9,2,12,28,11,25,26,10,29,15,16,14,30,4,5,6]))),kt=t.lazy(()=>b(()=>import("./SchedulerPanel-D8XksPIl.js"),__vite__mapDeps([31,1,8,9,2,11,25,32,26,33,15,16,34,35,28,20,4,5,6]))),_t=t.lazy(()=>b(()=>import("./EnvPanel-CobdRnID.js"),__vite__mapDeps([36,1,8,9,2,26,11,37,38,15,16,25,34,20,39,40,41,42,43,28,44,4,5,6]))),Ct=t.lazy(()=>b(()=>import("./DeployPanel-BviaaJgT.js"),__vite__mapDeps([45,1,8,9,2,24,11,40,34,22,23,15,18,26,20,25,4,5,6]))),St=t.lazy(()=>b(()=>import("./MetricsPanel-C3PSa6-w.js"),__vite__mapDeps([46,1,8,2,11,25,47,9,48,49,50,4,5,6]))),At=t.lazy(()=>b(()=>import("./AlertsPanel-CXH7YAW5.js"),__vite__mapDeps([51,1,8,9,2,11,15,16,52,20,25,53,35,28,26,10,12,54,24,55,40,56,4,5,6]))),Tt=t.lazy(()=>b(()=>import("./SecurityPanel-JjCxXdDM.js"),__vite__mapDeps([57,1,8,9,2,11,25,58,37,39,15,16,54,20,40,26,28,4,5,6]))),Et=t.lazy(()=>b(()=>import("./FeatureFlagsPanel-aHgriTKK.js"),__vite__mapDeps([59,1,8,9,2,11,41,60,15,16,35,28,25,4,5,6]))),$t=t.lazy(()=>b(()=>import("./LogsPanel-Ba2zFt5v.js"),__vite__mapDeps([61,1,8,24,2,11,29,9,32,62,53,25,55,60,15,16,4,5,6]))),Rt=t.lazy(()=>b(()=>import("./BackupPanel-Cq40_-5U.js"),__vite__mapDeps([63,1,8,9,2,54,11,19,14,62,20,26,18,28,25,4,5,6]))),Ft=t.lazy(()=>b(()=>import("./MarkdownEditor-B1d8OUf0.js"),__vite__mapDeps([64,1,8,21,2,11,9,43,42,40,44,62,28,15,16,65,25,4,5,6]))),Dt=t.lazy(()=>b(()=>import("./UserAnalyticsPanel-9XOTQaGu.js"),__vite__mapDeps([66,1,8,11,2,25,9,47,16,10,12,54,24,52,55,20,40,56,4,5,6]))),Ye=[{id:"unlimited_credits",name:"Unlimited Credits",icon:_e,color:"#fbbf24"},{id:"gift_credits",name:"Gift Credits",icon:Z,color:"#10b981"},{id:"ban_user",name:"Ban Users",icon:Is,color:"#ef4444"},{id:"grant_achievements",name:"Grant Achievements",icon:st,color:"#8b5cf6"},{id:"broadcast",name:"Broadcast Message",icon:Y,color:"#06b6d4"},{id:"system_override",name:"System Override",icon:_,color:"#f59e0b"}],re=[{id:"overview",label:"Overview",icon:Ms},{id:"server",label:"Server Control",icon:as},{id:"database",label:"Database",icon:Ws},{id:"scheduler",label:"Scheduler",icon:Ps},{id:"env",label:"Environment",icon:Qs},{id:"deploy",label:"Deployments",icon:Ys,link:"/empire/deploy"},{id:"commands",label:"Command Center",icon:Zs,link:"/empire/commands"},{id:"realtime-metrics",label:"Real-time Metrics",icon:L},{id:"alerts",label:"Alerts",icon:et},{id:"security",label:"Security",icon:Xs},{id:"feature-flags",label:"Feature Flags",icon:yt},{id:"logs",label:"Log Analysis",icon:ht},{id:"backup",label:"Backup & Recovery",icon:Ks},{id:"docs",label:"Documentation",icon:Os},{id:"feedback",label:"Feedback Queue",icon:ie},{id:"bug-tracker",label:"Bug Tracker",icon:A},{id:"user-analytics",label:"User Analytics",icon:vt},{id:"analytics",label:"GA Analytics",icon:ke},{id:"metrics",label:"System Metrics",icon:ne},{id:"scorecard",label:"Test Scorecard",icon:es,link:"/empire/scorecard"},{id:"users",label:"Users",icon:K},{id:"community",label:"Community",icon:ss},{id:"messages",label:"Messages",icon:ls},{id:"economy",label:"Economy",icon:ts},{id:"avatar",label:"My Avatar",icon:X},{id:"slack",label:"Slack",icon:Ce},{id:"settings",label:"Settings",icon:Ls}],O="G-S4RPD5JD5L";function x({title:o,value:l,icon:N,trend:y,trendValue:$,color:j="#8b5cf6",onClick:R}){return e.jsx(d,{className:`p-4 ${R?"cursor-pointer hover:bg-white/5 transition-colors":""}`,onClick:R,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:o}),e.jsx("div",{className:"text-2xl font-bold",style:{color:j},children:typeof l=="number"?l.toLocaleString():l}),y&&e.jsxs("div",{className:`flex items-center gap-1 text-xs mt-1 ${y==="up"?"text-green-400":"text-red-400"}`,children:[y==="up"?"↑":"↓"," ",$]})]}),N&&e.jsx("div",{className:"p-2 rounded-lg bg-white/5",style:{color:j},children:e.jsx(N,{className:"w-5 h-5"})})]})})}function Mt({icon:o,label:l,onClick:N,color:y="#8b5cf6"}){return e.jsxs("button",{onClick:N,className:"flex flex-col items-center gap-2 p-3 rounded-xl bg-white/5 hover:bg-white/10 transition-colors",children:[e.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:`${y}20`},children:e.jsx(o,{className:"w-5 h-5",style:{color:y}})}),e.jsx("span",{className:"text-xs text-gray-400",children:l})]})}function we({status:o,label:l}){const N={healthy:"bg-green-500",degraded:"bg-yellow-500",unhealthy:"bg-red-500"};return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${N[o]||"bg-gray-500"}`}),e.jsx("span",{className:"text-sm",children:l})]})}function Ze({user:o,onAction:l}){return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-violet-500 to-fuchsia-500 flex items-center justify-center text-white font-bold",children:o.username?.charAt(0).toUpperCase()||"?"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:o.displayName||o.username}),e.jsx("div",{className:"text-xs text-gray-400",children:o.email})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>l("gift",o),className:"p-2 rounded-lg hover:bg-white/10 text-green-400",title:"Gift Credits",children:e.jsx(Z,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>l("message",o),className:"p-2 rounded-lg hover:bg-white/10 text-blue-400",title:"Message",children:e.jsx(Y,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>l("more",o),className:"p-2 rounded-lg hover:bg-white/10 text-gray-400",children:e.jsx(xt,{className:"w-4 h-4"})})]})]})}function Pt(){const{user:o}=Ds(),[l,N]=t.useState("overview"),[y,$]=t.useState(!0),[j,R]=t.useState(null),[ce,ee]=t.useState([]),[T,oe]=t.useState([]),[Se,Ae]=t.useState([]),[Te,rs]=t.useState([]),[Ee,is]=t.useState(null),[ns,Lt]=t.useState([]),[cs,Ut]=t.useState(!1),[se,os]=t.useState(""),[ds,de]=t.useState(!1),[U,$e]=t.useState(null),[V,xe]=t.useState(100),[F,xs]=t.useState(null),[Re,ms]=t.useState([]),[w,q]=t.useState({type:null,status:null}),[i,Fe]=t.useState(null),[hs,De]=t.useState(!1),[te,Me]=t.useState(""),[Pe,Oe]=t.useState(!1),[u,ps]=t.useState(null),[me,us]=t.useState([]),[m,B]=t.useState({status:"all",source:"all",priority:"all"}),[r,Le]=t.useState(null),[gs,he]=t.useState(!1),[Ue,js]=t.useState([]),[pe,Be]=t.useState(!1),[ue,bs]=t.useState([]),[k,ys]=t.useState(null),[p,z]=t.useState({status:"all",severity:"all",type:"all"}),[g,fs]=t.useState(null),[ae,Ie]=t.useState("errors"),[ge,vs]=t.useState(0),n=t.useCallback(()=>{try{const s=localStorage.getItem("musclemap-auth");if(s)return{Authorization:`Bearer ${JSON.parse(s)?.state?.token}`}}catch{}return{}},[]),H=t.useCallback(async()=>{try{const s=await fetch("/metrics");if(s.ok){const a=await s.text(),c=Ot(a);R(c),ee(f=>{const Rs={time:new Date().toLocaleTimeString(),requests:c.musclemap_http_requests_total?.[0]?.value||0,connections:c.musclemap_db_connections_total?.[0]?.value||0};return[...f,Rs].slice(-30)})}}catch{}},[]),Ge=t.useCallback(async()=>{try{const s=await fetch("/api/admin-control/users?limit=20",{headers:n()});if(s.ok){const a=await s.json();oe(a.data||a.users||[])}}catch{}},[n]),Ve=t.useCallback(async()=>{try{const s=await fetch("/api/admin-control/audit/credits",{headers:n()});if(s.ok){const a=await s.json();is(a)}}catch{}},[n]),qe=t.useCallback(async()=>{try{const s=await fetch("/api/messaging/conversations",{headers:n()});if(s.ok){const c=(await s.json()).data||[];rs(c.map(f=>({id:f.id,content:f.lastMessage?.content||"No messages yet",createdAt:f.lastMessage?.createdAt||f.createdAt,participant:f.participant,unreadCount:f.unreadCount})))}}catch{}},[n]),ze=t.useCallback(async()=>{try{const s=await fetch("/api/notifications/unread-count",{headers:n()});if(s.ok){const a=await s.json();vs(a.data?.count||0)}}catch{}},[n]),J=t.useCallback(async()=>{try{const s=await fetch("/api/admin/feedback/stats",{headers:n()});if(s.ok){const a=await s.json();xs(a)}}catch{}},[n]),D=t.useCallback(async()=>{try{let s="/api/admin/feedback?limit=50";w.type&&(s+=`&type=${w.type}`),w.status&&(s+=`&status=${w.status}`);const a=await fetch(s,{headers:n()});if(a.ok){const c=await a.json();ms(c.items||[])}}catch{}},[n,w]),je=t.useCallback(async s=>{try{const a=await fetch(`/api/admin/feedback/${s}`,{headers:n()});if(a.ok){const c=await a.json();Fe(c),De(!0)}}catch{}},[n]),He=async s=>{try{const a=await fetch(`/api/admin/feedback/${s}/confirm-bug`,{method:"POST",headers:n()});if(a.ok){const c=await a.json();alert(`Bug confirmed! Job ID: ${c.jobId}`),D(),J()}}catch{}},Ns=async(s,a)=>{try{(await fetch(`/api/admin/feedback/${s}`,{method:"PATCH",headers:{"Content-Type":"application/json",...n()},body:JSON.stringify({status:a})})).ok&&(D(),J(),i?.id===s&&je(s))}catch{}},ws=async()=>{if(!(!i||!te.trim()))try{(await fetch(`/api/admin/feedback/${i.id}/respond`,{method:"POST",headers:{"Content-Type":"application/json",...n()},body:JSON.stringify({message:te,is_internal:Pe})})).ok&&(Me(""),Oe(!1),je(i.id))}catch{}},M=t.useCallback(async()=>{try{const s=await fetch("/api/admin/bugs/stats",{headers:n()});if(s.ok){const a=await s.json();ps(a)}}catch{}},[n]),C=t.useCallback(async()=>{try{let s="/api/admin/bugs?limit=100";m.status!=="all"&&(s+=`&status=${m.status}`),m.source!=="all"&&(s+=`&source=${m.source}`),m.priority!=="all"&&(s+=`&priority=${m.priority}`);const a=await fetch(s,{headers:n()});if(a.ok){const c=await a.json();us(c.items||[])}}catch{}},[n,m]),be=t.useCallback(async s=>{try{const a=await fetch(`/api/admin/bugs/${s}`,{headers:n()});if(a.ok){const c=await a.json();Le(c),he(!0)}}catch{}},[n]),Je=t.useCallback(async()=>{try{const s=await fetch("/api/admin/bugs/timeline?limit=50",{headers:n()});if(s.ok){const a=await s.json();js(a.items||[])}}catch{}},[n]),P=t.useCallback(async()=>{try{let s="/api/errors/list?limit=100";p.status!=="all"&&(s+=`&status=${p.status}`),p.severity!=="all"&&(s+=`&severity=${p.severity}`),p.type!=="all"&&(s+=`&type=${p.type}`);const a=await fetch(s,{headers:n()});if(a.ok){const c=await a.json();bs(c.items||[])}}catch{}},[n,p]),W=t.useCallback(async()=>{try{const s=await fetch("/api/errors/admin-stats",{headers:n()});if(s.ok){const a=await s.json();ys(a)}}catch{}},[n]),We=async s=>{try{const a=await fetch(`/api/errors/${s}/convert-to-bug`,{method:"POST",headers:{"Content-Type":"application/json",...n()},body:JSON.stringify({})});if(a.ok){const c=await a.json();c.data?.converted?(alert(`Bug report created: ${c.data.id}`),P(),W(),C(),M()):alert("Bug report already exists")}}catch{alert("Failed to convert error to bug")}},ks=async()=>{Be(!0);try{const s=await fetch("/api/errors/sync-to-bugs",{method:"POST",headers:{"Content-Type":"application/json",...n()},body:JSON.stringify({severity:"high",hours:168})});if(s.ok){const a=await s.json();alert(`Synced errors to bugs: ${a.data?.created||0} created, ${a.data?.skipped||0} skipped`),M(),C(),W(),P()}else alert("Failed to sync - check server logs")}catch{alert("Failed to sync bug reports")}finally{Be(!1)}},_s=async(s,a)=>{try{(await fetch(`/api/admin/bugs/${s}`,{method:"PATCH",headers:{"Content-Type":"application/json",...n()},body:JSON.stringify({status:a})})).ok&&(C(),M(),r?.id===s&&be(s))}catch{}},Cs=async(s,a,c)=>{try{(await fetch(`/api/admin/bugs/${s}`,{method:"PATCH",headers:{"Content-Type":"application/json",...n()},body:JSON.stringify({status:"resolved",resolutionType:a,resolutionNotes:c})})).ok&&(C(),M(),he(!1))}catch{}},Ss=async()=>{if(!(!U||V<=0))try{(await fetch("/api/admin-control/credits/adjust",{method:"POST",headers:{"Content-Type":"application/json",...n()},body:JSON.stringify({userId:U.id,amount:V,reason:"Gift from owner",type:"admin_grant"})})).ok&&(de(!1),$e(null),xe(100),alert(`Gifted ${V} credits to ${U.username}!`))}catch{}},Qe=(s,a)=>{switch(s){case"gift":$e(a),de(!0);break;case"message":window.location.href=`/messages?user=${a.id}`;break}};if(t.useEffect(()=>{(async()=>{$(!0),await Promise.all([H(),Ge(),Ve(),qe(),J(),D(),ze()]),$(!1)})()},[H,Ge,Ve,qe,J,D,ze]),t.useEffect(()=>{D()},[w,D]),t.useEffect(()=>{l==="bug-tracker"&&(M(),C(),Je(),W(),P())},[l,M,C,Je,W,P]),t.useEffect(()=>{l==="bug-tracker"&&C()},[m,l,C]),t.useEffect(()=>{l==="bug-tracker"&&P()},[p,l,P]),t.useEffect(()=>{const s=setInterval(H,1e4);return()=>clearInterval(s)},[H]),!o?.is_admin&&!o?.is_owner&&!o?.roles?.includes("admin")&&!o?.roles?.includes("owner"))return e.jsx("div",{className:"min-h-screen bg-[#0a0a0f] text-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(X,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Empire Access Required"}),e.jsx("p",{className:"text-gray-400",children:"Only the empire owner can access this panel."}),e.jsx(v,{to:"/dashboard",className:"mt-4 inline-block text-violet-400 hover:underline",children:"Return to Dashboard"})]})});const As=j?.musclemap_http_requests_total?.[0]?.value||0,Ts=j?.musclemap_db_connections_total?.[0]?.value||0,ye=j?.musclemap_db_healthy?.[0]?.value===1,le=j?.musclemap_redis_connected?.[0]?.value===1,Es=j?.musclemap_uptime_seconds?.[0]?.value||0,$s=s=>{const a=Math.floor(s/86400),c=Math.floor(s%86400/3600),f=Math.floor(s%3600/60);return a>0?`${a}d ${c}h`:c>0?`${c}h ${f}m`:`${f}m`};return e.jsxs("div",{className:"min-h-screen bg-[#0a0a0f] text-white flex",children:[e.jsxs("aside",{className:"w-64 border-r border-white/10 bg-[#0a0a0f]/80 backdrop-blur-xl flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-white/10",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-yellow-500 to-orange-500 flex items-center justify-center",children:e.jsx(X,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-lg",children:"Empire Control"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Master Panel"})]})]})}),e.jsx("nav",{className:"flex-1 p-2 overflow-y-auto",children:re.map(s=>s.link?e.jsxs(v,{to:s.link,className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-colors mb-1 text-gray-400 hover:text-white hover:bg-white/5",children:[e.jsx(s.icon,{className:"w-5 h-5"}),e.jsx("span",{children:s.label}),e.jsx(Q,{className:"w-4 h-4 ml-auto opacity-50"})]},s.id):e.jsxs("button",{onClick:()=>N(s.id),className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-colors mb-1 ${l===s.id?"bg-violet-500/20 text-violet-400":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[e.jsx(s.icon,{className:"w-5 h-5"}),e.jsx("span",{children:s.label})]},s.id))}),e.jsxs("div",{className:"p-4 border-t border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-violet-500 to-fuchsia-500 flex items-center justify-center",children:o?.username?.charAt(0).toUpperCase()||"?"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:o?.displayName||o?.username}),e.jsxs("div",{className:"text-xs text-yellow-400 flex items-center gap-1",children:[e.jsx(X,{className:"w-3 h-3"})," Owner"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx(_e,{className:"w-4 h-4 text-yellow-400"}),e.jsx("span",{children:"Unlimited Powers"})]})]})]}),e.jsxs("main",{className:"flex-1 overflow-y-auto",children:[e.jsx("header",{className:"sticky top-0 z-40 bg-[#0a0a0f]/90 backdrop-blur-xl border-b border-white/10 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[re.find(s=>s.id===l)?.icon&&Fs.createElement(re.find(s=>s.id===l).icon,{className:"w-6 h-6 text-violet-400"}),re.find(s=>s.id===l)?.label]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Us,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search...",value:se,onChange:s=>os(s.target.value),className:"bg-white/5 border border-white/10 rounded-lg pl-10 pr-4 py-2 text-sm focus:outline-none focus:border-violet-500 w-64"})]}),e.jsxs("button",{className:"p-2 rounded-lg hover:bg-white/10 relative",children:[e.jsx(Bs,{className:"w-5 h-5"}),ge>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full text-[10px] flex items-center justify-center",children:ge>9?"9+":ge})]}),e.jsx("button",{onClick:H,className:"p-2 rounded-lg hover:bg-white/10",children:e.jsx(h,{className:`w-5 h-5 ${y?"animate-spin":""}`})})]})]})}),e.jsx("div",{className:"p-6",children:y&&!j?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx(h,{className:"w-8 h-8 animate-spin text-violet-400"})}):e.jsxs(e.Fragment,{children:[l==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(x,{title:"System Status",value:ye&&le?"Healthy":"Degraded",icon:as,color:ye&&le?"#10b981":"#f59e0b"}),e.jsx(x,{title:"Uptime",value:$s(Es),icon:L,color:"#06b6d4"}),e.jsx(x,{title:"Total Users",value:T.length,icon:K,color:"#8b5cf6"}),e.jsx(x,{title:"Requests",value:As,icon:ne,color:"#f59e0b"})]}),e.jsxs(d,{className:"p-4",children:[e.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[e.jsx(_,{className:"w-5 h-5 text-yellow-400"}),"Owner Powers"]}),e.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-3",children:Ye.map(s=>e.jsx(Mt,{icon:s.icon,label:s.name,color:s.color,onClick:()=>{}},s.id))})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(d,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Request Traffic"}),e.jsx("div",{className:"h-48",children:e.jsx(tt,{width:"100%",height:"100%",children:e.jsxs(at,{data:ce,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorRequests",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#8b5cf6",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#8b5cf6",stopOpacity:0})]})}),e.jsx(lt,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),e.jsx(rt,{dataKey:"time",stroke:"#666",fontSize:10}),e.jsx(it,{stroke:"#666",fontSize:10}),e.jsx(nt,{contentStyle:{backgroundColor:"rgba(10,10,15,0.9)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px"}}),e.jsx(ct,{type:"monotone",dataKey:"requests",stroke:"#8b5cf6",fill:"url(#colorRequests)",name:"Requests"})]})})})]}),e.jsxs(d,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"System Health"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsx(we,{status:ye?"healthy":"unhealthy",label:"PostgreSQL"}),e.jsxs("span",{className:"text-sm text-gray-400",children:[Ts," connections"]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsx(we,{status:le?"healthy":"unhealthy",label:"Redis"}),e.jsx("span",{className:"text-sm text-gray-400",children:le?"Connected":"Disconnected"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsx(we,{status:"healthy",label:"API Server"}),e.jsx("span",{className:"text-sm text-gray-400",children:"Running"})]})]})]})]}),e.jsxs(d,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(K,{className:"w-5 h-5 text-violet-400"}),"Recent Users"]}),e.jsxs(v,{to:"/admin-control",className:"text-sm text-violet-400 hover:underline flex items-center gap-1",children:["View All ",e.jsx(Q,{className:"w-4 h-4"})]})]}),e.jsx("div",{className:"space-y-2",children:T.slice(0,5).map(s=>e.jsx(Ze,{user:s,onAction:Qe},s.id))})]})]}),l==="server"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(h,{className:"w-8 h-8 animate-spin text-cyan-400"})}),children:e.jsx(Nt,{})}),l==="database"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(h,{className:"w-8 h-8 animate-spin text-cyan-400"})}),children:e.jsx(wt,{})}),l==="scheduler"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(h,{className:"w-8 h-8 animate-spin text-cyan-400"})}),children:e.jsx(kt,{})}),l==="env"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(h,{className:"w-8 h-8 animate-spin text-cyan-400"})}),children:e.jsx(_t,{})}),l==="deploy"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(h,{className:"w-8 h-8 animate-spin text-cyan-400"})}),children:e.jsx(Ct,{})}),l==="realtime-metrics"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(h,{className:"w-8 h-8 animate-spin text-cyan-400"})}),children:e.jsx(St,{})}),l==="user-analytics"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(h,{className:"w-8 h-8 animate-spin text-cyan-400"})}),children:e.jsx(Dt,{})}),l==="alerts"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(h,{className:"w-8 h-8 animate-spin text-cyan-400"})}),children:e.jsx(At,{})}),l==="security"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(h,{className:"w-8 h-8 animate-spin text-cyan-400"})}),children:e.jsx(Tt,{})}),l==="feature-flags"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(h,{className:"w-8 h-8 animate-spin text-cyan-400"})}),children:e.jsx(Et,{})}),l==="logs"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(h,{className:"w-8 h-8 animate-spin text-cyan-400"})}),children:e.jsx($t,{})}),l==="backup"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(h,{className:"w-8 h-8 animate-spin text-cyan-400"})}),children:e.jsx(Rt,{})}),l==="docs"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(h,{className:"w-8 h-8 animate-spin text-cyan-400"})}),children:e.jsx(Ft,{})}),l==="feedback"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(x,{title:"Total Feedback",value:F?.total||0,icon:ie,color:"#8b5cf6"}),e.jsx(x,{title:"Open Bugs",value:F?.unresolved_bugs||0,icon:A,color:"#ef4444",onClick:()=>q({type:"bug_report",status:"open"})}),e.jsx(x,{title:"Auto-Fix Queue",value:(F?.auto_fix_pending||0)+(F?.auto_fix_in_progress||0),icon:_,color:"#f59e0b"}),e.jsx(x,{title:"Pending Review",value:F?.pending_review||0,icon:fe,color:"#06b6d4",onClick:()=>q({type:null,status:"open"})})]}),e.jsx("div",{className:"grid grid-cols-4 gap-3",children:[{type:"bug_report",label:"Bugs",icon:A,color:"#ef4444"},{type:"feature_request",label:"Features",icon:ve,color:"#10b981"},{type:"question",label:"Questions",icon:Ne,color:"#3b82f6"},{type:"general",label:"General",icon:Y,color:"#8b5cf6"}].map(s=>e.jsxs("button",{onClick:()=>q(a=>({...a,type:a.type===s.type?null:s.type})),className:`p-3 rounded-lg border transition-all ${w.type===s.type?"border-violet-500 bg-violet-500/20":"border-white/10 bg-white/5 hover:bg-white/10"}`,children:[e.jsx(s.icon,{className:"w-5 h-5 mx-auto mb-1",style:{color:s.color}}),e.jsx("div",{className:"text-xs text-gray-400",children:s.label}),e.jsx("div",{className:"text-lg font-bold",children:F?.by_type?.[s.type]||0})]},s.type))}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[["open","in_progress","confirmed","resolved","closed","wont_fix"].map(s=>e.jsxs("button",{onClick:()=>q(a=>({...a,status:a.status===s?null:s})),className:`px-3 py-1 rounded-full text-xs transition-colors ${w.status===s?"bg-violet-500 text-white":"bg-white/10 text-gray-400 hover:bg-white/20"}`,children:[s.replace("_"," ")," (",F?.by_status?.[s]||0,")"]},s)),(w.type||w.status)&&e.jsx("button",{onClick:()=>q({type:null,status:null}),className:"px-3 py-1 rounded-full text-xs bg-red-500/20 text-red-400 hover:bg-red-500/30",children:"Clear filters"})]}),e.jsxs(d,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold",children:"Feedback Items"}),e.jsx("button",{onClick:()=>{D(),J()},className:"p-2 rounded-lg hover:bg-white/10",children:e.jsx(h,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:Re.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(ie,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No feedback items found"})]}):Re.map(s=>e.jsx("div",{className:"p-3 bg-white/5 rounded-lg hover:bg-white/10 transition-colors cursor-pointer",onClick:()=>je(s.id),children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.type==="bug_report"&&e.jsx(A,{className:"w-4 h-4 text-red-400"}),s.type==="feature_request"&&e.jsx(ve,{className:"w-4 h-4 text-green-400"}),s.type==="question"&&e.jsx(Ne,{className:"w-4 h-4 text-blue-400"}),s.type==="general"&&e.jsx(Y,{className:"w-4 h-4 text-violet-400"}),e.jsx("span",{className:"font-medium truncate",children:s.title})]}),e.jsx("div",{className:"text-sm text-gray-400 truncate",children:s.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-gray-500",children:[e.jsxs("span",{children:["@",s.user?.username]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:new Date(s.createdAt).toLocaleDateString()}),s.autoFixStatus&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsxs("span",{className:`flex items-center gap-1 ${s.autoFixStatus==="completed"?"text-green-400":s.autoFixStatus==="failed"?"text-red-400":s.autoFixStatus==="in_progress"?"text-yellow-400":"text-gray-400"}`,children:[e.jsx(_,{className:"w-3 h-3"}),s.autoFixStatus]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${s.status==="open"?"bg-blue-500/20 text-blue-400":s.status==="in_progress"?"bg-yellow-500/20 text-yellow-400":s.status==="confirmed"?"bg-orange-500/20 text-orange-400":s.status==="resolved"?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:s.status}),s.type==="bug_report"&&s.status==="open"&&e.jsxs("button",{onClick:a=>{a.stopPropagation(),He(s.id)},className:"px-2 py-1 rounded bg-orange-500/20 text-orange-400 text-xs hover:bg-orange-500/30 flex items-center gap-1",title:"Confirm bug for auto-fix",children:[e.jsx(Gs,{className:"w-3 h-3"}),"Fix"]})]})]})},s.id))})]})]}),hs&&i&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70",children:e.jsxs("div",{className:"bg-[#0f0f15] border border-white/10 rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-[#0f0f15] border-b border-white/10 p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[i.type==="bug_report"&&e.jsx(A,{className:"w-5 h-5 text-red-400"}),i.type==="feature_request"&&e.jsx(ve,{className:"w-5 h-5 text-green-400"}),i.type==="question"&&e.jsx(Ne,{className:"w-5 h-5 text-blue-400"}),i.type==="general"&&e.jsx(Y,{className:"w-5 h-5 text-violet-400"}),e.jsx("h2",{className:"font-bold text-lg",children:i.title})]}),e.jsx("button",{onClick:()=>{De(!1),Fe(null)},className:"p-2 rounded-lg hover:bg-white/10",children:e.jsx(Xe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs("select",{value:i.status,onChange:s=>Ns(i.id,s.target.value),className:"bg-white/10 border border-white/10 rounded-lg px-3 py-1 text-sm",children:[e.jsx("option",{value:"open",children:"Open"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"confirmed",children:"Confirmed"}),e.jsx("option",{value:"resolved",children:"Resolved"}),e.jsx("option",{value:"closed",children:"Closed"}),e.jsx("option",{value:"wont_fix",children:"Won't Fix"})]}),i.type==="bug_report"&&i.status==="open"&&e.jsxs("button",{onClick:()=>He(i.id),className:"px-3 py-1 rounded-lg bg-orange-500/20 text-orange-400 text-sm hover:bg-orange-500/30 flex items-center gap-1",children:[e.jsx(_,{className:"w-4 h-4"}),"Confirm & Auto-Fix"]}),i.autoFixStatus&&e.jsxs("span",{className:`px-2 py-1 rounded text-xs ${i.autoFixStatus==="completed"?"bg-green-500/20 text-green-400":i.autoFixStatus==="failed"?"bg-red-500/20 text-red-400":i.autoFixStatus==="in_progress"?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:["Auto-fix: ",i.autoFixStatus]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-lg",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-violet-500 to-fuchsia-500 flex items-center justify-center text-white font-bold",children:i.user?.username?.charAt(0).toUpperCase()||"?"}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:["@",i.user?.username]}),e.jsx("div",{className:"text-xs text-gray-400",children:new Date(i.createdAt).toLocaleString()})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-1",children:"Description"}),e.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:i.description})]}),i.type==="bug_report"&&e.jsxs(e.Fragment,{children:[i.stepsToReproduce&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-1",children:"Steps to Reproduce"}),e.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:i.stepsToReproduce})]}),i.expectedBehavior&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-1",children:"Expected Behavior"}),e.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:i.expectedBehavior})]}),i.actualBehavior&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-1",children:"Actual Behavior"}),e.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:i.actualBehavior})]})]}),(i.platform||i.userAgent)&&e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[i.platform&&e.jsxs("div",{className:"p-2 bg-white/5 rounded",children:[e.jsx("span",{className:"text-gray-500",children:"Platform:"})," ",i.platform]}),i.appVersion&&e.jsxs("div",{className:"p-2 bg-white/5 rounded",children:[e.jsx("span",{className:"text-gray-500",children:"Version:"})," ",i.appVersion]})]}),i.adminNotes&&e.jsxs("div",{className:"p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:[e.jsxs("h4",{className:"text-sm font-medium text-yellow-400 mb-1 flex items-center gap-1",children:[e.jsx(I,{className:"w-4 h-4"}),"Admin Notes (Internal)"]}),e.jsx("p",{className:"text-gray-300 text-sm",children:i.adminNotes})]}),i.responses?.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Conversation"}),e.jsx("div",{className:"space-y-2",children:i.responses.map(s=>e.jsxs("div",{className:`p-3 rounded-lg ${s.isInternal?"bg-yellow-500/10 border border-yellow-500/20":s.responderType==="admin"?"bg-violet-500/10 border border-violet-500/20":s.responderType==="system"?"bg-gray-500/10 border border-gray-500/20":"bg-white/5"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 text-xs text-gray-400",children:[e.jsx("span",{className:"font-medium",children:s.responderType==="system"?"System":s.responderType==="admin"?`Admin (${s.responderUsername||"Unknown"})`:`@${s.responderUsername||"User"}`}),s.isInternal&&e.jsx("span",{className:"text-yellow-400",children:"(Internal)"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:new Date(s.createdAt).toLocaleString()})]}),e.jsx("p",{className:"text-gray-300 text-sm",children:s.message})]},s.id))})]}),i.agentJobs?.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-400 mb-2 flex items-center gap-1",children:[e.jsx(_,{className:"w-4 h-4"}),"Auto-Fix Jobs"]}),e.jsx("div",{className:"space-y-2",children:i.agentJobs.map(s=>e.jsxs("div",{className:"p-3 bg-white/5 rounded-lg text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${s.status==="completed"?"bg-green-500/20 text-green-400":s.status==="failed"?"bg-red-500/20 text-red-400":s.status==="running"?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:s.status}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(s.createdAt).toLocaleString()})]}),s.filesModified?.length>0&&e.jsxs("div",{className:"text-xs text-gray-400 mb-1",children:["Files: ",s.filesModified.join(", ")]}),s.deployed&&s.deployCommit&&e.jsxs("div",{className:"text-xs text-green-400",children:["Deployed: ",s.deployCommit]}),s.errorMessage&&e.jsxs("div",{className:"text-xs text-red-400 mt-1",children:["Error: ",s.errorMessage]})]},s.id))})]}),e.jsxs("div",{className:"border-t border-white/10 pt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Add Response"}),e.jsx("textarea",{value:te,onChange:s=>Me(s.target.value),placeholder:"Type your response...",className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-sm resize-none h-24 focus:outline-none focus:border-violet-500"}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-400 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Pe,onChange:s=>Oe(s.target.checked),className:"rounded bg-white/10 border-white/20"}),"Internal note (not visible to user)"]}),e.jsxs("button",{onClick:ws,disabled:!te.trim(),className:"px-4 py-2 bg-violet-500 hover:bg-violet-600 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg text-sm flex items-center gap-2",children:[e.jsx(Ke,{className:"w-4 h-4"}),"Send"]})]})]})]})]})}),l==="bug-tracker"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 border-b border-white/10 pb-4",children:[e.jsxs("button",{onClick:()=>Ie("errors"),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 ${ae==="errors"?"bg-violet-500 text-white":"bg-white/10 text-gray-400 hover:bg-white/20"}`,children:[e.jsx(I,{className:"w-4 h-4"}),"Cockatrice Errors",k?.totals?.unresolved>0&&e.jsx("span",{className:"px-1.5 py-0.5 bg-red-500 text-white text-xs rounded-full",children:k.totals.unresolved})]}),e.jsxs("button",{onClick:()=>Ie("bugs"),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 ${ae==="bugs"?"bg-violet-500 text-white":"bg-white/10 text-gray-400 hover:bg-white/20"}`,children:[e.jsx(A,{className:"w-4 h-4"}),"Bug Reports",u?.totals?.open>0&&e.jsx("span",{className:"px-1.5 py-0.5 bg-orange-500 text-white text-xs rounded-full",children:u.totals.open})]}),e.jsx("div",{className:"flex-1"}),e.jsxs("button",{onClick:ks,disabled:pe,className:"px-4 py-2 bg-orange-500/20 text-orange-400 hover:bg-orange-500/30 rounded-lg text-sm flex items-center gap-2 disabled:opacity-50",children:[e.jsx(h,{className:`w-4 h-4 ${pe?"animate-spin":""}`}),pe?"Syncing...":"Sync to Bug Reports"]})]}),ae==="errors"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsx(x,{title:"Total Errors",value:k?.totals?.total||0,icon:I,color:"#ef4444"}),e.jsx(x,{title:"Unresolved",value:k?.totals?.unresolved||0,icon:I,color:"#f59e0b",onClick:()=>z({...p,status:"new"})}),e.jsx(x,{title:"Resolved",value:k?.totals?.resolved||0,icon:G,color:"#10b981",onClick:()=>z({...p,status:"resolved"})}),e.jsx(x,{title:"Today",value:k?.totals?.today||0,icon:fe,color:"#06b6d4"}),e.jsx(x,{title:"Affected Users",value:k?.totals?.uniqueUsersThisWeek||0,icon:K,color:"#8b5cf6"})]}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:Object.entries(k?.byType||{}).map(([s,a])=>e.jsxs("button",{onClick:()=>z({...p,type:p.type===s?"all":s}),className:`px-3 py-1 rounded-full text-xs transition-colors ${p.type===s?"bg-violet-500 text-white":"bg-white/10 text-gray-400 hover:bg-white/20"}`,children:[s," (",a,")"]},s))}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[["all","critical","high","medium","low"].map(s=>e.jsxs("button",{onClick:()=>z({...p,severity:s}),className:`px-3 py-1 rounded-lg text-xs transition-colors ${p.severity===s?s==="critical"?"bg-red-500 text-white":s==="high"?"bg-orange-500 text-white":s==="medium"?"bg-yellow-500 text-black":s==="low"?"bg-blue-500 text-white":"bg-violet-500 text-white":"bg-white/10 text-gray-400 hover:bg-white/20"}`,children:[s.charAt(0).toUpperCase()+s.slice(1)," ",k?.bySeverity?.[s]?`(${k.bySeverity[s]})`:""]},s)),(p.status!=="all"||p.severity!=="all"||p.type!=="all")&&e.jsx("button",{onClick:()=>z({status:"all",severity:"all",type:"all"}),className:"px-3 py-1 rounded-full text-xs bg-red-500/20 text-red-400 hover:bg-red-500/30",children:"Clear filters"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs(d,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-semibold",children:["Frontend Errors (",ue.length,")"]}),e.jsx("button",{onClick:()=>{P(),W()},className:"p-2 rounded-lg hover:bg-white/10",children:e.jsx(h,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:ue.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(I,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No frontend errors captured"}),e.jsx("p",{className:"text-sm mt-2",children:"When users encounter errors, they will appear here"})]}):ue.map(s=>e.jsx("div",{className:`p-3 bg-white/5 rounded-lg hover:bg-white/10 transition-colors cursor-pointer ${g?.id===s.id?"ring-2 ring-violet-500":""}`,onClick:()=>fs(s),children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${s.severity==="critical"?"bg-red-500":s.severity==="high"?"bg-orange-500":s.severity==="medium"?"bg-yellow-500":"bg-blue-500"}`}),e.jsx("span",{className:"font-medium text-sm truncate",children:s.message})]}),e.jsx("div",{className:"text-xs text-gray-400 truncate",children:s.url}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-gray-500",children:[e.jsx("span",{className:"px-1.5 py-0.5 rounded bg-red-500/20 text-red-400",children:s.type}),s.username&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsx(v,{to:`/profile/${s.username}`,onClick:a=>a.stopPropagation(),className:"text-violet-400 hover:text-violet-300 hover:underline",children:s.username})]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:new Date(s.errorAt).toLocaleString()})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-1",children:[e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${s.status==="new"?"bg-blue-500/20 text-blue-400":s.status==="resolved"?"bg-green-500/20 text-green-400":s.status==="converted"?"bg-violet-500/20 text-violet-400":"bg-gray-500/20 text-gray-400"}`,children:s.status}),s.status!=="converted"&&s.status!=="resolved"&&e.jsx("button",{onClick:a=>{a.stopPropagation(),We(s.id)},className:"px-2 py-0.5 rounded text-xs bg-orange-500/20 text-orange-400 hover:bg-orange-500/30",children:"→ Bug"})]})]})},s.id))})]})}),e.jsx("div",{children:e.jsxs(d,{className:"p-4",children:[e.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[e.jsx(ot,{className:"w-4 h-4 text-violet-400"}),"Error Details"]}),g?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs text-gray-500 mb-1",children:"Message"}),e.jsx("p",{className:"text-sm text-gray-300",children:g.message})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs text-gray-500 mb-1",children:"Type"}),e.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-500/20 text-red-400",children:g.type})]}),g.username&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs text-gray-500 mb-1",children:"User"}),e.jsxs(v,{to:`/profile/${g.username}`,className:"text-sm text-violet-400 hover:text-violet-300 hover:underline flex items-center gap-1",children:[g.username,e.jsx(S,{className:"w-3 h-3"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs text-gray-500 mb-1",children:"URL"}),e.jsx("a",{href:g.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-violet-400 hover:underline break-all",children:g.url})]}),g.componentName&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs text-gray-500 mb-1",children:"Component"}),e.jsx("code",{className:"text-xs text-gray-300 bg-black/30 px-2 py-1 rounded",children:g.componentName})]}),g.stack&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs text-gray-500 mb-1",children:"Stack Trace"}),e.jsx("pre",{className:"text-xs text-gray-400 bg-black/30 p-2 rounded max-h-40 overflow-auto whitespace-pre-wrap",children:g.stack})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs text-gray-500 mb-1",children:"Occurred"}),e.jsx("p",{className:"text-xs text-gray-400",children:new Date(g.errorAt).toLocaleString()})]}),g.status!=="converted"&&g.status!=="resolved"&&e.jsx("button",{onClick:()=>We(g.id),className:"w-full px-3 py-2 rounded-lg bg-orange-500/20 text-orange-400 hover:bg-orange-500/30 text-sm",children:"Convert to Bug Report"})]}):e.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"Select an error to view details"})]})})]})]}),ae==="bugs"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsx(x,{title:"Total Bugs",value:u?.totals?.total||0,icon:A,color:"#8b5cf6"}),e.jsx(x,{title:"Open",value:u?.totals?.open||0,icon:I,color:"#ef4444",onClick:()=>B({...m,status:"open"})}),e.jsx(x,{title:"Resolved",value:u?.totals?.resolved||0,icon:G,color:"#10b981",onClick:()=>B({...m,status:"resolved"})}),e.jsx(x,{title:"Auto-Fixed",value:u?.autoFix?.completed||0,icon:_,color:"#f59e0b"}),e.jsx(x,{title:"Today",value:u?.totals?.today||0,icon:fe,color:"#06b6d4"})]}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:Object.entries(u?.bySource||{}).map(([s,a])=>e.jsxs("button",{onClick:()=>B({...m,source:m.source===s?"all":s}),className:`px-3 py-1 rounded-full text-xs transition-colors ${m.source===s?"bg-violet-500 text-white":"bg-white/10 text-gray-400 hover:bg-white/20"}`,children:[s," (",a,")"]},s))}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:["all","critical","high","medium","low"].map(s=>e.jsxs("button",{onClick:()=>B({...m,priority:s}),className:`px-3 py-1 rounded-lg text-xs transition-colors ${m.priority===s?s==="critical"?"bg-red-500 text-white":s==="high"?"bg-orange-500 text-white":s==="medium"?"bg-yellow-500 text-black":s==="low"?"bg-blue-500 text-white":"bg-violet-500 text-white":"bg-white/10 text-gray-400 hover:bg-white/20"}`,children:[s.charAt(0).toUpperCase()+s.slice(1)," ",u?.byPriority?.[s]?`(${u.byPriority[s]})`:""]},s))}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[["all","open","in_progress","confirmed","resolved","closed","wont_fix"].map(s=>e.jsxs("button",{onClick:()=>B({...m,status:s}),className:`px-3 py-1 rounded-full text-xs transition-colors ${m.status===s?"bg-violet-500 text-white":"bg-white/10 text-gray-400 hover:bg-white/20"}`,children:[s.replace("_"," ")," ",u?.byStatus?.[s]?`(${u.byStatus[s]})`:""]},s)),(m.status!=="all"||m.source!=="all"||m.priority!=="all")&&e.jsx("button",{onClick:()=>B({status:"all",source:"all",priority:"all"}),className:"px-3 py-1 rounded-full text-xs bg-red-500/20 text-red-400 hover:bg-red-500/30",children:"Clear filters"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs(d,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-semibold",children:["Bug List (",me.length,")"]}),e.jsx("button",{onClick:()=>{C(),M()},className:"p-2 rounded-lg hover:bg-white/10",children:e.jsx(h,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:me.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(A,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No bugs found"}),e.jsx("p",{className:"text-sm mt-2",children:'Click "Sync Bug Hunter" to import discovered bugs'})]}):me.map(s=>e.jsx("div",{className:"p-3 bg-white/5 rounded-lg hover:bg-white/10 transition-colors cursor-pointer",onClick:()=>be(s.id),children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${s.priority==="critical"?"bg-red-500":s.priority==="high"?"bg-orange-500":s.priority==="medium"?"bg-yellow-500":"bg-blue-500"}`}),e.jsx("span",{className:"font-medium truncate",children:s.title})]}),e.jsx("div",{className:"text-sm text-gray-400 truncate",children:s.pageUrl||s.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-gray-500",children:[e.jsx("span",{className:`px-1.5 py-0.5 rounded ${s.source==="bug_hunter"?"bg-orange-500/20 text-orange-400":s.source==="user"?"bg-blue-500/20 text-blue-400":"bg-gray-500/20 text-gray-400"}`,children:s.source}),e.jsx("span",{children:"•"}),e.jsx("span",{children:new Date(s.createdAt).toLocaleDateString()}),s.resolution&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsx(G,{className:"w-3 h-3 text-green-400"}),e.jsxs("span",{className:"text-green-400",children:["Fixed ",new Date(s.resolution.resolvedAt).toLocaleDateString()]})]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${s.status==="open"?"bg-blue-500/20 text-blue-400":s.status==="in_progress"?"bg-yellow-500/20 text-yellow-400":s.status==="confirmed"?"bg-orange-500/20 text-orange-400":s.status==="resolved"?"bg-green-500/20 text-green-400":s.status==="closed"?"bg-gray-500/20 text-gray-400":"bg-red-500/20 text-red-400"}`,children:s.status})})]})},s.id))})]})}),e.jsxs("div",{children:[e.jsxs(d,{className:"p-4",children:[e.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[e.jsx(L,{className:"w-4 h-4 text-violet-400"}),"Recent Activity"]}),e.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:Ue.length===0?e.jsx("div",{className:"text-center py-4 text-gray-400 text-sm",children:"No activity yet"}):Ue.map(s=>e.jsxs("div",{className:"flex gap-3 text-sm",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-1.5 flex-shrink-0 ${s.action==="created"?"bg-blue-500":s.action==="resolved"?"bg-green-500":s.action==="status_changed"?"bg-yellow-500":"bg-gray-500"}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-gray-300 truncate",children:s.bugTitle}),e.jsxs("div",{className:"text-gray-500 text-xs",children:[s.action.replace("_"," ")," by ",s.actorUsername||s.actorType]}),e.jsx("div",{className:"text-gray-600 text-xs",children:new Date(s.createdAt).toLocaleString()})]})]},s.id))})]}),u?.avgResolutionTimeHours>0&&e.jsxs(d,{className:"p-4 mt-4",children:[e.jsx("h3",{className:"font-semibold mb-3 text-sm",children:"Resolution Metrics"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Avg. Time to Fix"}),e.jsxs("span",{className:"font-medium",children:[u.avgResolutionTimeHours.toFixed(1),"h"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Auto-Fix Success"}),e.jsxs("span",{className:"font-medium text-green-400",children:[u?.autoFix?.completed||0," / ",(u?.autoFix?.completed||0)+(u?.autoFix?.failed||0)]})]})]})]})]})]})]})]}),gs&&r&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70",children:e.jsxs("div",{className:"bg-[#0f0f15] border border-white/10 rounded-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-[#0f0f15] border-b border-white/10 p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(A,{className:`w-5 h-5 ${r.priority==="critical"?"text-red-500":r.priority==="high"?"text-orange-500":r.priority==="medium"?"text-yellow-500":"text-blue-500"}`}),e.jsx("h2",{className:"font-bold text-lg truncate",children:r.title})]}),e.jsx("button",{onClick:()=>{he(!1),Le(null)},className:"p-2 rounded-lg hover:bg-white/10",children:e.jsx(Xe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs("select",{value:r.status,onChange:s=>_s(r.id,s.target.value),className:"bg-white/10 border border-white/10 rounded-lg px-3 py-1 text-sm",children:[e.jsx("option",{value:"open",children:"Open"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"confirmed",children:"Confirmed"}),e.jsx("option",{value:"resolved",children:"Resolved"}),e.jsx("option",{value:"closed",children:"Closed"}),e.jsx("option",{value:"wont_fix",children:"Won't Fix"})]}),e.jsx("span",{className:`px-2 py-1 rounded text-xs ${r.priority==="critical"?"bg-red-500/20 text-red-400":r.priority==="high"?"bg-orange-500/20 text-orange-400":r.priority==="medium"?"bg-yellow-500/20 text-yellow-400":"bg-blue-500/20 text-blue-400"}`,children:r.priority}),e.jsx("span",{className:"px-2 py-1 rounded text-xs bg-white/10 text-gray-400",children:r.source}),r.status!=="resolved"&&r.status!=="closed"&&e.jsx("button",{onClick:()=>Cs(r.id,"manual_fix","Resolved manually"),className:"px-3 py-1 rounded-lg bg-green-500/20 text-green-400 text-sm hover:bg-green-500/30",children:"Mark Resolved"})]}),r.pageUrl&&e.jsxs("div",{className:"p-3 bg-white/5 rounded-lg",children:[e.jsx("h4",{className:"text-xs text-gray-500 mb-1",children:"URL"}),e.jsx("a",{href:r.pageUrl,target:"_blank",rel:"noopener noreferrer",className:"text-violet-400 hover:underline text-sm break-all",children:r.pageUrl})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-1",children:"Description"}),e.jsx("p",{className:"text-gray-300 whitespace-pre-wrap text-sm",children:r.description})]}),r.rootCause&&e.jsxs("div",{className:"p-3 bg-orange-500/10 border border-orange-500/20 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-orange-400 mb-2",children:"Root Cause Analysis"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Type:"})," ",e.jsx("span",{className:"text-gray-300",children:r.rootCause.type})]}),r.rootCause.file&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"File:"})," ",e.jsx("code",{className:"text-gray-300 bg-black/30 px-1 rounded",children:r.rootCause.file})]}),r.rootCause.hypothesis&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Hypothesis:"})," ",e.jsx("span",{className:"text-gray-300",children:r.rootCause.hypothesis})]})]})]}),r.consoleErrors?.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Console Errors"}),e.jsx("div",{className:"bg-black/30 rounded-lg p-3 max-h-40 overflow-y-auto",children:r.consoleErrors.map((s,a)=>e.jsx("div",{className:"text-xs text-red-400 font-mono mb-1",children:s},a))})]}),r.networkErrors?.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Network Errors"}),e.jsx("div",{className:"bg-black/30 rounded-lg p-3 max-h-40 overflow-y-auto",children:r.networkErrors.map((s,a)=>e.jsx("div",{className:"text-xs text-yellow-400 font-mono mb-1",children:s},a))})]}),r.resolution&&e.jsxs("div",{className:"p-3 bg-green-500/10 border border-green-500/20 rounded-lg",children:[e.jsxs("h4",{className:"text-sm font-medium text-green-400 mb-2 flex items-center gap-2",children:[e.jsx(G,{className:"w-4 h-4"}),"Resolution Details"]}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Resolved:"})," ",e.jsx("span",{className:"text-gray-300",children:new Date(r.resolution.resolvedAt).toLocaleString()})]}),r.resolution.resolvedBy&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"By:"})," ",e.jsxs("span",{className:"text-gray-300",children:["@",r.resolution.resolvedBy]})]}),r.resolution.type&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Type:"})," ",e.jsx("span",{className:"text-gray-300",children:r.resolution.type.replace("_"," ")})]}),r.resolution.notes&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Notes:"})," ",e.jsx("span",{className:"text-gray-300",children:r.resolution.notes})]}),r.resolution.commit&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Commit:"})," ",e.jsx("code",{className:"text-gray-300 bg-black/30 px-1 rounded",children:r.resolution.commit})]}),r.resolution.prUrl&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"PR:"})," ",e.jsx("a",{href:r.resolution.prUrl,className:"text-violet-400 hover:underline",children:r.resolution.prUrl})]})]})]}),r.history?.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"History"}),e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:r.history.map(s=>e.jsxs("div",{className:"flex gap-3 text-sm p-2 bg-white/5 rounded",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-1.5 flex-shrink-0 ${s.action==="created"?"bg-blue-500":s.action==="resolved"?"bg-green-500":s.action==="status_changed"?"bg-yellow-500":"bg-gray-500"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"text-gray-300",children:[e.jsx("span",{className:"font-medium",children:s.actorUsername||s.actorType})," ",s.action.replace("_"," "),s.previousValue&&s.newValue&&e.jsxs("span",{className:"text-gray-500",children:[" from ",s.previousValue," to ",s.newValue]})]}),e.jsx("div",{className:"text-gray-500 text-xs",children:new Date(s.createdAt).toLocaleString()})]})]},s.id))})]}),r.relatedBugs?.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Related Bugs"}),e.jsx("div",{className:"space-y-1",children:r.relatedBugs.map(s=>e.jsxs("div",{className:"text-sm p-2 bg-white/5 rounded hover:bg-white/10 cursor-pointer",onClick:()=>be(s.id),children:[e.jsx("span",{className:`inline-block w-2 h-2 rounded-full mr-2 ${s.status==="resolved"?"bg-green-500":"bg-blue-500"}`}),s.title]},s.id))})]})]})]})}),l==="metrics"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ne,{className:"w-16 h-16 text-violet-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold mb-2",children:"System Metrics"}),e.jsx("p",{className:"text-gray-400 mb-4",children:"View detailed system performance metrics"}),e.jsxs(v,{to:"/admin/metrics",className:"inline-flex items-center gap-2 px-6 py-3 bg-violet-500 hover:bg-violet-600 rounded-lg transition-colors",children:["Open Metrics Dashboard ",e.jsx(Q,{className:"w-4 h-4"})]})]})}),l==="users"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"User Management"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"text-sm text-gray-400",children:[T.length," users"]})})]}),e.jsx("div",{className:"grid gap-3",children:T.filter(s=>!se||s.username?.toLowerCase().includes(se.toLowerCase())||s.email?.toLowerCase().includes(se.toLowerCase())).map(s=>e.jsx(Ze,{user:s,onAction:Qe},s.id))})]}),l==="community"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(d,{className:"p-4",children:[e.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[e.jsx(L,{className:"w-5 h-5 text-green-400"}),"Live Activity"]}),e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(ss,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"Activity feed loading..."})]})]}),e.jsxs(d,{className:"p-4",children:[e.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[e.jsx(es,{className:"w-5 h-5 text-blue-400"}),"Community Stats"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between p-3 bg-white/5 rounded-lg",children:[e.jsx("span",{children:"Total Workouts"}),e.jsx("span",{className:"font-bold",children:"12,847"})]}),e.jsxs("div",{className:"flex justify-between p-3 bg-white/5 rounded-lg",children:[e.jsx("span",{children:"Active Today"}),e.jsx("span",{className:"font-bold",children:"234"})]}),e.jsxs("div",{className:"flex justify-between p-3 bg-white/5 rounded-lg",children:[e.jsx("span",{children:"Achievements Earned"}),e.jsx("span",{className:"font-bold",children:"5,421"})]})]})]})]}),e.jsx("div",{className:"text-center",children:e.jsxs(v,{to:"/community",className:"inline-flex items-center gap-2 px-6 py-3 bg-violet-500 hover:bg-violet-600 rounded-lg transition-colors",children:["Open Community Dashboard ",e.jsx(Q,{className:"w-4 h-4"})]})})]}),l==="messages"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(d,{className:"p-4",children:[e.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[e.jsx(ls,{className:"w-5 h-5 text-blue-400"}),"Recent Conversations"]}),Te.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(ie,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No conversations yet"})]}):e.jsx("div",{className:"space-y-2",children:Te.slice(0,10).map(s=>e.jsxs(v,{to:`/messages?conversation=${s.id}`,className:"block p-3 bg-white/5 rounded-lg hover:bg-white/10 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"font-medium text-sm",children:s.participant?.displayName||s.participant?.username||"Unknown"}),s.unreadCount>0&&e.jsx("span",{className:"bg-violet-500 text-white text-xs px-2 py-0.5 rounded-full",children:s.unreadCount})]}),e.jsx("div",{className:"text-sm text-gray-400 truncate",children:s.content}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:s.createdAt?new Date(s.createdAt).toLocaleDateString():"Just now"})]},s.id))})]}),e.jsx("div",{className:"text-center",children:e.jsxs(v,{to:"/messages",className:"inline-flex items-center gap-2 px-6 py-3 bg-violet-500 hover:bg-violet-600 rounded-lg transition-colors",children:["Open Messages ",e.jsx(Q,{className:"w-4 h-4"})]})})]}),l==="economy"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(x,{title:"Total Credits",value:"∞",icon:ts,color:"#fbbf24"}),e.jsx(x,{title:"Credits Gifted",value:Ee?.totalGifted||0,icon:Z,color:"#10b981"}),e.jsx(x,{title:"Transactions",value:Ee?.totalTransactions||0,icon:L,color:"#06b6d4"}),e.jsx(x,{title:"Active Wallets",value:T.length,icon:Vs,color:"#8b5cf6"})]}),e.jsxs(d,{className:"p-4",children:[e.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[e.jsx(Z,{className:"w-5 h-5 text-green-400"}),"Quick Gift"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("input",{type:"text",placeholder:"Search user...",className:"flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-violet-500"}),e.jsx("input",{type:"number",placeholder:"Amount",value:V,onChange:s=>xe(parseInt(s.target.value)||0),className:"w-32 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-violet-500"}),e.jsxs("button",{className:"px-4 py-2 bg-green-500 hover:bg-green-600 rounded-lg transition-colors flex items-center gap-2",children:[e.jsx(Ke,{className:"w-4 h-4"})," Send"]})]})]})]}),l==="avatar"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(d,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"w-32 h-32 rounded-2xl bg-gradient-to-br from-yellow-500 via-orange-500 to-red-500 flex items-center justify-center text-white text-4xl font-bold shadow-2xl shadow-orange-500/30",children:o?.username?.charAt(0).toUpperCase()||"?"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h2",{className:"text-2xl font-bold",children:o?.displayName||o?.username}),e.jsx(X,{className:"w-6 h-6 text-yellow-400"})]}),e.jsx("div",{className:"text-gray-400 mb-3",children:o?.email}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-yellow-500/20 text-yellow-400 rounded-full text-sm",children:[e.jsx(_e,{className:"w-4 h-4"})," Unlimited Credits"]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-violet-500/20 text-violet-400 rounded-full text-sm",children:[e.jsx(_,{className:"w-4 h-4"})," All Powers"]})]})]})]})}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs(d,{className:"p-4 text-center",children:[e.jsx(qs,{className:"w-10 h-10 text-yellow-400 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold",children:"∞"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Achievements"})]}),e.jsxs(d,{className:"p-4 text-center",children:[e.jsx(zs,{className:"w-10 h-10 text-orange-400 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold",children:"MAX"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Level"})]}),e.jsxs(d,{className:"p-4 text-center",children:[e.jsx(Hs,{className:"w-10 h-10 text-violet-400 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold",children:"Owner"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Rank"})]})]}),e.jsxs(d,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Owner Powers"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Ye.map(s=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-lg",children:[e.jsx(s.icon,{className:"w-5 h-5",style:{color:s.color}}),e.jsx("span",{className:"text-sm",children:s.name}),e.jsx(G,{className:"w-4 h-4 text-green-400 ml-auto"})]},s.id))})]})]}),l==="slack"&&e.jsx("div",{className:"space-y-6",children:e.jsxs(d,{className:"p-6 text-center",children:[e.jsx(Ce,{className:"w-16 h-16 text-[#4A154B] mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold mb-2",children:"Slack Integration"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Connect to your MuscleMap.ME Slack channel"}),cs?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-400",children:[e.jsx(G,{className:"w-5 h-5"}),e.jsx("span",{children:"Connected to #musclemap-me"})]}),e.jsx("div",{className:"max-w-md mx-auto space-y-2",children:ns.map((s,a)=>e.jsxs("div",{className:"p-3 bg-white/5 rounded-lg text-left",children:[e.jsx("div",{className:"text-sm",children:s.text}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[s.user," · ",s.time]})]},a))})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"To integrate Slack, you'll need to create a Slack App and add its webhook URL."}),e.jsx("input",{type:"text",placeholder:"Slack Webhook URL",className:"w-full max-w-md bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-sm focus:outline-none focus:border-violet-500"}),e.jsxs("button",{className:"px-6 py-3 bg-[#4A154B] hover:bg-[#611f69] rounded-lg transition-colors flex items-center gap-2 mx-auto",children:[e.jsx(Ce,{className:"w-5 h-5"})," Connect Slack"]})]})]})}),l==="analytics"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(d,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(ke,{className:"w-5 h-5 text-blue-400"}),"Google Analytics 4"]}),e.jsx("span",{className:"text-xs text-gray-500 font-mono",children:O})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("a",{href:`https://analytics.google.com/analytics/web/#/p${O.replace("G-","")}/reports/reportinghub`,target:"_blank",rel:"noopener noreferrer",className:"p-4 bg-white/5 hover:bg-white/10 rounded-lg transition-colors flex items-center gap-3 group",children:[e.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:e.jsx(ne,{className:"w-5 h-5 text-blue-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:"Reports Overview"}),e.jsx("div",{className:"text-xs text-gray-500",children:"View all reports"})]}),e.jsx(S,{className:"w-4 h-4 text-gray-500 group-hover:text-white transition-colors"})]}),e.jsxs("a",{href:`https://analytics.google.com/analytics/web/#/p${O.replace("G-","")}/reports/dashboard?params=_u..nav%3Dmaui`,target:"_blank",rel:"noopener noreferrer",className:"p-4 bg-white/5 hover:bg-white/10 rounded-lg transition-colors flex items-center gap-3 group",children:[e.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:e.jsx(L,{className:"w-5 h-5 text-green-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:"Real-Time"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Live visitors"})]}),e.jsx(S,{className:"w-4 h-4 text-gray-500 group-hover:text-white transition-colors"})]}),e.jsxs("a",{href:`https://analytics.google.com/analytics/web/#/p${O.replace("G-","")}/reports/acquisition-overview`,target:"_blank",rel:"noopener noreferrer",className:"p-4 bg-white/5 hover:bg-white/10 rounded-lg transition-colors flex items-center gap-3 group",children:[e.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:e.jsx(K,{className:"w-5 h-5 text-purple-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:"User Acquisition"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Traffic sources"})]}),e.jsx(S,{className:"w-4 h-4 text-gray-500 group-hover:text-white transition-colors"})]}),e.jsxs("a",{href:`https://analytics.google.com/analytics/web/#/p${O.replace("G-","")}/reports/engagement-overview`,target:"_blank",rel:"noopener noreferrer",className:"p-4 bg-white/5 hover:bg-white/10 rounded-lg transition-colors flex items-center gap-3 group",children:[e.jsx("div",{className:"p-2 bg-yellow-500/20 rounded-lg",children:e.jsx(Js,{className:"w-5 h-5 text-yellow-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:"Engagement"}),e.jsx("div",{className:"text-xs text-gray-500",children:"User behavior"})]}),e.jsx(S,{className:"w-4 h-4 text-gray-500 group-hover:text-white transition-colors"})]}),e.jsxs("a",{href:`https://analytics.google.com/analytics/web/#/p${O.replace("G-","")}/reports/retention-overview`,target:"_blank",rel:"noopener noreferrer",className:"p-4 bg-white/5 hover:bg-white/10 rounded-lg transition-colors flex items-center gap-3 group",children:[e.jsx("div",{className:"p-2 bg-pink-500/20 rounded-lg",children:e.jsx(h,{className:"w-5 h-5 text-pink-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:"Retention"}),e.jsx("div",{className:"text-xs text-gray-500",children:"User return rate"})]}),e.jsx(S,{className:"w-4 h-4 text-gray-500 group-hover:text-white transition-colors"})]}),e.jsxs("a",{href:`https://analytics.google.com/analytics/web/#/p${O.replace("G-","")}/reports/explorer-events`,target:"_blank",rel:"noopener noreferrer",className:"p-4 bg-white/5 hover:bg-white/10 rounded-lg transition-colors flex items-center gap-3 group",children:[e.jsx("div",{className:"p-2 bg-cyan-500/20 rounded-lg",children:e.jsx(_,{className:"w-5 h-5 text-cyan-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:"Events"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Custom events"})]}),e.jsx(S,{className:"w-4 h-4 text-gray-500 group-hover:text-white transition-colors"})]})]})]}),e.jsxs(d,{className:"p-4",children:[e.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[e.jsx(_,{className:"w-5 h-5 text-cyan-400"}),"Tracked Events"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[{name:"sign_up",description:"User registration",color:"green"},{name:"login",description:"User login",color:"blue"},{name:"page_view",description:"Page navigation",color:"purple"},{name:"workout_complete",description:"Workout finished",color:"yellow"},{name:"archetype_selected",description:"Archetype chosen",color:"pink"},{name:"community_join",description:"Joined community",color:"cyan"},{name:"achievement_unlocked",description:"Achievement earned",color:"orange"},{name:"level_up",description:"Level increased",color:"violet"},{name:"credits_purchased",description:"Credits bought",color:"emerald"}].map(s=>e.jsxs("div",{className:"p-3 bg-white/5 rounded-lg flex items-center gap-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full bg-${s.color}-400`}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-mono",children:s.name}),e.jsx("div",{className:"text-xs text-gray-500",children:s.description})]})]},s.name))})]}),e.jsx(d,{className:"p-4 border border-blue-500/20",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:e.jsx(ke,{className:"w-5 h-5 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-1",children:"About Google Analytics Integration"}),e.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"MuscleMap tracks user behavior with GA4 to help understand how people use the app. Page views, signups, logins, and key actions are automatically tracked."}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("a",{href:"https://analytics.google.com/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm text-blue-400 hover:text-blue-300",children:["Open GA4 Dashboard ",e.jsx(S,{className:"w-3 h-3"})]}),e.jsx("span",{className:"text-gray-600",children:"|"}),e.jsxs("a",{href:"https://support.google.com/analytics/answer/9304153",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm text-gray-400 hover:text-gray-300",children:["GA4 Documentation ",e.jsx(S,{className:"w-3 h-3"})]})]})]})]})})]}),l==="settings"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(d,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Empire Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsx("span",{children:"Maintenance Mode"}),e.jsx("button",{className:"px-3 py-1 bg-white/10 rounded text-sm",children:"Disabled"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsx("span",{children:"New User Registration"}),e.jsx("button",{className:"px-3 py-1 bg-green-500/20 text-green-400 rounded text-sm",children:"Enabled"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsx("span",{children:"API Rate Limiting"}),e.jsx("button",{className:"px-3 py-1 bg-green-500/20 text-green-400 rounded text-sm",children:"Enabled"})]})]})]}),e.jsxs("div",{className:"flex gap-4 flex-wrap",children:[e.jsx(v,{to:"/admin-control",className:"flex-1 min-w-[200px] text-center px-6 py-3 bg-white/10 hover:bg-white/20 rounded-lg transition-colors",children:"Admin Control Panel"}),e.jsx(v,{to:"/admin/monitoring",className:"flex-1 min-w-[200px] text-center px-6 py-3 bg-white/10 hover:bg-white/20 rounded-lg transition-colors",children:"System Monitoring"}),e.jsxs(v,{to:"/live",className:"flex-1 min-w-[200px] text-center px-6 py-3 bg-gradient-to-r from-blue-500/20 to-violet-500/20 hover:from-blue-500/30 hover:to-violet-500/30 border border-blue-500/30 rounded-lg transition-colors flex items-center justify-center gap-2",children:[e.jsx(L,{className:"w-4 h-4"}),"Live Activity"]})]})]})]})})]}),ds&&U&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs(d,{className:"p-6 w-full max-w-md mx-4",children:[e.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[e.jsx(Z,{className:"w-5 h-5 text-green-400"}),"Gift Credits"]}),e.jsxs("p",{className:"text-gray-400 mb-4",children:["Send credits to ",e.jsx("strong",{children:U.displayName||U.username})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Amount"}),e.jsx("input",{type:"number",value:V,onChange:s=>xe(parseInt(s.target.value)||0),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 focus:outline-none focus:border-violet-500"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>de(!1),className:"flex-1 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:Ss,className:"flex-1 px-4 py-2 bg-green-500 hover:bg-green-600 rounded-lg transition-colors",children:"Send Gift"})]})]})})]})}function Ot(o){const l={},N=o.split(`
`);for(const y of N){if(y.startsWith("#")||!y.trim())continue;const $=y.match(/^(\w+)(?:\{([^}]*)\})?\s+(.+)$/);if($){const[,j,R,ce]=$,ee=parseFloat(ce);if(l[j]||(l[j]=[]),R){const T={};R.split(",").forEach(oe=>{const[Se,Ae]=oe.split("=");T[Se]=Ae?.replace(/"/g,"")}),l[j].push({labels:T,value:ee})}else l[j].push({value:ee})}}return l}const aa=Object.freeze(Object.defineProperty({__proto__:null,default:Pt},Symbol.toStringTag,{value:"Module"}));export{aa as E,ls as M,vt as U};
