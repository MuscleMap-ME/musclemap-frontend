import{c as M}from"./three-vendor-BoD47aQL.js";import{V as S,Y as C}from"./index-BWXbdiCA.js";const g={dashboard:{id:"dashboard",name:"Command Center",description:"Your fitness dashboard - the heart of your journey",icon:"ðŸ ",route:"/dashboard",region:"central-hub",position:{x:500,y:400},tier:"common",isStarting:!0},profile:{id:"profile",name:"Hero Profile",description:"View and customize your warrior profile",icon:"ðŸ‘¤",route:"/profile",region:"central-hub",position:{x:450,y:450},tier:"common"},settings:{id:"settings",name:"Settings Keep",description:"Configure your preferences",icon:"âš™ï¸",route:"/settings",region:"central-hub",position:{x:550,y:450},tier:"common"},workout:{id:"workout",name:"Training Grounds",description:"Start a new workout session",icon:"ðŸ’ª",route:"/workout",region:"warrior-arena",position:{x:200,y:350},tier:"common"},exercises:{id:"exercises",name:"Exercise Library",description:"Browse all available exercises",icon:"ðŸ“–",route:"/exercises",region:"warrior-arena",position:{x:150,y:400},tier:"common"},journey:{id:"journey",name:"Hero Journey",description:"Your personalized training path",icon:"ðŸ—ºï¸",route:"/journey",region:"warrior-arena",position:{x:250,y:400},tier:"uncommon"},"pt-tests":{id:"pt-tests",name:"PT Test Arena",description:"Physical fitness test preparation",icon:"ðŸŽ–ï¸",route:"/pt-tests",region:"warrior-arena",position:{x:200,y:450},tier:"uncommon"},archetypes:{id:"archetypes",name:"Archetype Selection",description:"Choose your warrior class",icon:"ðŸ›¡ï¸",route:"/archetypes",region:"warrior-arena",position:{x:120,y:350},tier:"rare"},progression:{id:"progression",name:"Progress Peaks",description:"Track your overall progression",icon:"ðŸ“ˆ",route:"/progression",region:"progress-path",position:{x:300,y:550},tier:"common"},stats:{id:"stats",name:"Stats Shrine",description:"Detailed workout statistics",icon:"ðŸ“Š",route:"/stats",region:"progress-path",position:{x:250,y:580},tier:"common"},achievements:{id:"achievements",name:"Trophy Hall",description:"Your earned achievements",icon:"ðŸ†",route:"/achievements",region:"progress-path",position:{x:350,y:580},tier:"uncommon"},"personal-records":{id:"personal-records",name:"Records Monument",description:"Your personal bests",icon:"ðŸ¥‡",route:"/personal-records",region:"progress-path",position:{x:300,y:620},tier:"uncommon"},history:{id:"history",name:"History Archives",description:"Past workout history",icon:"ðŸ“œ",route:"/history",region:"progress-path",position:{x:220,y:530},tier:"common"},community:{id:"community",name:"Community Square",description:"Connect with other warriors",icon:"ðŸ‘¥",route:"/community",region:"guild-hall",position:{x:700,y:350},tier:"common"},crews:{id:"crews",name:"Crew Quarters",description:"Join or manage your crew",icon:"âš”ï¸",route:"/crews",region:"guild-hall",position:{x:650,y:400},tier:"uncommon"},rivals:{id:"rivals",name:"Rivals Arena",description:"Challenge your rivals",icon:"ðŸ¤º",route:"/rivals",region:"guild-hall",position:{x:750,y:400},tier:"uncommon"},competitions:{id:"competitions",name:"Competition Colosseum",description:"Join fitness competitions",icon:"ðŸ…",route:"/competitions",region:"guild-hall",position:{x:700,y:450},tier:"rare"},messages:{id:"messages",name:"Message Tower",description:"Your conversations",icon:"ðŸ’¬",route:"/messages",region:"guild-hall",position:{x:680,y:320},tier:"common"},leaderboard:{id:"leaderboard",name:"Hall of Champions",description:"Top performers leaderboard",icon:"ðŸ†",route:"/leaderboard",region:"guild-hall",position:{x:750,y:350},tier:"uncommon"},marketplace:{id:"marketplace",name:"Grand Bazaar",description:"Buy and sell items",icon:"ðŸ›’",route:"/marketplace",region:"market-district",position:{x:800,y:500},tier:"common"},wallet:{id:"wallet",name:"Treasury",description:"Your credits and transactions",icon:"ðŸ’°",route:"/wallet",region:"market-district",position:{x:750,y:530},tier:"common"},skins:{id:"skins",name:"Cosmetics Emporium",description:"Customize your appearance",icon:"ðŸŽ¨",route:"/skins",region:"market-district",position:{x:850,y:530},tier:"uncommon"},trading:{id:"trading",name:"Trading Post",description:"Trade with other users",icon:"ðŸ¤",route:"/trading",region:"market-district",position:{x:800,y:560},tier:"rare"},collection:{id:"collection",name:"Collection Vault",description:"Your collected items",icon:"ðŸ—ƒï¸",route:"/collection",region:"market-district",position:{x:780,y:480},tier:"uncommon"},health:{id:"wellness",name:"Wellness Sanctuary",description:"Track your wellness metrics",icon:"â¤ï¸",route:"/wellness",region:"wellness-springs",position:{x:200,y:150},tier:"common"},recovery:{id:"recovery",name:"Recovery Pool",description:"Recovery and rest tracking",icon:"ðŸ›",route:"/recovery",region:"wellness-springs",position:{x:150,y:180},tier:"uncommon"},goals:{id:"goals",name:"Goals Garden",description:"Set and track fitness goals",icon:"ðŸŽ¯",route:"/goals",region:"wellness-springs",position:{x:250,y:180},tier:"common"},nutrition:{id:"nutrition",name:"Nutrition Kitchen",description:"Track your nutrition",icon:"ðŸ¥—",route:"/nutrition",region:"wellness-springs",position:{x:200,y:210},tier:"uncommon"},sleep:{id:"sleep",name:"Rest Haven",description:"Sleep tracking and analysis",icon:"ðŸ˜´",route:"/sleep",region:"wellness-springs",position:{x:180,y:130},tier:"uncommon"},skills:{id:"skills",name:"Skills Academy",description:"Learn new fitness skills",icon:"ðŸ“š",route:"/skills",region:"scholars-tower",position:{x:700,y:550},tier:"common"},"martial-arts":{id:"martial-arts",name:"Martial Arts Dojo",description:"Combat sports training",icon:"ðŸ¥‹",route:"/martial-arts",region:"scholars-tower",position:{x:650,y:580},tier:"uncommon"},trainers:{id:"trainers",name:"Trainers Guild",description:"Find certified trainers",icon:"ðŸ‘¨â€ðŸ«",route:"/trainers",region:"scholars-tower",position:{x:750,y:580},tier:"rare"},docs:{id:"docs",name:"Knowledge Library",description:"Fitness guides and documentation",icon:"ðŸ“–",route:"/docs",region:"scholars-tower",position:{x:700,y:610},tier:"common"},tutorials:{id:"tutorials",name:"Tutorial Chamber",description:"Learn the basics",icon:"ðŸŽ“",route:"/tutorials",region:"scholars-tower",position:{x:680,y:530},tier:"common"},empire:{id:"empire",name:"Empire Control",description:"Admin control center",icon:"ðŸ‘‘",route:"/empire",region:"summit-peak",position:{x:500,y:100},tier:"legendary",requiredRole:"admin"},"admin-control":{id:"admin-control",name:"Admin Tower",description:"System administration",icon:"ðŸ›ï¸",route:"/admin-control",region:"summit-peak",position:{x:550,y:120},tier:"legendary",requiredRole:"admin"},analytics:{id:"analytics",name:"Analytics Spire",description:"Platform analytics",icon:"ðŸ“Š",route:"/analytics",region:"summit-peak",position:{x:450,y:120},tier:"epic",requiredRole:"admin"}},v=[{from:"dashboard",to:"profile",style:"road"},{from:"dashboard",to:"settings",style:"road"},{from:"dashboard",to:"workout",style:"road"},{from:"dashboard",to:"progression",style:"road"},{from:"dashboard",to:"community",style:"road"},{from:"dashboard",to:"marketplace",style:"road"},{from:"dashboard",to:"health",style:"bridge"},{from:"dashboard",to:"skills",style:"road"},{from:"workout",to:"exercises",style:"trail"},{from:"workout",to:"journey",style:"trail"},{from:"workout",to:"pt-tests",style:"trail"},{from:"workout",to:"archetypes",style:"trail"},{from:"exercises",to:"archetypes",style:"trail"},{from:"progression",to:"stats",style:"trail"},{from:"progression",to:"achievements",style:"trail"},{from:"progression",to:"personal-records",style:"trail"},{from:"progression",to:"history",style:"trail"},{from:"stats",to:"history",style:"trail"},{from:"community",to:"crews",style:"trail"},{from:"community",to:"rivals",style:"trail"},{from:"community",to:"competitions",style:"trail"},{from:"community",to:"messages",style:"trail"},{from:"community",to:"leaderboard",style:"trail"},{from:"crews",to:"competitions",style:"trail"},{from:"marketplace",to:"wallet",style:"trail"},{from:"marketplace",to:"skins",style:"trail"},{from:"marketplace",to:"trading",style:"trail"},{from:"marketplace",to:"collection",style:"trail"},{from:"wallet",to:"trading",style:"trail"},{from:"health",to:"recovery",style:"trail"},{from:"health",to:"goals",style:"trail"},{from:"health",to:"nutrition",style:"trail"},{from:"health",to:"sleep",style:"trail"},{from:"recovery",to:"sleep",style:"trail"},{from:"skills",to:"martial-arts",style:"trail"},{from:"skills",to:"trainers",style:"trail"},{from:"skills",to:"docs",style:"trail"},{from:"skills",to:"tutorials",style:"trail"},{from:"tutorials",to:"docs",style:"trail"},{from:"empire",to:"admin-control",style:"portal"},{from:"empire",to:"analytics",style:"portal"},{from:"health",to:"empire",style:"bridge"},{from:"marketplace",to:"empire",style:"bridge"},{from:"workout",to:"progression",style:"road"},{from:"progression",to:"skills",style:"road"},{from:"community",to:"marketplace",style:"road"}];function Z(){return Object.values(g)}function h(e){return g[e]}function T(){return Object.values(g).find(t=>t.isStarting)||g.dashboard}function N(e){return Object.values(g).filter(t=>t.region===e)}function q(e){const t=new Set;for(const o of v)o.from===e?t.add(o.to):o.to===e&&t.add(o.from);return Array.from(t).map(o=>g[o]).filter(o=>o!==void 0)}function F(e){let t,o=1/0;for(const r of Object.values(g)){const n=r.position.x-e.x,c=r.position.y-e.y,a=Math.sqrt(n*n+c*c);a<o&&(o=a,t=r)}return t}function G(e,t,o=30){const r=t.position.x-e.x,n=t.position.y-e.y;return Math.sqrt(r*r+n*n)<=o}function Y(e){return v.filter(t=>t.from===e||t.to===e)}const b={"central-hub":{id:"central-hub",name:"Central Hub",description:"The heart of your fitness journey. Start here.",icon:"ðŸ°",theme:{primary:"#3B82F6",secondary:"#1E40AF",accent:"#60A5FA",glow:"rgba(59, 130, 246, 0.3)"},bounds:{x:400,y:350,width:200,height:150},connections:["warrior-arena","progress-path","guild-hall","market-district","wellness-springs","scholars-tower"]},"warrior-arena":{id:"warrior-arena",name:"Warrior Arena",description:"Train hard. Battle your limits. Become stronger.",icon:"âš”ï¸",theme:{primary:"#EF4444",secondary:"#B91C1C",accent:"#F87171",glow:"rgba(239, 68, 68, 0.3)"},bounds:{x:100,y:300,width:200,height:200},connections:["central-hub","progress-path"]},"progress-path":{id:"progress-path",name:"Progress Path",description:"Track your journey. Celebrate every milestone.",icon:"ðŸ“ˆ",theme:{primary:"#8B5CF6",secondary:"#6D28D9",accent:"#A78BFA",glow:"rgba(139, 92, 246, 0.3)"},bounds:{x:200,y:500,width:200,height:150},connections:["central-hub","warrior-arena","scholars-tower"]},"guild-hall":{id:"guild-hall",name:"Guild Hall",description:"Connect with fellow warriors. Compete together.",icon:"ðŸ›ï¸",theme:{primary:"#10B981",secondary:"#047857",accent:"#34D399",glow:"rgba(16, 185, 129, 0.3)"},bounds:{x:600,y:300,width:200,height:200},connections:["central-hub","market-district"]},"market-district":{id:"market-district",name:"Market District",description:"Trade treasures. Customize your experience.",icon:"ðŸª™",theme:{primary:"#F59E0B",secondary:"#D97706",accent:"#FBBF24",glow:"rgba(245, 158, 11, 0.3)"},bounds:{x:700,y:450,width:200,height:150},connections:["central-hub","guild-hall","summit-peak"]},"wellness-springs":{id:"wellness-springs",name:"Wellness Springs",description:"Rest and recover. Balance body and mind.",icon:"ðŸ’§",theme:{primary:"#06B6D4",secondary:"#0891B2",accent:"#22D3EE",glow:"rgba(6, 182, 212, 0.3)"},bounds:{x:100,y:100,width:200,height:150},connections:["central-hub","summit-peak"]},"scholars-tower":{id:"scholars-tower",name:"Scholar's Tower",description:"Learn new techniques. Master your craft.",icon:"ðŸ“š",theme:{primary:"#EC4899",secondary:"#BE185D",accent:"#F472B6",glow:"rgba(236, 72, 153, 0.3)"},bounds:{x:600,y:500,width:200,height:150},connections:["central-hub","progress-path"]},"summit-peak":{id:"summit-peak",name:"Summit Peak",description:"The pinnacle of achievement. Admin realm.",icon:"ðŸ‘‘",theme:{primary:"#FFD700",secondary:"#B8860B",accent:"#FFE55C",glow:"rgba(255, 215, 0, 0.4)"},bounds:{x:400,y:50,width:200,height:120},connections:["wellness-springs","market-district"]}};function W(){return Object.values(b)}function I(e){return b[e]}function R(e,t){const{bounds:o}=t;return e.x>=o.x&&e.x<=o.x+o.width&&e.y>=o.y&&e.y<=o.y+o.height}function f(e){return Object.values(b).find(t=>R(e,t))}function w(e,t){const o=t.x-e.x,r=t.y-e.y;return Math.sqrt(o*o+r*r)}function A(e){const t=new Set;for(const o of v)o.from===e?t.add(o.to):o.to===e&&t.add(o.from);return Array.from(t)}function B(e,t,o=100){const r=h(e),n=h(t);if(!r||!n)return[];if(e===t)return[e];const c=new Map,a=new Set,l={id:e,g:0,h:w(r.position,n.position),f:0,parent:null};l.f=l.g+l.h,c.set(e,l);let m=0;for(;c.size>0&&m<o;){m++;let i=null,k=1/0;for(const d of c.values())d.f<k&&(k=d.f,i=d);if(!i)break;if(i.id===t){const d=[];let u=i;for(;u;)d.unshift(u.id),u=u.parent;return d}c.delete(i.id),a.add(i.id);const L=A(i.id);for(const d of L){if(a.has(d))continue;const u=h(d);if(!u)continue;const P=h(i.id);if(!P)continue;const x=i.g+w(P.position,u.position),p=c.get(d);if(p)x<p.g&&(p.g=x,p.f=p.g+p.h,p.parent=i);else{const y={id:d,g:x,h:w(u.position,n.position),f:0,parent:i};y.f=y.g+y.h,c.set(d,y)}}}return[]}function V(e){return e.map(t=>h(t)?.position).filter(t=>t!==void 0)}function O(e,t,o=100){const r=B(e,t,o);return V(r)}function E(e,t,o){return{x:e.x+(t.x-e.x)*o,y:e.y+(t.y-e.y)*o}}function J(e,t=10){if(e.length<2)return e;const o=[e[0]];for(let r=0;r<e.length-1;r++){const n=e[r],c=e[r+1],a=w(n,c),l=Math.ceil(a/t);for(let m=1;m<=l;m++){const i=m/l;o.push(E(n,c,i))}}return o}const j=T(),H={characterPosition:j.position,characterState:"idle",movementPath:[],currentPathIndex:0,currentRegion:"central-hub",targetLocation:null,mapZoom:1,mapPan:{x:0,y:0},selectedLocation:null,hoveredLocation:null,visitedLocations:["dashboard"],lastVisitedLocation:"dashboard",totalVisits:1,isMapOpen:!1,isFullscreen:!1,showMinimap:!0,hudExpanded:!1},s=M()(S(C((e,t)=>({...H,setCharacterPosition:o=>{const r=f(o);e({characterPosition:o,currentRegion:r?.id||t().currentRegion})},setCharacterState:o=>e({characterState:o}),startMovement:o=>{const{characterPosition:r,visitedLocations:n}=t(),c=F(r);if(!c||!h(o))return;const l=O(c.id,o,5);l.length>0&&e({movementPath:l,currentPathIndex:0,characterState:"walking",targetLocation:o})},advanceMovement:()=>{const{movementPath:o,currentPathIndex:r,targetLocation:n}=t();if(r>=o.length-1){const m=o[o.length-1],i=f(m);return e({characterPosition:m,characterState:"idle",movementPath:[],currentPathIndex:0,currentRegion:i?.id||t().currentRegion}),n&&t().visitLocation(n),!0}const c=r+1,a=o[c],l=f(a);return e({currentPathIndex:c,characterPosition:a,currentRegion:l?.id||t().currentRegion}),!1},cancelMovement:()=>{e({characterState:"idle",movementPath:[],currentPathIndex:0,targetLocation:null})},teleportTo:o=>{const r=h(o);if(!r)return;const n=f(r.position);e({characterState:"teleporting",targetLocation:o}),setTimeout(()=>{e({characterPosition:r.position,characterState:"idle",currentRegion:n?.id||"central-hub",movementPath:[],currentPathIndex:0,targetLocation:null}),t().visitLocation(o)},500)},setMapZoom:o=>e({mapZoom:Math.max(.5,Math.min(2,o))}),zoomIn:()=>e(o=>({mapZoom:Math.min(2,o.mapZoom+.1)})),zoomOut:()=>e(o=>({mapZoom:Math.max(.5,o.mapZoom-.1)})),setMapPan:o=>e({mapPan:o}),panBy:o=>e(r=>({mapPan:{x:r.mapPan.x+o.x,y:r.mapPan.y+o.y}})),centerOnCharacter:()=>{const{characterPosition:o}=t();e({mapPan:{x:-o.x+500,y:-o.y+400}})},resetView:()=>e({mapZoom:1,mapPan:{x:0,y:0}}),setSelectedLocation:o=>e({selectedLocation:o}),setHoveredLocation:o=>e({hoveredLocation:o}),visitLocation:o=>{const{visitedLocations:r,totalVisits:n}=t();r.includes(o)?e({lastVisitedLocation:o,totalVisits:n+1}):e({visitedLocations:[...r,o],lastVisitedLocation:o,totalVisits:n+1})},hasVisited:o=>t().visitedLocations.includes(o),openMap:()=>e({isMapOpen:!0}),closeMap:()=>e({isMapOpen:!1,isFullscreen:!1}),toggleFullscreen:()=>e(o=>({isFullscreen:!o.isFullscreen})),toggleMinimap:()=>e(o=>({showMinimap:!o.showMinimap})),toggleHudExpanded:()=>e(o=>({hudExpanded:!o.hudExpanded}))}),{name:"musclemap-adventure-map",partialize:e=>({characterPosition:e.characterPosition,currentRegion:e.currentRegion,visitedLocations:e.visitedLocations,lastVisitedLocation:e.lastVisitedLocation,totalVisits:e.totalVisits,showMinimap:e.showMinimap})}))),K=()=>{const e=s(a=>a.characterPosition),t=s(a=>a.characterState),o=s(a=>a.currentRegion),r=s(a=>a.startMovement),n=s(a=>a.teleportTo),c=s(a=>a.cancelMovement);return{position:e,state:t,region:o,moveTo:r,teleportTo:n,cancel:c,isMoving:t==="walking",isTeleporting:t==="teleporting"}},Q=()=>{const e=s(i=>i.mapZoom),t=s(i=>i.mapPan),o=s(i=>i.setMapZoom),r=s(i=>i.zoomIn),n=s(i=>i.zoomOut),c=s(i=>i.setMapPan),a=s(i=>i.panBy),l=s(i=>i.centerOnCharacter),m=s(i=>i.resetView);return{zoom:e,pan:t,setZoom:o,zoomIn:r,zoomOut:n,setPan:c,panBy:a,center:l,reset:m}},U=()=>{const e=s(n=>n.selectedLocation),t=s(n=>n.hoveredLocation),o=s(n=>n.setSelectedLocation),r=s(n=>n.setHoveredLocation);return{selected:e,hovered:t,setSelected:o,setHovered:r}},_=()=>{const e=s(n=>n.visitedLocations),t=s(n=>n.lastVisitedLocation),o=s(n=>n.totalVisits),r=s(n=>n.hasVisited);return{visited:e,lastVisited:t,totalVisits:o,hasVisited:r,visitedCount:e.length}},X=()=>{const e=s(i=>i.isMapOpen),t=s(i=>i.isFullscreen),o=s(i=>i.showMinimap),r=s(i=>i.hudExpanded),n=s(i=>i.openMap),c=s(i=>i.closeMap),a=s(i=>i.toggleFullscreen),l=s(i=>i.toggleMinimap),m=s(i=>i.toggleHudExpanded);return{isOpen:e,isFullscreen:t,showMinimap:o,hudExpanded:r,open:n,close:c,toggleFullscreen:a,toggleMinimap:l,toggleHud:m}};export{g as L,v as P,b as R,_ as a,X as b,s as c,Z as d,h as e,q as f,F as g,Q as h,U as i,W as j,T as k,I as l,f as m,N as n,G as o,Y as p,B as q,O as r,V as s,w as t,K as u,E as v,J as w};
