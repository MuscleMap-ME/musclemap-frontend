var qa=Object.defineProperty;var Qa=(e,t,n)=>t in e?qa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var y=(e,t,n)=>Qa(e,typeof t!="symbol"?t+"":t,n);import{R as za,r as ze}from"./react-vendor-By4WaTeA.js";const rs=!1;function be(e){try{return e()}catch{}}const Xn=be(()=>globalThis)||be(()=>window)||be(()=>self)||be(()=>global)||be(function(){return be.constructor("return this")()}),Nr="4.0.11",Jr=new Map;function is(e){const t=Jr.get(e)||1;return Jr.set(e,t+1),`${e}:${t}:${Math.random().toString(36).slice(2)}`}function Ga(e,t=0){const n=is("stringifyForDisplay");return JSON.stringify(e,(r,i)=>i===void 0?n:i,t).split(JSON.stringify(n)).join("<undefined>")}const Hr="Invariant Violation";class Or extends Error{constructor(t=Hr){super(t),this.name=Hr,Object.setPrototypeOf(this,Or.prototype)}}const ss=["debug","log","warn","error","silent"];let Wa=ss.indexOf("silent");function C(e,...t){if(!e)throw ne(...t)}function dn(e){return function(t,...n){if(ss.indexOf(e)>=Wa){const r=console[e]||console.log;if(typeof t=="number"){const i=t;t=as(i),t||(t=os(i,n),n=[])}r(t,...n)}}}C.debug=dn("debug");C.log=dn("log");C.warn=dn("warn");C.error=dn("error");function ne(e,...t){return new Or(as(e,t)||os(e,t))}const Xr=Symbol.for("ApolloErrorMessageHandler_"+Nr);function Zn(e){if(typeof e=="string")return e;try{return Ga(e,2).slice(0,1e3)}catch{return"<non-serializable>"}}function as(e,t=[]){if(e)return Xn[Xr]&&Xn[Xr](e,t.map(Zn))}function os(e,t=[]){if(e)return typeof e=="string"?t.reduce((n,r)=>n.replace(/%[sdfo]/,Zn(r)),e):`An error occurred! For more details, see the full error text at https://go.apollo.dev/c/err#${encodeURIComponent(JSON.stringify({version:Nr,message:e,args:t.map(Zn)}))}`}const Zr=Symbol.for("__APOLLO_CONTEXT__");function Ya(){C("createContext"in za,37);let e=ze.createContext[Zr];return e||(Object.defineProperty(ze.createContext,Zr,{value:e=ze.createContext({}),enumerable:!1,writable:!1,configurable:!0}),e.displayName="ApolloContext"),e}const Vf=({client:e,children:t})=>{const n=Ya(),r=ze.useContext(n),i=ze.useMemo(()=>({...r,client:e||r.client}),[r,e]);return C(i.client,38),ze.createElement(n.Provider,{value:i},t)},{toString:ei,hasOwnProperty:Ka}=Object.prototype,ti=Function.prototype.toString,er=new Map;function U(e,t){try{return tr(e,t)}finally{er.clear()}}function tr(e,t){if(e===t)return!0;const n=ei.call(e),r=ei.call(t);if(n!==r)return!1;switch(n){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":{if(ri(e,t))return!0;const i=ni(e),s=ni(t),a=i.length;if(a!==s.length)return!1;for(let o=0;o<a;++o)if(!Ka.call(t,i[o]))return!1;for(let o=0;o<a;++o){const l=i[o];if(!tr(e[l],t[l]))return!1}return!0}case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!==e)return t!==t;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object RegExp]":case"[object String]":return e==`${t}`;case"[object Map]":case"[object Set]":{if(e.size!==t.size)return!1;if(ri(e,t))return!0;const i=e.entries(),s=n==="[object Map]";for(;;){const a=i.next();if(a.done)break;const[o,l]=a.value;if(!t.has(o)||s&&!tr(l,t.get(o)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":{let i=e.byteLength;if(i===t.byteLength)for(;i--&&e[i]===t[i];);return i===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{const i=ti.call(e);return i!==ti.call(t)?!1:!Xa(i,Ha)}}return!1}function ni(e){return Object.keys(e).filter(Ja,e)}function Ja(e){return this[e]!==void 0}const Ha="{ [native code] }";function Xa(e,t){const n=e.length-t.length;return n>=0&&e.indexOf(t,n)===n}function ri(e,t){let n=er.get(e);if(n){if(n.has(t))return!0}else er.set(e,n=new Set);return n.add(t),!1}function R(e,t){throw new Error(t)}function He(e){return typeof e=="object"&&e!==null}function Te(e,t){throw new Error(t??"Unexpected invariant triggered.")}var Za=/\r\n|[\n\r]/g;function nr(e,t){let n=0,r=1;for(let i of e.body.matchAll(Za)){if(typeof i.index=="number"||Te(),i.index>=t)break;n=i.index+i[0].length,r+=1}return{line:r,column:t+1-n}}function eo(e){return ls(e.source,nr(e.source,e.start))}function ls(e,t){let n=e.locationOffset.column-1,r="".padStart(n)+e.body,i=t.line-1,s=e.locationOffset.line-1,a=t.line+s,o=t.line===1?n:0,l=t.column+o,u=`${e.name}:${a}:${l}
`,c=r.split(/\r\n|[\n\r]/g),f=c[i];if(f.length>120){let h=Math.floor(l/80),d=l%80,m=[];for(let b=0;b<f.length;b+=80)m.push(f.slice(b,b+80));return u+ii([[`${a} |`,m[0]],...m.slice(1,h+1).map(b=>["|",b]),["|","^".padStart(d)],["|",m[h+1]]])}return u+ii([[`${a-1} |`,c[i-1]],[`${a} |`,f],["|","^".padStart(l)],[`${a+1} |`,c[i+1]]])}function ii(e){let t=e.filter(([r,i])=>i!==void 0),n=Math.max(...t.map(([r])=>r.length));return t.map(([r,i])=>r.padStart(n)+(i?" "+i:"")).join(`
`)}function to(e){let t=e[0];return t==null||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}var N=class us extends Error{constructor(t,...n){var r,i,s;let{nodes:a,source:o,positions:l,path:u,originalError:c,extensions:f}=to(n);super(t),this.name="GraphQLError",this.path=u??void 0,this.originalError=c??void 0,this.nodes=si(Array.isArray(a)?a:a?[a]:void 0);let h=si((r=this.nodes)===null||r===void 0?void 0:r.map(m=>m.loc).filter(m=>m!=null));this.source=o??(h==null||(i=h[0])===null||i===void 0?void 0:i.source),this.positions=l??h?.map(m=>m.start),this.locations=l&&o?l.map(m=>nr(o,m)):h?.map(m=>nr(m.source,m.start));let d=He(c?.extensions)?c?.extensions:void 0;this.extensions=(s=f??d)!==null&&s!==void 0?s:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),c!=null&&c.stack?Object.defineProperty(this,"stack",{value:c.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,us):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let t=this.message;if(this.nodes)for(let n of this.nodes)n.loc&&(t+=`

`+eo(n.loc));else if(this.source&&this.locations)for(let n of this.locations)t+=`

`+ls(this.source,n);return t}toJSON(){let t={message:this.message};return this.locations!=null&&(t.locations=this.locations),this.path!=null&&(t.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(t.extensions=this.extensions),t}};function si(e){return e===void 0||e.length===0?void 0:e}function B(e,t,n){return new N(`Syntax Error: ${n}`,{source:e,positions:[t]})}var no=class{constructor(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}},cs=class{constructor(e,t,n,r,i,s){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=s,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}},fs={Name:[],Document:["definitions"],OperationDefinition:["description","name","variableDefinitions","directives","selectionSet"],VariableDefinition:["description","variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["description","name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"],TypeCoordinate:["name"],MemberCoordinate:["name","memberName"],ArgumentCoordinate:["name","fieldName","argumentName"],DirectiveCoordinate:["name"],DirectiveArgumentCoordinate:["name","argumentName"]},ro=new Set(Object.keys(fs));function ai(e){let t=e?.kind;return typeof t=="string"&&ro.has(t)}var K;(function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"})(K||(K={}));var I;(function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(I||(I={}));var p;(function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension",e.TYPE_COORDINATE="TypeCoordinate",e.MEMBER_COORDINATE="MemberCoordinate",e.ARGUMENT_COORDINATE="ArgumentCoordinate",e.DIRECTIVE_COORDINATE="DirectiveCoordinate",e.DIRECTIVE_ARGUMENT_COORDINATE="DirectiveArgumentCoordinate"})(p||(p={}));function rr(e){return e===9||e===32}function St(e){return e>=48&&e<=57}function hs(e){return e>=97&&e<=122||e>=65&&e<=90}function Ir(e){return hs(e)||e===95}function ds(e){return hs(e)||St(e)||e===95}function io(e){var t;let n=Number.MAX_SAFE_INTEGER,r=null,i=-1;for(let a=0;a<e.length;++a){var s;let o=e[a],l=so(o);l!==o.length&&(r=(s=r)!==null&&s!==void 0?s:a,i=a,a!==0&&l<n&&(n=l))}return e.map((a,o)=>o===0?a:a.slice(n)).slice((t=r)!==null&&t!==void 0?t:0,i+1)}function so(e){let t=0;for(;t<e.length&&rr(e.charCodeAt(t));)++t;return t}function ao(e,t){let n=e.replace(/"""/g,'\\"""'),r=n.split(/\r\n|[\n\r]/g),i=r.length===1,s=r.length>1&&r.slice(1).every(d=>d.length===0||rr(d.charCodeAt(0))),a=n.endsWith('\\"""'),o=e.endsWith('"')&&!a,l=e.endsWith("\\"),u=o||l,c=!i||e.length>70||u||s||a,f="",h=i&&rr(e.charCodeAt(0));return(c&&!h||s)&&(f+=`
`),f+=n,(c||u)&&(f+=`
`),'"""'+f+'"""'}var g;(function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.DOT=".",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"})(g||(g={}));var oo=class{constructor(e){let t=new cs(g.SOF,0,0,0,0);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==g.EOF)do if(e.next)e=e.next;else{let t=uo(this,e.end);e.next=t,t.prev=e,e=t}while(e.kind===g.COMMENT);return e}};function lo(e){return e===g.BANG||e===g.DOLLAR||e===g.AMP||e===g.PAREN_L||e===g.PAREN_R||e===g.DOT||e===g.SPREAD||e===g.COLON||e===g.EQUALS||e===g.AT||e===g.BRACKET_L||e===g.BRACKET_R||e===g.BRACE_L||e===g.PIPE||e===g.BRACE_R}function ot(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function pn(e,t){return ps(e.charCodeAt(t))&&ms(e.charCodeAt(t+1))}function ps(e){return e>=55296&&e<=56319}function ms(e){return e>=56320&&e<=57343}function Le(e,t){let n=e.source.body.codePointAt(t);if(n===void 0)return g.EOF;if(n>=32&&n<=126){let r=String.fromCodePoint(n);return r==='"'?`'"'`:`"${r}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function j(e,t,n,r,i){let s=e.line,a=1+n-e.lineStart;return new cs(t,n,r,s,a,i)}function uo(e,t){let n=e.source.body,r=n.length,i=t;for(;i<r;){let s=n.charCodeAt(i);switch(s){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++e.line,e.lineStart=i;continue;case 13:n.charCodeAt(i+1)===10?i+=2:++i,++e.line,e.lineStart=i;continue;case 35:return co(e,i);case 33:return j(e,g.BANG,i,i+1);case 36:return j(e,g.DOLLAR,i,i+1);case 38:return j(e,g.AMP,i,i+1);case 40:return j(e,g.PAREN_L,i,i+1);case 41:return j(e,g.PAREN_R,i,i+1);case 46:if(n.charCodeAt(i+1)===46&&n.charCodeAt(i+2)===46)return j(e,g.SPREAD,i,i+3);break;case 58:return j(e,g.COLON,i,i+1);case 61:return j(e,g.EQUALS,i,i+1);case 64:return j(e,g.AT,i,i+1);case 91:return j(e,g.BRACKET_L,i,i+1);case 93:return j(e,g.BRACKET_R,i,i+1);case 123:return j(e,g.BRACE_L,i,i+1);case 124:return j(e,g.PIPE,i,i+1);case 125:return j(e,g.BRACE_R,i,i+1);case 34:return n.charCodeAt(i+1)===34&&n.charCodeAt(i+2)===34?vo(e,i):ho(e,i)}if(St(s)||s===45)return fo(e,i,s);if(Ir(s))return go(e,i);throw B(e.source,i,s===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:ot(s)||pn(n,i)?`Unexpected character: ${Le(e,i)}.`:`Invalid character: ${Le(e,i)}.`)}return j(e,g.EOF,r,r)}function co(e,t){let n=e.source.body,r=n.length,i=t+1;for(;i<r;){let s=n.charCodeAt(i);if(s===10||s===13)break;if(ot(s))++i;else if(pn(n,i))i+=2;else break}return j(e,g.COMMENT,t,i,n.slice(t+1,i))}function fo(e,t,n){let r=e.source.body,i=t,s=n,a=!1;if(s===45&&(s=r.charCodeAt(++i)),s===48){if(s=r.charCodeAt(++i),St(s))throw B(e.source,i,`Invalid number, unexpected digit after 0: ${Le(e,i)}.`)}else i=An(e,i,s),s=r.charCodeAt(i);if(s===46&&(a=!0,s=r.charCodeAt(++i),i=An(e,i,s),s=r.charCodeAt(i)),(s===69||s===101)&&(a=!0,s=r.charCodeAt(++i),(s===43||s===45)&&(s=r.charCodeAt(++i)),i=An(e,i,s),s=r.charCodeAt(i)),s===46||Ir(s))throw B(e.source,i,`Invalid number, expected digit but got: ${Le(e,i)}.`);return j(e,a?g.FLOAT:g.INT,t,i,r.slice(t,i))}function An(e,t,n){if(!St(n))throw B(e.source,t,`Invalid number, expected digit but got: ${Le(e,t)}.`);let r=e.source.body,i=t+1;for(;St(r.charCodeAt(i));)++i;return i}function ho(e,t){let n=e.source.body,r=n.length,i=t+1,s=i,a="";for(;i<r;){let o=n.charCodeAt(i);if(o===34)return a+=n.slice(s,i),j(e,g.STRING,t,i+1,a);if(o===92){a+=n.slice(s,i);let l=n.charCodeAt(i+1)===117?n.charCodeAt(i+2)===123?po(e,i):mo(e,i):yo(e,i);a+=l.value,i+=l.size,s=i;continue}if(o===10||o===13)break;if(ot(o))++i;else if(pn(n,i))i+=2;else throw B(e.source,i,`Invalid character within String: ${Le(e,i)}.`)}throw B(e.source,i,"Unterminated string.")}function po(e,t){let n=e.source.body,r=0,i=3;for(;i<12;){let s=n.charCodeAt(t+i++);if(s===125){if(i<5||!ot(r))break;return{value:String.fromCodePoint(r),size:i}}if(r=r<<4|yt(s),r<0)break}throw B(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+i)}".`)}function mo(e,t){let n=e.source.body,r=oi(n,t+2);if(ot(r))return{value:String.fromCodePoint(r),size:6};if(ps(r)&&n.charCodeAt(t+6)===92&&n.charCodeAt(t+7)===117){let i=oi(n,t+8);if(ms(i))return{value:String.fromCodePoint(r,i),size:12}}throw B(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+6)}".`)}function oi(e,t){return yt(e.charCodeAt(t))<<12|yt(e.charCodeAt(t+1))<<8|yt(e.charCodeAt(t+2))<<4|yt(e.charCodeAt(t+3))}function yt(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function yo(e,t){let n=e.source.body;switch(n.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw B(e.source,t,`Invalid character escape sequence: "${n.slice(t,t+2)}".`)}function vo(e,t){let n=e.source.body,r=n.length,i=e.lineStart,s=t+3,a=s,o="",l=[];for(;s<r;){let u=n.charCodeAt(s);if(u===34&&n.charCodeAt(s+1)===34&&n.charCodeAt(s+2)===34){o+=n.slice(a,s),l.push(o);let c=j(e,g.BLOCK_STRING,t,s+3,io(l).join(`
`));return e.line+=l.length-1,e.lineStart=i,c}if(u===92&&n.charCodeAt(s+1)===34&&n.charCodeAt(s+2)===34&&n.charCodeAt(s+3)===34){o+=n.slice(a,s),a=s+1,s+=4;continue}if(u===10||u===13){o+=n.slice(a,s),l.push(o),u===13&&n.charCodeAt(s+1)===10?s+=2:++s,o="",a=s,i=s;continue}if(ot(u))++s;else if(pn(n,s))s+=2;else throw B(e.source,s,`Invalid character within String: ${Le(e,s)}.`)}throw B(e.source,s,"Unterminated string.")}function go(e,t){let n=e.source.body,r=n.length,i=t+1;for(;i<r;){let s=n.charCodeAt(i);if(ds(s))++i;else break}return j(e,g.NAME,t,i,n.slice(t,i))}function _(e){return mn(e,[])}function mn(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return bo(e,t);default:return String(e)}}function bo(e,t){if(e===null)return"null";if(t.includes(e))return"[Circular]";let n=[...t,e];if(Eo(e)){let r=e.toJSON();if(r!==e)return typeof r=="string"?r:mn(r,n)}else if(Array.isArray(e))return No(e,n);return To(e,n)}function Eo(e){return typeof e.toJSON=="function"}function To(e,t){let n=Object.entries(e);return n.length===0?"{}":t.length>2?"["+Oo(e)+"]":"{ "+n.map(([r,i])=>r+": "+mn(i,t)).join(", ")+" }"}function No(e,t){if(e.length===0)return"[]";if(t.length>2)return"[Array]";let n=Math.min(10,e.length),r=e.length-n,i=[];for(let s=0;s<n;++s)i.push(mn(e[s],t));return r===1?i.push("... 1 more item"):r>1&&i.push(`... ${r} more items`),"["+i.join(", ")+"]"}function Oo(e){let t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor=="function"){let n=e.constructor.name;if(typeof n=="string"&&n!=="")return n}return t}var Io=globalThis.process&&!0,ve=Io?function(e,t){return e instanceof t}:function(e,t){if(e instanceof t)return!0;if(typeof e=="object"&&e!==null){var n;let r=t.prototype[Symbol.toStringTag],i=Symbol.toStringTag in e?e[Symbol.toStringTag]:(n=e.constructor)===null||n===void 0?void 0:n.name;if(r===i){let s=_(e);throw new Error(`Cannot use ${r} "${s}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1},ys=class{constructor(e,t="GraphQL request",n={line:1,column:1}){typeof e=="string"||R(!1,`Body must be a string. Received: ${_(e)}.`),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||R(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||R(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}};function wo(e){return ve(e,ys)}function _o(e,t){let n=new So(e,t),r=n.parseDocument();return Object.defineProperty(r,"tokenCount",{enumerable:!1,value:n.tokenCount}),r}var So=class{constructor(e,t={}){let{lexer:n,...r}=t;if(n)this._lexer=n;else{let i=wo(e)?e:new ys(e);this._lexer=new oo(i)}this._options=r,this._tokenCounter=0}get tokenCount(){return this._tokenCounter}parseName(){let e=this.expectToken(g.NAME);return this.node(e,{kind:p.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:p.DOCUMENT,definitions:this.many(g.SOF,this.parseDefinition,g.EOF)})}parseDefinition(){if(this.peek(g.BRACE_L))return this.parseOperationDefinition();let e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(e&&t.kind===g.BRACE_L)throw B(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are not supported on shorthand queries.");if(t.kind===g.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition()}if(e)throw B(this._lexer.source,this._lexer.token.start,"Unexpected description, only GraphQL definitions support descriptions.");if(t.value==="extend")return this.parseTypeSystemExtension()}throw this.unexpected(t)}parseOperationDefinition(){let e=this._lexer.token;if(this.peek(g.BRACE_L))return this.node(e,{kind:p.OPERATION_DEFINITION,operation:K.QUERY,description:void 0,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});let t=this.parseDescription(),n=this.parseOperationType(),r;return this.peek(g.NAME)&&(r=this.parseName()),this.node(e,{kind:p.OPERATION_DEFINITION,operation:n,description:t,name:r,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){let e=this.expectToken(g.NAME);switch(e.value){case"query":return K.QUERY;case"mutation":return K.MUTATION;case"subscription":return K.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(g.PAREN_L,this.parseVariableDefinition,g.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:p.VARIABLE_DEFINITION,description:this.parseDescription(),variable:this.parseVariable(),type:(this.expectToken(g.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(g.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){let e=this._lexer.token;return this.expectToken(g.DOLLAR),this.node(e,{kind:p.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:p.SELECTION_SET,selections:this.many(g.BRACE_L,this.parseSelection,g.BRACE_R)})}parseSelection(){return this.peek(g.SPREAD)?this.parseFragment():this.parseField()}parseField(){let e=this._lexer.token,t=this.parseName(),n,r;return this.expectOptionalToken(g.COLON)?(n=t,r=this.parseName()):r=t,this.node(e,{kind:p.FIELD,alias:n,name:r,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(g.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){let t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(g.PAREN_L,t,g.PAREN_R)}parseArgument(e=!1){let t=this._lexer.token,n=this.parseName();return this.expectToken(g.COLON),this.node(t,{kind:p.ARGUMENT,name:n,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){let e=this._lexer.token;this.expectToken(g.SPREAD);let t=this.expectOptionalKeyword("on");return!t&&this.peek(g.NAME)?this.node(e,{kind:p.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:p.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){let e=this._lexer.token,t=this.parseDescription();return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(e,{kind:p.FRAGMENT_DEFINITION,description:t,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:p.FRAGMENT_DEFINITION,description:t,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(e){let t=this._lexer.token;switch(t.kind){case g.BRACKET_L:return this.parseList(e);case g.BRACE_L:return this.parseObject(e);case g.INT:return this.advanceLexer(),this.node(t,{kind:p.INT,value:t.value});case g.FLOAT:return this.advanceLexer(),this.node(t,{kind:p.FLOAT,value:t.value});case g.STRING:case g.BLOCK_STRING:return this.parseStringLiteral();case g.NAME:switch(this.advanceLexer(),t.value){case"true":return this.node(t,{kind:p.BOOLEAN,value:!0});case"false":return this.node(t,{kind:p.BOOLEAN,value:!1});case"null":return this.node(t,{kind:p.NULL});default:return this.node(t,{kind:p.ENUM,value:t.value})}case g.DOLLAR:if(e)if(this.expectToken(g.DOLLAR),this._lexer.token.kind===g.NAME){let n=this._lexer.token.value;throw B(this._lexer.source,t.start,`Unexpected variable "$${n}" in constant value.`)}else throw this.unexpected(t);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){let e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:p.STRING,value:e.value,block:e.kind===g.BLOCK_STRING})}parseList(e){let t=()=>this.parseValueLiteral(e);return this.node(this._lexer.token,{kind:p.LIST,values:this.any(g.BRACKET_L,t,g.BRACKET_R)})}parseObject(e){let t=()=>this.parseObjectField(e);return this.node(this._lexer.token,{kind:p.OBJECT,fields:this.any(g.BRACE_L,t,g.BRACE_R)})}parseObjectField(e){let t=this._lexer.token,n=this.parseName();return this.expectToken(g.COLON),this.node(t,{kind:p.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e)})}parseDirectives(e){let t=[];for(;this.peek(g.AT);)t.push(this.parseDirective(e));return t}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){let t=this._lexer.token;return this.expectToken(g.AT),this.node(t,{kind:p.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){let e=this._lexer.token,t;if(this.expectOptionalToken(g.BRACKET_L)){let n=this.parseTypeReference();this.expectToken(g.BRACKET_R),t=this.node(e,{kind:p.LIST_TYPE,type:n})}else t=this.parseNamedType();return this.expectOptionalToken(g.BANG)?this.node(e,{kind:p.NON_NULL_TYPE,type:t}):t}parseNamedType(){return this.node(this._lexer.token,{kind:p.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(g.STRING)||this.peek(g.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");let n=this.parseConstDirectives(),r=this.many(g.BRACE_L,this.parseOperationTypeDefinition,g.BRACE_R);return this.node(e,{kind:p.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r})}parseOperationTypeDefinition(){let e=this._lexer.token,t=this.parseOperationType();this.expectToken(g.COLON);let n=this.parseNamedType();return this.node(e,{kind:p.OPERATION_TYPE_DEFINITION,operation:t,type:n})}parseScalarTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");let n=this.parseName(),r=this.parseConstDirectives();return this.node(e,{kind:p.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r})}parseObjectTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");let n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(e,{kind:p.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:s})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(g.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(g.BRACE_L,this.parseFieldDefinition,g.BRACE_R)}parseFieldDefinition(){let e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(g.COLON);let i=this.parseTypeReference(),s=this.parseConstDirectives();return this.node(e,{kind:p.FIELD_DEFINITION,description:t,name:n,arguments:r,type:i,directives:s})}parseArgumentDefs(){return this.optionalMany(g.PAREN_L,this.parseInputValueDef,g.PAREN_R)}parseInputValueDef(){let e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(g.COLON);let r=this.parseTypeReference(),i;this.expectOptionalToken(g.EQUALS)&&(i=this.parseConstValueLiteral());let s=this.parseConstDirectives();return this.node(e,{kind:p.INPUT_VALUE_DEFINITION,description:t,name:n,type:r,defaultValue:i,directives:s})}parseInterfaceTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");let n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(e,{kind:p.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:s})}parseUnionTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");let n=this.parseName(),r=this.parseConstDirectives(),i=this.parseUnionMemberTypes();return this.node(e,{kind:p.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:i})}parseUnionMemberTypes(){return this.expectOptionalToken(g.EQUALS)?this.delimitedMany(g.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");let n=this.parseName(),r=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();return this.node(e,{kind:p.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:i})}parseEnumValuesDefinition(){return this.optionalMany(g.BRACE_L,this.parseEnumValueDefinition,g.BRACE_R)}parseEnumValueDefinition(){let e=this._lexer.token,t=this.parseDescription(),n=this.parseEnumValueName(),r=this.parseConstDirectives();return this.node(e,{kind:p.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw B(this._lexer.source,this._lexer.token.start,`${$t(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");let n=this.parseName(),r=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();return this.node(e,{kind:p.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:i})}parseInputFieldsDefinition(){return this.optionalMany(g.BRACE_L,this.parseInputValueDef,g.BRACE_R)}parseTypeSystemExtension(){let e=this._lexer.lookahead();if(e.kind===g.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");let t=this.parseConstDirectives(),n=this.optionalMany(g.BRACE_L,this.parseOperationTypeDefinition,g.BRACE_R);if(t.length===0&&n.length===0)throw this.unexpected();return this.node(e,{kind:p.SCHEMA_EXTENSION,directives:t,operationTypes:n})}parseScalarTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");let t=this.parseName(),n=this.parseConstDirectives();if(n.length===0)throw this.unexpected();return this.node(e,{kind:p.SCALAR_TYPE_EXTENSION,name:t,directives:n})}parseObjectTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");let t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(n.length===0&&r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:p.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i})}parseInterfaceTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");let t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(n.length===0&&r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:p.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i})}parseUnionTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");let t=this.parseName(),n=this.parseConstDirectives(),r=this.parseUnionMemberTypes();if(n.length===0&&r.length===0)throw this.unexpected();return this.node(e,{kind:p.UNION_TYPE_EXTENSION,name:t,directives:n,types:r})}parseEnumTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");let t=this.parseName(),n=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();if(n.length===0&&r.length===0)throw this.unexpected();return this.node(e,{kind:p.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r})}parseInputObjectTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");let t=this.parseName(),n=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();if(n.length===0&&r.length===0)throw this.unexpected();return this.node(e,{kind:p.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r})}parseDirectiveDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(g.AT);let n=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");let s=this.parseDirectiveLocations();return this.node(e,{kind:p.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:i,locations:s})}parseDirectiveLocations(){return this.delimitedMany(g.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){let e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(I,t.value))return t;throw this.unexpected(e)}parseSchemaCoordinate(){let e=this._lexer.token,t=this.expectOptionalToken(g.AT),n=this.parseName(),r;!t&&this.expectOptionalToken(g.DOT)&&(r=this.parseName());let i;return(t||r)&&this.expectOptionalToken(g.PAREN_L)&&(i=this.parseName(),this.expectToken(g.COLON),this.expectToken(g.PAREN_R)),t?i?this.node(e,{kind:p.DIRECTIVE_ARGUMENT_COORDINATE,name:n,argumentName:i}):this.node(e,{kind:p.DIRECTIVE_COORDINATE,name:n}):r?i?this.node(e,{kind:p.ARGUMENT_COORDINATE,name:n,fieldName:r,argumentName:i}):this.node(e,{kind:p.MEMBER_COORDINATE,name:n,memberName:r}):this.node(e,{kind:p.TYPE_COORDINATE,name:n})}node(e,t){return this._options.noLocation!==!0&&(t.loc=new no(e,this._lexer.lastToken,this._lexer.source)),t}peek(e){return this._lexer.token.kind===e}expectToken(e){let t=this._lexer.token;if(t.kind===e)return this.advanceLexer(),t;throw B(this._lexer.source,t.start,`Expected ${vs(e)}, found ${$t(t)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e?(this.advanceLexer(),!0):!1}expectKeyword(e){let t=this._lexer.token;if(t.kind===g.NAME&&t.value===e)this.advanceLexer();else throw B(this._lexer.source,t.start,`Expected "${e}", found ${$t(t)}.`)}expectOptionalKeyword(e){let t=this._lexer.token;return t.kind===g.NAME&&t.value===e?(this.advanceLexer(),!0):!1}unexpected(e){let t=e??this._lexer.token;return B(this._lexer.source,t.start,`Unexpected ${$t(t)}.`)}any(e,t,n){this.expectToken(e);let r=[];for(;!this.expectOptionalToken(n);)r.push(t.call(this));return r}optionalMany(e,t,n){if(this.expectOptionalToken(e)){let r=[];do r.push(t.call(this));while(!this.expectOptionalToken(n));return r}return[]}many(e,t,n){this.expectToken(e);let r=[];do r.push(t.call(this));while(!this.expectOptionalToken(n));return r}delimitedMany(e,t){this.expectOptionalToken(e);let n=[];do n.push(t.call(this));while(this.expectOptionalToken(e));return n}advanceLexer(){let{maxTokens:e}=this._options,t=this._lexer.advance();if(t.kind!==g.EOF&&(++this._tokenCounter,e!==void 0&&this._tokenCounter>e))throw B(this._lexer.source,t.start,`Document contains more that ${e} tokens. Parsing aborted.`)}};function $t(e){let t=e.value;return vs(e.kind)+(t!=null?` "${t}"`:"")}function vs(e){return lo(e)?`"${e}"`:e}function Me(e,t){let[n,r]=t?[e,t]:[void 0,e],i=" Did you mean ";n&&(i+=n+" ");let s=r.map(l=>`"${l}"`);switch(s.length){case 0:return"";case 1:return i+s[0]+"?";case 2:return i+s[0]+" or "+s[1]+"?"}let a=s.slice(0,5),o=a.pop();return i+a.join(", ")+", or "+o+"?"}function li(e){return e}function Pe(e,t){let n=Object.create(null);for(let r of e)n[t(r)]=r;return n}function wr(e,t,n){let r=Object.create(null);for(let i of e)r[t(i)]=n(i);return r}function yn(e,t){let n=Object.create(null);for(let r of Object.keys(e))n[r]=t(e[r],r);return n}function _r(e,t){let n=0,r=0;for(;n<e.length&&r<t.length;){let i=e.charCodeAt(n),s=t.charCodeAt(r);if(qt(i)&&qt(s)){let a=0;do++n,a=a*10+i-ir,i=e.charCodeAt(n);while(qt(i)&&a>0);let o=0;do++r,o=o*10+s-ir,s=t.charCodeAt(r);while(qt(s)&&o>0);if(a<o)return-1;if(a>o)return 1}else{if(i<s)return-1;if(i>s)return 1;++n,++r}}return e.length-t.length}var ir=48,ko=57;function qt(e){return!isNaN(e)&&ir<=e&&e<=ko}function lt(e,t){let n=Object.create(null),r=new Do(e),i=Math.floor(e.length*.4)+1;for(let s of t){let a=r.measure(s,i);a!==void 0&&(n[s]=a)}return Object.keys(n).sort((s,a)=>{let o=n[s]-n[a];return o!==0?o:_r(s,a)})}var Do=class{constructor(e){this._input=e,this._inputLowerCase=e.toLowerCase(),this._inputArray=ui(this._inputLowerCase),this._rows=[new Array(e.length+1).fill(0),new Array(e.length+1).fill(0),new Array(e.length+1).fill(0)]}measure(e,t){if(this._input===e)return 0;let n=e.toLowerCase();if(this._inputLowerCase===n)return 1;let r=ui(n),i=this._inputArray;if(r.length<i.length){let u=r;r=i,i=u}let s=r.length,a=i.length;if(s-a>t)return;let o=this._rows;for(let u=0;u<=a;u++)o[0][u]=u;for(let u=1;u<=s;u++){let c=o[(u-1)%3],f=o[u%3],h=f[0]=u;for(let d=1;d<=a;d++){let m=r[u-1]===i[d-1]?0:1,b=Math.min(c[d]+1,f[d-1]+1,c[d-1]+m);if(u>1&&d>1&&r[u-1]===i[d-2]&&r[u-2]===i[d-1]){let v=o[(u-2)%3][d-2];b=Math.min(b,v+1)}b<h&&(h=b),f[d]=b}if(h>t)return}let l=o[s%3][a];return l<=t?l:void 0}};function ui(e){let t=e.length,n=new Array(t);for(let r=0;r<t;++r)n[r]=e.charCodeAt(r);return n}function se(e){if(e==null)return Object.create(null);if(Object.getPrototypeOf(e)===null)return e;let t=Object.create(null);for(let[n,r]of Object.entries(e))t[n]=r;return t}function Ao(e){return`"${e.replace(Co,Fo)}"`}var Co=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function Fo(e){return Ro[e.charCodeAt(0)]}var Ro=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],Sr=Object.freeze({});function he(e,t,n=fs){let r=new Map;for(let E of Object.values(p))r.set(E,xo(t,E));let i,s=Array.isArray(e),a=[e],o=-1,l=[],u=e,c,f,h=[],d=[];do{o++;let E=o===a.length,T=E&&l.length!==0;if(E){if(c=d.length===0?void 0:h[h.length-1],u=f,f=d.pop(),T)if(s){u=u.slice();let S=0;for(let[A,Y]of l){let J=A-S;Y===null?(u.splice(J,1),S++):u[J]=Y}}else{u={...u};for(let[S,A]of l)u[S]=A}o=i.index,a=i.keys,l=i.edits,s=i.inArray,i=i.prev}else if(f){if(c=s?o:a[o],u=f[c],u==null)continue;h.push(c)}let w;if(!Array.isArray(u)){var m,b;if(ai(u)||R(!1,`Invalid AST Node: ${_(u)}.`),w=(E?(m=r.get(u.kind))===null||m===void 0?void 0:m.leave:(b=r.get(u.kind))===null||b===void 0?void 0:b.enter)?.call(t,u,c,f,h,d),w===Sr)break;if(w===!1){if(!E){h.pop();continue}}else if(w!==void 0&&(l.push([c,w]),!E))if(ai(w))u=w;else{h.pop();continue}}if(w===void 0&&T&&l.push([c,u]),E)h.pop();else{var v;i={inArray:s,index:o,keys:a,edits:l,prev:i},s=Array.isArray(u),a=s?u:(v=n[u.kind])!==null&&v!==void 0?v:[],o=-1,l=[],f&&d.push(f),f=u}}while(i!==void 0);return l.length!==0?l[l.length-1][1]:e}function xo(e,t){let n=e[t];return typeof n=="object"?n:typeof n=="function"?{enter:n,leave:void 0}:{enter:e.enter,leave:e.leave}}function q(e){return he(e,Mo)}var Lo=80,Mo={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>O(e.definitions,`

`)},OperationDefinition:{leave(e){let t=Cn(e.variableDefinitions)?k(`(
`,O(e.variableDefinitions,`
`),`
)`):k("(",O(e.variableDefinitions,", "),")"),n=k("",e.description,`
`)+O([e.operation,O([e.name,t]),O(e.directives," ")]," ");return(n==="query"?"":n+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:r,description:i})=>k("",i,`
`)+e+": "+t+k(" = ",n)+k(" ",O(r," "))},SelectionSet:{leave:({selections:e})=>re(e)},Field:{leave({alias:e,name:t,arguments:n,directives:r,selectionSet:i}){let s=k("",e,": ")+t,a=s+k("(",O(n,", "),")");return a.length>Lo&&(a=s+k(`(
`,Gt(O(n,`
`)),`
)`)),O([a,O(r," "),i]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+k(" ",O(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>O(["...",k("on ",e),O(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:r,selectionSet:i,description:s})=>k("",s,`
`)+`fragment ${e}${k("(",O(n,", "),")")} on ${t} ${k("",O(r," ")," ")}`+i},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?ao(e):Ao(e)},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+O(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+O(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+k("(",O(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:n})=>k("",e,`
`)+O(["schema",O(t," "),re(n)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:n})=>k("",e,`
`)+O(["scalar",t,O(n," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:i})=>k("",e,`
`)+O(["type",t,k("implements ",O(n," & ")),O(r," "),re(i)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:n,type:r,directives:i})=>k("",e,`
`)+t+(Cn(n)?k(`(
`,Gt(O(n,`
`)),`
)`):k("(",O(n,", "),")"))+": "+r+k(" ",O(i," "))},InputValueDefinition:{leave:({description:e,name:t,type:n,defaultValue:r,directives:i})=>k("",e,`
`)+O([t+": "+n,k("= ",r),O(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:i})=>k("",e,`
`)+O(["interface",t,k("implements ",O(n," & ")),O(r," "),re(i)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:n,types:r})=>k("",e,`
`)+O(["union",t,O(n," "),k("= ",O(r," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:n,values:r})=>k("",e,`
`)+O(["enum",t,O(n," "),re(r)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:n})=>k("",e,`
`)+O([t,O(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:n,fields:r})=>k("",e,`
`)+O(["input",t,O(n," "),re(r)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:n,repeatable:r,locations:i})=>k("",e,`
`)+"directive @"+t+(Cn(n)?k(`(
`,Gt(O(n,`
`)),`
)`):k("(",O(n,", "),")"))+(r?" repeatable":"")+" on "+O(i," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>O(["extend schema",O(e," "),re(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>O(["extend scalar",e,O(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>O(["extend type",e,k("implements ",O(t," & ")),O(n," "),re(r)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>O(["extend interface",e,k("implements ",O(t," & ")),O(n," "),re(r)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>O(["extend union",e,O(t," "),k("= ",O(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>O(["extend enum",e,O(t," "),re(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>O(["extend input",e,O(t," "),re(n)]," ")},TypeCoordinate:{leave:({name:e})=>e},MemberCoordinate:{leave:({name:e,memberName:t})=>O([e,k(".",t)])},ArgumentCoordinate:{leave:({name:e,fieldName:t,argumentName:n})=>O([e,k(".",t),k("(",n,":)")])},DirectiveCoordinate:{leave:({name:e})=>O(["@",e])},DirectiveArgumentCoordinate:{leave:({name:e,argumentName:t})=>O(["@",e,k("(",t,":)")])}};function O(e,t=""){var n;return(n=e?.filter(r=>r).join(t))!==null&&n!==void 0?n:""}function re(e){return k(`{
`,Gt(O(e,`
`)),`
}`)}function k(e,t,n=""){return t!=null&&t!==""?e+t+n:""}function Gt(e){return k("  ",e.replace(/\n/g,`
  `))}function Cn(e){var t;return(t=e?.some(n=>n.includes(`
`)))!==null&&t!==void 0?t:!1}function sr(e,t){switch(e.kind){case p.NULL:return null;case p.INT:return parseInt(e.value,10);case p.FLOAT:return parseFloat(e.value);case p.STRING:case p.ENUM:case p.BOOLEAN:return e.value;case p.LIST:return e.values.map(n=>sr(n,t));case p.OBJECT:return wr(e.fields,n=>n.name.value,n=>sr(n.value,t));case p.VARIABLE:return t?.[e.name.value]}}function ae(e){if(e!=null||R(!1,"Must provide name."),typeof e=="string"||R(!1,"Expected name to be a string."),e.length===0)throw new N("Expected name to be a non-empty string.");for(let t=1;t<e.length;++t)if(!ds(e.charCodeAt(t)))throw new N(`Names must only contain [_a-zA-Z0-9] but "${e}" does not.`);if(!Ir(e.charCodeAt(0)))throw new N(`Names must start with [_a-zA-Z] but "${e}" does not.`);return e}function Po(e){if(e==="true"||e==="false"||e==="null")throw new N(`Enum values cannot be named: ${e}`);return ae(e)}function kr(e){return vn(e)||ce(e)||ie(e)||gn(e)||Xe(e)||fe(e)||te(e)||L(e)}function vn(e){return ve(e,ut)}function ce(e){return ve(e,Ve)}function ie(e){return ve(e,jo)}function gn(e){return ve(e,Uo)}function Xe(e){return ve(e,Dr)}function fe(e){return ve(e,$o)}function te(e){return ve(e,Z)}function L(e){return ve(e,F)}function gs(e){return vn(e)||Xe(e)||fe(e)||bs(e)&&gs(e.ofType)}function Ze(e){return vn(e)||Xe(e)}function kt(e){return ce(e)||ie(e)||gn(e)}function Re(e){return ie(e)||gn(e)}var Z=class{constructor(e){kr(e)||R(!1,`Expected ${_(e)} to be a GraphQL type.`),this.ofType=e}get[Symbol.toStringTag](){return"GraphQLList"}toString(){return"["+String(this.ofType)+"]"}toJSON(){return this.toString()}},F=class{constructor(e){Es(e)||R(!1,`Expected ${_(e)} to be a GraphQL nullable type.`),this.ofType=e}get[Symbol.toStringTag](){return"GraphQLNonNull"}toString(){return String(this.ofType)+"!"}toJSON(){return this.toString()}};function bs(e){return te(e)||L(e)}function Es(e){return kr(e)&&!L(e)}function Vo(e){if(e)return L(e)?e.ofType:e}function et(e){if(e){let t=e;for(;bs(t);)t=t.ofType;return t}}function Ts(e){return typeof e=="function"?e():e}function Ns(e){return typeof e=="function"?e():e}var ut=class{constructor(e){var t,n,r,i;let s=(t=e.parseValue)!==null&&t!==void 0?t:li;this.name=ae(e.name),this.description=e.description,this.specifiedByURL=e.specifiedByURL,this.serialize=(n=e.serialize)!==null&&n!==void 0?n:li,this.parseValue=s,this.parseLiteral=(r=e.parseLiteral)!==null&&r!==void 0?r:(a,o)=>s(sr(a,o)),this.extensions=se(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(i=e.extensionASTNodes)!==null&&i!==void 0?i:[],e.specifiedByURL==null||typeof e.specifiedByURL=="string"||R(!1,`${this.name} must provide "specifiedByURL" as a string, but got: ${_(e.specifiedByURL)}.`),e.serialize==null||typeof e.serialize=="function"||R(!1,`${this.name} must provide "serialize" function. If this custom Scalar is also used as an input type, ensure "parseValue" and "parseLiteral" functions are also provided.`),e.parseLiteral&&(typeof e.parseValue=="function"&&typeof e.parseLiteral=="function"||R(!1,`${this.name} must provide both "parseValue" and "parseLiteral" functions.`))}get[Symbol.toStringTag](){return"GraphQLScalarType"}toConfig(){return{name:this.name,description:this.description,specifiedByURL:this.specifiedByURL,serialize:this.serialize,parseValue:this.parseValue,parseLiteral:this.parseLiteral,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}},Ve=class{constructor(e){var t;this.name=ae(e.name),this.description=e.description,this.isTypeOf=e.isTypeOf,this.extensions=se(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(t=e.extensionASTNodes)!==null&&t!==void 0?t:[],this._fields=()=>Is(e),this._interfaces=()=>Os(e),e.isTypeOf==null||typeof e.isTypeOf=="function"||R(!1,`${this.name} must provide "isTypeOf" as a function, but got: ${_(e.isTypeOf)}.`)}get[Symbol.toStringTag](){return"GraphQLObjectType"}getFields(){return typeof this._fields=="function"&&(this._fields=this._fields()),this._fields}getInterfaces(){return typeof this._interfaces=="function"&&(this._interfaces=this._interfaces()),this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:_s(this.getFields()),isTypeOf:this.isTypeOf,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}};function Os(e){var t;let n=Ts((t=e.interfaces)!==null&&t!==void 0?t:[]);return Array.isArray(n)||R(!1,`${e.name} interfaces must be an Array or a function which returns an Array.`),n}function Is(e){let t=Ns(e.fields);return Ge(t)||R(!1,`${e.name} fields must be an object with field names as keys or a function which returns such an object.`),yn(t,(n,r)=>{var i;Ge(n)||R(!1,`${e.name}.${r} field config must be an object.`),n.resolve==null||typeof n.resolve=="function"||R(!1,`${e.name}.${r} field resolver must be a function if provided, but got: ${_(n.resolve)}.`);let s=(i=n.args)!==null&&i!==void 0?i:{};return Ge(s)||R(!1,`${e.name}.${r} args must be an object with argument names as keys.`),{name:ae(r),description:n.description,type:n.type,args:ws(s),resolve:n.resolve,subscribe:n.subscribe,deprecationReason:n.deprecationReason,extensions:se(n.extensions),astNode:n.astNode}})}function ws(e){return Object.entries(e).map(([t,n])=>({name:ae(t),description:n.description,type:n.type,defaultValue:n.defaultValue,deprecationReason:n.deprecationReason,extensions:se(n.extensions),astNode:n.astNode}))}function Ge(e){return He(e)&&!Array.isArray(e)}function _s(e){return yn(e,t=>({description:t.description,type:t.type,args:Ss(t.args),resolve:t.resolve,subscribe:t.subscribe,deprecationReason:t.deprecationReason,extensions:t.extensions,astNode:t.astNode}))}function Ss(e){return wr(e,t=>t.name,t=>({description:t.description,type:t.type,defaultValue:t.defaultValue,deprecationReason:t.deprecationReason,extensions:t.extensions,astNode:t.astNode}))}function ks(e){return L(e.type)&&e.defaultValue===void 0}var jo=class{constructor(e){var t;this.name=ae(e.name),this.description=e.description,this.resolveType=e.resolveType,this.extensions=se(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(t=e.extensionASTNodes)!==null&&t!==void 0?t:[],this._fields=Is.bind(void 0,e),this._interfaces=Os.bind(void 0,e),e.resolveType==null||typeof e.resolveType=="function"||R(!1,`${this.name} must provide "resolveType" as a function, but got: ${_(e.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLInterfaceType"}getFields(){return typeof this._fields=="function"&&(this._fields=this._fields()),this._fields}getInterfaces(){return typeof this._interfaces=="function"&&(this._interfaces=this._interfaces()),this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:_s(this.getFields()),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}},Uo=class{constructor(e){var t;this.name=ae(e.name),this.description=e.description,this.resolveType=e.resolveType,this.extensions=se(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(t=e.extensionASTNodes)!==null&&t!==void 0?t:[],this._types=Bo.bind(void 0,e),e.resolveType==null||typeof e.resolveType=="function"||R(!1,`${this.name} must provide "resolveType" as a function, but got: ${_(e.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLUnionType"}getTypes(){return typeof this._types=="function"&&(this._types=this._types()),this._types}toConfig(){return{name:this.name,description:this.description,types:this.getTypes(),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}};function Bo(e){let t=Ts(e.types);return Array.isArray(t)||R(!1,`Must provide Array of types or a function which returns such an array for Union ${e.name}.`),t}var Dr=class{constructor(e){var t;this.name=ae(e.name),this.description=e.description,this.extensions=se(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(t=e.extensionASTNodes)!==null&&t!==void 0?t:[],this._values=typeof e.values=="function"?e.values:ci(this.name,e.values),this._valueLookup=null,this._nameLookup=null}get[Symbol.toStringTag](){return"GraphQLEnumType"}getValues(){return typeof this._values=="function"&&(this._values=ci(this.name,this._values())),this._values}getValue(e){return this._nameLookup===null&&(this._nameLookup=Pe(this.getValues(),t=>t.name)),this._nameLookup[e]}serialize(e){this._valueLookup===null&&(this._valueLookup=new Map(this.getValues().map(n=>[n.value,n])));let t=this._valueLookup.get(e);if(t===void 0)throw new N(`Enum "${this.name}" cannot represent value: ${_(e)}`);return t.name}parseValue(e){if(typeof e!="string"){let n=_(e);throw new N(`Enum "${this.name}" cannot represent non-string value: ${n}.`+Qt(this,n))}let t=this.getValue(e);if(t==null)throw new N(`Value "${e}" does not exist in "${this.name}" enum.`+Qt(this,e));return t.value}parseLiteral(e,t){if(e.kind!==p.ENUM){let r=q(e);throw new N(`Enum "${this.name}" cannot represent non-enum value: ${r}.`+Qt(this,r),{nodes:e})}let n=this.getValue(e.value);if(n==null){let r=q(e);throw new N(`Value "${r}" does not exist in "${this.name}" enum.`+Qt(this,r),{nodes:e})}return n.value}toConfig(){let e=wr(this.getValues(),t=>t.name,t=>({description:t.description,value:t.value,deprecationReason:t.deprecationReason,extensions:t.extensions,astNode:t.astNode}));return{name:this.name,description:this.description,values:e,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}};function Qt(e,t){let n=e.getValues().map(i=>i.name),r=lt(t,n);return Me("the enum value",r)}function ci(e,t){return Ge(t)||R(!1,`${e} values must be an object with value names as keys.`),Object.entries(t).map(([n,r])=>(Ge(r)||R(!1,`${e}.${n} must refer to an object with a "value" key representing an internal value but got: ${_(r)}.`),{name:Po(n),description:r.description,value:r.value!==void 0?r.value:n,deprecationReason:r.deprecationReason,extensions:se(r.extensions),astNode:r.astNode}))}var $o=class{constructor(e){var t,n;this.name=ae(e.name),this.description=e.description,this.extensions=se(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(t=e.extensionASTNodes)!==null&&t!==void 0?t:[],this.isOneOf=(n=e.isOneOf)!==null&&n!==void 0?n:!1,this._fields=qo.bind(void 0,e)}get[Symbol.toStringTag](){return"GraphQLInputObjectType"}getFields(){return typeof this._fields=="function"&&(this._fields=this._fields()),this._fields}toConfig(){let e=yn(this.getFields(),t=>({description:t.description,type:t.type,defaultValue:t.defaultValue,deprecationReason:t.deprecationReason,extensions:t.extensions,astNode:t.astNode}));return{name:this.name,description:this.description,fields:e,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes,isOneOf:this.isOneOf}}toString(){return this.name}toJSON(){return this.toString()}};function qo(e){let t=Ns(e.fields);return Ge(t)||R(!1,`${e.name} fields must be an object with field names as keys or a function which returns such an object.`),yn(t,(n,r)=>(!("resolve"in n)||R(!1,`${e.name}.${r} field has a resolve property, but Input Types cannot define resolvers.`),{name:ae(r),description:n.description,type:n.type,defaultValue:n.defaultValue,deprecationReason:n.deprecationReason,extensions:se(n.extensions),astNode:n.astNode}))}function Qo(e){return L(e.type)&&e.defaultValue===void 0}function Nt(e,t,n){return t===n?!0:L(n)?L(t)?Nt(e,t.ofType,n.ofType):!1:L(t)?Nt(e,t.ofType,n):te(n)?te(t)?Nt(e,t.ofType,n.ofType):!1:te(t)?!1:Re(n)&&(ie(t)||ce(t))&&e.isSubType(n,t)}function fi(e,t,n){return t===n?!0:Re(t)?Re(n)?e.getPossibleTypes(t).some(r=>e.isSubType(n,r)):e.isSubType(t,n):Re(n)?e.isSubType(n,t):!1}var Fn=2147483647,Rn=-2147483648,zo=new ut({name:"Int",description:"The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1.",serialize(e){let t=Lt(e);if(typeof t=="boolean")return t?1:0;let n=t;if(typeof t=="string"&&t!==""&&(n=Number(t)),typeof n!="number"||!Number.isInteger(n))throw new N(`Int cannot represent non-integer value: ${_(t)}`);if(n>Fn||n<Rn)throw new N("Int cannot represent non 32-bit signed integer value: "+_(t));return n},parseValue(e){if(typeof e!="number"||!Number.isInteger(e))throw new N(`Int cannot represent non-integer value: ${_(e)}`);if(e>Fn||e<Rn)throw new N(`Int cannot represent non 32-bit signed integer value: ${e}`);return e},parseLiteral(e){if(e.kind!==p.INT)throw new N(`Int cannot represent non-integer value: ${q(e)}`,{nodes:e});let t=parseInt(e.value,10);if(t>Fn||t<Rn)throw new N(`Int cannot represent non 32-bit signed integer value: ${e.value}`,{nodes:e});return t}}),Go=new ut({name:"Float",description:"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](https://en.wikipedia.org/wiki/IEEE_floating_point).",serialize(e){let t=Lt(e);if(typeof t=="boolean")return t?1:0;let n=t;if(typeof t=="string"&&t!==""&&(n=Number(t)),typeof n!="number"||!Number.isFinite(n))throw new N(`Float cannot represent non numeric value: ${_(t)}`);return n},parseValue(e){if(typeof e!="number"||!Number.isFinite(e))throw new N(`Float cannot represent non numeric value: ${_(e)}`);return e},parseLiteral(e){if(e.kind!==p.FLOAT&&e.kind!==p.INT)throw new N(`Float cannot represent non numeric value: ${q(e)}`,e);return parseFloat(e.value)}}),V=new ut({name:"String",description:"The `String` scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.",serialize(e){let t=Lt(e);if(typeof t=="string")return t;if(typeof t=="boolean")return t?"true":"false";if(typeof t=="number"&&Number.isFinite(t))return t.toString();throw new N(`String cannot represent value: ${_(e)}`)},parseValue(e){if(typeof e!="string")throw new N(`String cannot represent a non string value: ${_(e)}`);return e},parseLiteral(e){if(e.kind!==p.STRING)throw new N(`String cannot represent a non string value: ${q(e)}`,{nodes:e});return e.value}}),H=new ut({name:"Boolean",description:"The `Boolean` scalar type represents `true` or `false`.",serialize(e){let t=Lt(e);if(typeof t=="boolean")return t;if(Number.isFinite(t))return t!==0;throw new N(`Boolean cannot represent a non boolean value: ${_(t)}`)},parseValue(e){if(typeof e!="boolean")throw new N(`Boolean cannot represent a non boolean value: ${_(e)}`);return e},parseLiteral(e){if(e.kind!==p.BOOLEAN)throw new N(`Boolean cannot represent a non boolean value: ${q(e)}`,{nodes:e});return e.value}}),Ds=new ut({name:"ID",description:'The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as `"4"`) or integer (such as `4`) input value will be accepted as an ID.',serialize(e){let t=Lt(e);if(typeof t=="string")return t;if(Number.isInteger(t))return String(t);throw new N(`ID cannot represent value: ${_(e)}`)},parseValue(e){if(typeof e=="string")return e;if(typeof e=="number"&&Number.isInteger(e))return e.toString();throw new N(`ID cannot represent value: ${_(e)}`)},parseLiteral(e){if(e.kind!==p.STRING&&e.kind!==p.INT)throw new N("ID cannot represent a non-string and non-integer value: "+q(e),{nodes:e});return e.value}}),As=Object.freeze([V,zo,Go,H,Ds]);function Lt(e){if(He(e)){if(typeof e.valueOf=="function"){let t=e.valueOf();if(!He(t))return t}if(typeof e.toJSON=="function")return e.toJSON()}return e}var Mt=class{constructor(e){var t,n;this.name=ae(e.name),this.description=e.description,this.locations=e.locations,this.isRepeatable=(t=e.isRepeatable)!==null&&t!==void 0?t:!1,this.extensions=se(e.extensions),this.astNode=e.astNode,Array.isArray(e.locations)||R(!1,`@${e.name} locations must be an Array.`);let r=(n=e.args)!==null&&n!==void 0?n:{};He(r)&&!Array.isArray(r)||R(!1,`@${e.name} args must be an object with argument names as keys.`),this.args=ws(r)}get[Symbol.toStringTag](){return"GraphQLDirective"}toConfig(){return{name:this.name,description:this.description,locations:this.locations,args:Ss(this.args),isRepeatable:this.isRepeatable,extensions:this.extensions,astNode:this.astNode}}toString(){return"@"+this.name}toJSON(){return this.toString()}},Cs=new Mt({name:"include",description:"Directs the executor to include this field or fragment only when the `if` argument is true.",locations:[I.FIELD,I.FRAGMENT_SPREAD,I.INLINE_FRAGMENT],args:{if:{type:new F(H),description:"Included when true."}}}),Fs=new Mt({name:"skip",description:"Directs the executor to skip this field or fragment when the `if` argument is true.",locations:[I.FIELD,I.FRAGMENT_SPREAD,I.INLINE_FRAGMENT],args:{if:{type:new F(H),description:"Skipped when true."}}}),Wo="No longer supported",Yo=new Mt({name:"deprecated",description:"Marks an element of a GraphQL schema as no longer supported.",locations:[I.FIELD_DEFINITION,I.ARGUMENT_DEFINITION,I.INPUT_FIELD_DEFINITION,I.ENUM_VALUE],args:{reason:{type:V,description:"Explains why this element was deprecated, usually also including a suggestion for how to access supported similar data. Formatted using the Markdown syntax, as specified by [CommonMark](https://commonmark.org/).",defaultValue:Wo}}}),Ko=new Mt({name:"specifiedBy",description:"Exposes a URL that specifies the behavior of this scalar.",locations:[I.SCALAR],args:{url:{type:new F(V),description:"The URL that specifies the behavior of this scalar."}}}),Jo=new Mt({name:"oneOf",description:"Indicates exactly one field must be supplied and this field must not be `null`.",locations:[I.INPUT_OBJECT],args:{}}),bn=Object.freeze([Cs,Fs,Yo,Ko,Jo]);function Ho(e){return typeof e=="object"&&typeof e?.[Symbol.iterator]=="function"}function vt(e,t){if(L(t)){let n=vt(e,t.ofType);return n?.kind===p.NULL?null:n}if(e===null)return{kind:p.NULL};if(e===void 0)return null;if(te(t)){let n=t.ofType;if(Ho(e)){let r=[];for(let i of e){let s=vt(i,n);s!=null&&r.push(s)}return{kind:p.LIST,values:r}}return vt(e,n)}if(fe(t)){if(!He(e))return null;let n=[];for(let r of Object.values(t.getFields())){let i=vt(e[r.name],r.type);i&&n.push({kind:p.OBJECT_FIELD,name:{kind:p.NAME,value:r.name},value:i})}return{kind:p.OBJECT,fields:n}}if(Ze(t)){let n=t.serialize(e);if(n==null)return null;if(typeof n=="boolean")return{kind:p.BOOLEAN,value:n};if(typeof n=="number"&&Number.isFinite(n)){let r=String(n);return hi.test(r)?{kind:p.INT,value:r}:{kind:p.FLOAT,value:r}}if(typeof n=="string")return Xe(t)?{kind:p.ENUM,value:n}:t===Ds&&hi.test(n)?{kind:p.INT,value:n}:{kind:p.STRING,value:n};throw new TypeError(`Cannot convert value to AST: ${_(n)}.`)}Te(!1,"Unexpected input type: "+_(t))}var hi=/^-?(?:0|[1-9][0-9]*)$/,Rs=new Ve({name:"__Schema",description:"A GraphQL Schema defines the capabilities of a GraphQL server. It exposes all available types and directives on the server, as well as the entry points for query, mutation, and subscription operations.",fields:()=>({description:{type:V,resolve:e=>e.description},types:{description:"A list of all types supported by this server.",type:new F(new Z(new F(ue))),resolve(e){return Object.values(e.getTypeMap())}},queryType:{description:"The type that query operations will be rooted at.",type:new F(ue),resolve:e=>e.getQueryType()},mutationType:{description:"If this server supports mutation, the type that mutation operations will be rooted at.",type:ue,resolve:e=>e.getMutationType()},subscriptionType:{description:"If this server support subscription, the type that subscription operations will be rooted at.",type:ue,resolve:e=>e.getSubscriptionType()},directives:{description:"A list of all directives supported by this server.",type:new F(new Z(new F(xs))),resolve:e=>e.getDirectives()}})}),xs=new Ve({name:"__Directive",description:`A Directive provides a way to describe alternate runtime execution and type validation behavior in a GraphQL document.

In some cases, you need to provide options to alter GraphQL's execution behavior in ways field arguments will not suffice, such as conditionally including or skipping a field. Directives provide this by describing additional information to the executor.`,fields:()=>({name:{type:new F(V),resolve:e=>e.name},description:{type:V,resolve:e=>e.description},isRepeatable:{type:new F(H),resolve:e=>e.isRepeatable},locations:{type:new F(new Z(new F(Ls))),resolve:e=>e.locations},args:{type:new F(new Z(new F(En))),args:{includeDeprecated:{type:H,defaultValue:!1}},resolve(e,{includeDeprecated:t}){return t?e.args:e.args.filter(n=>n.deprecationReason==null)}}})}),Ls=new Dr({name:"__DirectiveLocation",description:"A Directive can be adjacent to many parts of the GraphQL language, a __DirectiveLocation describes one such possible adjacencies.",values:{QUERY:{value:I.QUERY,description:"Location adjacent to a query operation."},MUTATION:{value:I.MUTATION,description:"Location adjacent to a mutation operation."},SUBSCRIPTION:{value:I.SUBSCRIPTION,description:"Location adjacent to a subscription operation."},FIELD:{value:I.FIELD,description:"Location adjacent to a field."},FRAGMENT_DEFINITION:{value:I.FRAGMENT_DEFINITION,description:"Location adjacent to a fragment definition."},FRAGMENT_SPREAD:{value:I.FRAGMENT_SPREAD,description:"Location adjacent to a fragment spread."},INLINE_FRAGMENT:{value:I.INLINE_FRAGMENT,description:"Location adjacent to an inline fragment."},VARIABLE_DEFINITION:{value:I.VARIABLE_DEFINITION,description:"Location adjacent to a variable definition."},SCHEMA:{value:I.SCHEMA,description:"Location adjacent to a schema definition."},SCALAR:{value:I.SCALAR,description:"Location adjacent to a scalar definition."},OBJECT:{value:I.OBJECT,description:"Location adjacent to an object type definition."},FIELD_DEFINITION:{value:I.FIELD_DEFINITION,description:"Location adjacent to a field definition."},ARGUMENT_DEFINITION:{value:I.ARGUMENT_DEFINITION,description:"Location adjacent to an argument definition."},INTERFACE:{value:I.INTERFACE,description:"Location adjacent to an interface definition."},UNION:{value:I.UNION,description:"Location adjacent to a union definition."},ENUM:{value:I.ENUM,description:"Location adjacent to an enum definition."},ENUM_VALUE:{value:I.ENUM_VALUE,description:"Location adjacent to an enum value definition."},INPUT_OBJECT:{value:I.INPUT_OBJECT,description:"Location adjacent to an input object type definition."},INPUT_FIELD_DEFINITION:{value:I.INPUT_FIELD_DEFINITION,description:"Location adjacent to an input object field definition."}}}),ue=new Ve({name:"__Type",description:"The fundamental unit of any GraphQL Schema is the type. There are many kinds of types in GraphQL as represented by the `__TypeKind` enum.\n\nDepending on the kind of a type, certain fields describe information about that type. Scalar types provide no information beyond a name, description and optional `specifiedByURL`, while Enum types provide their values. Object and Interface types provide the fields they describe. Abstract types, Union and Interface, provide the Object types possible at runtime. List and NonNull types compose other types.",fields:()=>({kind:{type:new F(Vs),resolve(e){if(vn(e))return z.SCALAR;if(ce(e))return z.OBJECT;if(ie(e))return z.INTERFACE;if(gn(e))return z.UNION;if(Xe(e))return z.ENUM;if(fe(e))return z.INPUT_OBJECT;if(te(e))return z.LIST;if(L(e))return z.NON_NULL;Te(!1,`Unexpected type: "${_(e)}".`)}},name:{type:V,resolve:e=>"name"in e?e.name:void 0},description:{type:V,resolve:e=>"description"in e?e.description:void 0},specifiedByURL:{type:V,resolve:e=>"specifiedByURL"in e?e.specifiedByURL:void 0},fields:{type:new Z(new F(Ms)),args:{includeDeprecated:{type:H,defaultValue:!1}},resolve(e,{includeDeprecated:t}){if(ce(e)||ie(e)){let n=Object.values(e.getFields());return t?n:n.filter(r=>r.deprecationReason==null)}}},interfaces:{type:new Z(new F(ue)),resolve(e){if(ce(e)||ie(e))return e.getInterfaces()}},possibleTypes:{type:new Z(new F(ue)),resolve(e,t,n,{schema:r}){if(Re(e))return r.getPossibleTypes(e)}},enumValues:{type:new Z(new F(Ps)),args:{includeDeprecated:{type:H,defaultValue:!1}},resolve(e,{includeDeprecated:t}){if(Xe(e)){let n=e.getValues();return t?n:n.filter(r=>r.deprecationReason==null)}}},inputFields:{type:new Z(new F(En)),args:{includeDeprecated:{type:H,defaultValue:!1}},resolve(e,{includeDeprecated:t}){if(fe(e)){let n=Object.values(e.getFields());return t?n:n.filter(r=>r.deprecationReason==null)}}},ofType:{type:ue,resolve:e=>"ofType"in e?e.ofType:void 0},isOneOf:{type:H,resolve:e=>{if(fe(e))return e.isOneOf}}})}),Ms=new Ve({name:"__Field",description:"Object and Interface types are described by a list of Fields, each of which has a name, potentially a list of arguments, and a return type.",fields:()=>({name:{type:new F(V),resolve:e=>e.name},description:{type:V,resolve:e=>e.description},args:{type:new F(new Z(new F(En))),args:{includeDeprecated:{type:H,defaultValue:!1}},resolve(e,{includeDeprecated:t}){return t?e.args:e.args.filter(n=>n.deprecationReason==null)}},type:{type:new F(ue),resolve:e=>e.type},isDeprecated:{type:new F(H),resolve:e=>e.deprecationReason!=null},deprecationReason:{type:V,resolve:e=>e.deprecationReason}})}),En=new Ve({name:"__InputValue",description:"Arguments provided to Fields or Directives and the input fields of an InputObject are represented as Input Values which describe their type and optionally a default value.",fields:()=>({name:{type:new F(V),resolve:e=>e.name},description:{type:V,resolve:e=>e.description},type:{type:new F(ue),resolve:e=>e.type},defaultValue:{type:V,description:"A GraphQL-formatted string representing the default value for this input value.",resolve(e){let{type:t,defaultValue:n}=e,r=vt(n,t);return r?q(r):null}},isDeprecated:{type:new F(H),resolve:e=>e.deprecationReason!=null},deprecationReason:{type:V,resolve:e=>e.deprecationReason}})}),Ps=new Ve({name:"__EnumValue",description:"One possible value for a given Enum. Enum values are unique values, not a placeholder for a string or numeric value. However an Enum value is returned in a JSON response as a string.",fields:()=>({name:{type:new F(V),resolve:e=>e.name},description:{type:V,resolve:e=>e.description},isDeprecated:{type:new F(H),resolve:e=>e.deprecationReason!=null},deprecationReason:{type:V,resolve:e=>e.deprecationReason}})}),z;(function(e){e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.INPUT_OBJECT="INPUT_OBJECT",e.LIST="LIST",e.NON_NULL="NON_NULL"})(z||(z={}));var Vs=new Dr({name:"__TypeKind",description:"An enum describing what kind of type a given `__Type` is.",values:{SCALAR:{value:z.SCALAR,description:"Indicates this type is a scalar."},OBJECT:{value:z.OBJECT,description:"Indicates this type is an object. `fields` and `interfaces` are valid fields."},INTERFACE:{value:z.INTERFACE,description:"Indicates this type is an interface. `fields`, `interfaces`, and `possibleTypes` are valid fields."},UNION:{value:z.UNION,description:"Indicates this type is a union. `possibleTypes` is a valid field."},ENUM:{value:z.ENUM,description:"Indicates this type is an enum. `enumValues` is a valid field."},INPUT_OBJECT:{value:z.INPUT_OBJECT,description:"Indicates this type is an input object. `inputFields` is a valid field."},LIST:{value:z.LIST,description:"Indicates this type is a list. `ofType` is a valid field."},NON_NULL:{value:z.NON_NULL,description:"Indicates this type is a non-null. `ofType` is a valid field."}}});new F(Rs);new F(V);new F(V);var js=Object.freeze([Rs,xs,Ls,ue,Ms,En,Ps,Vs]);function de(e,t){switch(t.kind){case p.LIST_TYPE:{let n=de(e,t.type);return n&&new Z(n)}case p.NON_NULL_TYPE:{let n=de(e,t.type);return n&&new F(n)}case p.NAMED_TYPE:return e.getType(t.name.value)}}function Xo(e){return e.kind===p.OPERATION_DEFINITION||e.kind===p.FRAGMENT_DEFINITION}function Zo(e){return e.kind===p.SCHEMA_DEFINITION||Ar(e)||e.kind===p.DIRECTIVE_DEFINITION}function Ar(e){return e.kind===p.SCALAR_TYPE_DEFINITION||e.kind===p.OBJECT_TYPE_DEFINITION||e.kind===p.INTERFACE_TYPE_DEFINITION||e.kind===p.UNION_TYPE_DEFINITION||e.kind===p.ENUM_TYPE_DEFINITION||e.kind===p.INPUT_OBJECT_TYPE_DEFINITION}function el(e){return e.kind===p.SCHEMA_EXTENSION||Us(e)}function Us(e){return e.kind===p.SCALAR_TYPE_EXTENSION||e.kind===p.OBJECT_TYPE_EXTENSION||e.kind===p.INTERFACE_TYPE_EXTENSION||e.kind===p.UNION_TYPE_EXTENSION||e.kind===p.ENUM_TYPE_EXTENSION||e.kind===p.INPUT_OBJECT_TYPE_EXTENSION}function tl(e){return{Document(t){for(let n of t.definitions)if(!Xo(n)){let r=n.kind===p.SCHEMA_DEFINITION||n.kind===p.SCHEMA_EXTENSION?"schema":'"'+n.name.value+'"';e.reportError(new N(`The ${r} definition is not executable.`,{nodes:n}))}return!1}}}function nl(e){return{Field(t){let n=e.getParentType();if(n&&!e.getFieldDef()){let r=e.getSchema(),i=t.name.value,s=Me("to use an inline fragment on",rl(r,n,i));s===""&&(s=Me(il(n,i))),e.reportError(new N(`Cannot query field "${i}" on type "${n.name}".`+s,{nodes:t}))}}}}function rl(e,t,n){if(!Re(t))return[];let r=new Set,i=Object.create(null);for(let a of e.getPossibleTypes(t))if(a.getFields()[n]){r.add(a),i[a.name]=1;for(let o of a.getInterfaces()){var s;o.getFields()[n]&&(r.add(o),i[o.name]=((s=i[o.name])!==null&&s!==void 0?s:0)+1)}}return[...r].sort((a,o)=>{let l=i[o.name]-i[a.name];return l!==0?l:ie(a)&&e.isSubType(a,o)?-1:ie(o)&&e.isSubType(o,a)?1:_r(a.name,o.name)}).map(a=>a.name)}function il(e,t){if(ce(e)||ie(e)){let n=Object.keys(e.getFields());return lt(t,n)}return[]}function sl(e){return{InlineFragment(t){let n=t.typeCondition;if(n){let r=de(e.getSchema(),n);if(r&&!kt(r)){let i=q(n);e.reportError(new N(`Fragment cannot condition on non composite type "${i}".`,{nodes:n}))}}},FragmentDefinition(t){let n=de(e.getSchema(),t.typeCondition);if(n&&!kt(n)){let r=q(t.typeCondition);e.reportError(new N(`Fragment "${t.name.value}" cannot condition on non composite type "${r}".`,{nodes:t.typeCondition}))}}}}function al(e){return{...ol(e),Argument(t){let n=e.getArgument(),r=e.getFieldDef(),i=e.getParentType();if(!n&&r&&i){let s=t.name.value,a=r.args.map(l=>l.name),o=lt(s,a);e.reportError(new N(`Unknown argument "${s}" on field "${i.name}.${r.name}".`+Me(o),{nodes:t}))}}}}function ol(e){let t=Object.create(null),n=e.getSchema(),r=n?n.getDirectives():bn;for(let a of r)t[a.name]=a.args.map(o=>o.name);let i=e.getDocument().definitions;for(let a of i)if(a.kind===p.DIRECTIVE_DEFINITION){var s;let o=(s=a.arguments)!==null&&s!==void 0?s:[];t[a.name.value]=o.map(l=>l.name.value)}return{Directive(a){let o=a.name.value,l=t[o];if(a.arguments&&l)for(let u of a.arguments){let c=u.name.value;if(!l.includes(c)){let f=lt(c,l);e.reportError(new N(`Unknown argument "${c}" on directive "@${o}".`+Me(f),{nodes:u}))}}return!1}}}function ll(e){let t=Object.create(null),n=e.getSchema(),r=n?n.getDirectives():bn;for(let s of r)t[s.name]=s.locations;let i=e.getDocument().definitions;for(let s of i)s.kind===p.DIRECTIVE_DEFINITION&&(t[s.name.value]=s.locations.map(a=>a.value));return{Directive(s,a,o,l,u){let c=s.name.value,f=t[c];if(!f){e.reportError(new N(`Unknown directive "@${c}".`,{nodes:s}));return}let h=ul(u);h&&!f.includes(h)&&e.reportError(new N(`Directive "@${c}" may not be used on ${h}.`,{nodes:s}))}}}function ul(e){let t=e[e.length-1];switch("kind"in t||Te(),t.kind){case p.OPERATION_DEFINITION:return cl(t.operation);case p.FIELD:return I.FIELD;case p.FRAGMENT_SPREAD:return I.FRAGMENT_SPREAD;case p.INLINE_FRAGMENT:return I.INLINE_FRAGMENT;case p.FRAGMENT_DEFINITION:return I.FRAGMENT_DEFINITION;case p.VARIABLE_DEFINITION:return I.VARIABLE_DEFINITION;case p.SCHEMA_DEFINITION:case p.SCHEMA_EXTENSION:return I.SCHEMA;case p.SCALAR_TYPE_DEFINITION:case p.SCALAR_TYPE_EXTENSION:return I.SCALAR;case p.OBJECT_TYPE_DEFINITION:case p.OBJECT_TYPE_EXTENSION:return I.OBJECT;case p.FIELD_DEFINITION:return I.FIELD_DEFINITION;case p.INTERFACE_TYPE_DEFINITION:case p.INTERFACE_TYPE_EXTENSION:return I.INTERFACE;case p.UNION_TYPE_DEFINITION:case p.UNION_TYPE_EXTENSION:return I.UNION;case p.ENUM_TYPE_DEFINITION:case p.ENUM_TYPE_EXTENSION:return I.ENUM;case p.ENUM_VALUE_DEFINITION:return I.ENUM_VALUE;case p.INPUT_OBJECT_TYPE_DEFINITION:case p.INPUT_OBJECT_TYPE_EXTENSION:return I.INPUT_OBJECT;case p.INPUT_VALUE_DEFINITION:{let n=e[e.length-3];return"kind"in n||Te(),n.kind===p.INPUT_OBJECT_TYPE_DEFINITION?I.INPUT_FIELD_DEFINITION:I.ARGUMENT_DEFINITION}default:Te(!1,"Unexpected kind: "+_(t.kind))}}function cl(e){switch(e){case K.QUERY:return I.QUERY;case K.MUTATION:return I.MUTATION;case K.SUBSCRIPTION:return I.SUBSCRIPTION}}function fl(e){return{FragmentSpread(t){let n=t.name.value;e.getFragment(n)||e.reportError(new N(`Unknown fragment "${n}".`,{nodes:t.name}))}}}function hl(e){let t=e.getSchema(),n=t?t.getTypeMap():Object.create(null),r=Object.create(null);for(let s of e.getDocument().definitions)Ar(s)&&(r[s.name.value]=!0);let i=[...Object.keys(n),...Object.keys(r)];return{NamedType(s,a,o,l,u){let c=s.name.value;if(!n[c]&&!r[c]){var f;let h=(f=u[2])!==null&&f!==void 0?f:o,d=h!=null&&dl(h);if(d&&di.includes(c))return;let m=lt(c,d?di.concat(i):i);e.reportError(new N(`Unknown type "${c}".`+Me(m),{nodes:s}))}}}}var di=[...As,...js].map(e=>e.name);function dl(e){return"kind"in e&&(Zo(e)||el(e))}function pl(e){let t=0;return{Document(n){t=n.definitions.filter(r=>r.kind===p.OPERATION_DEFINITION).length},OperationDefinition(n){!n.name&&t>1&&e.reportError(new N("This anonymous operation must be the only defined operation.",{nodes:n}))}}}var ml=3;function yl(e){function t(n,r=Object.create(null),i=0){if(n.kind===p.FRAGMENT_SPREAD){let s=n.name.value;if(r[s]===!0)return!1;let a=e.getFragment(s);if(!a)return!1;try{return r[s]=!0,t(a,r,i)}finally{r[s]=void 0}}if(n.kind===p.FIELD&&(n.name.value==="fields"||n.name.value==="interfaces"||n.name.value==="possibleTypes"||n.name.value==="inputFields")&&(i++,i>=ml))return!0;if("selectionSet"in n&&n.selectionSet){for(let s of n.selectionSet.selections)if(t(s,r,i))return!0}return!1}return{Field(n){if((n.name.value==="__schema"||n.name.value==="__type")&&t(n))return e.reportError(new N("Maximum introspection depth exceeded",{nodes:[n]})),!1}}}function vl(e){let t=Object.create(null),n=[],r=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(s){return i(s),!1}};function i(s){if(t[s.name.value])return;let a=s.name.value;t[a]=!0;let o=e.getFragmentSpreads(s.selectionSet);if(o.length!==0){r[a]=n.length;for(let l of o){let u=l.name.value,c=r[u];if(n.push(l),c===void 0){let f=e.getFragment(u);f&&i(f)}else{let f=n.slice(c),h=f.slice(0,-1).map(d=>'"'+d.name.value+'"').join(", ");e.reportError(new N(`Cannot spread fragment "${u}" within itself`+(h!==""?` via ${h}.`:"."),{nodes:f}))}n.pop()}r[a]=void 0}}}function gl(e){let t=Object.create(null);return{OperationDefinition:{enter(){t=Object.create(null)},leave(n){let r=e.getRecursiveVariableUsages(n);for(let{node:i}of r){let s=i.name.value;t[s]!==!0&&e.reportError(new N(n.name?`Variable "$${s}" is not defined by operation "${n.name.value}".`:`Variable "$${s}" is not defined.`,{nodes:[i,n]}))}}},VariableDefinition(n){t[n.variable.name.value]=!0}}}function bl(e){let t=[],n=[];return{OperationDefinition(r){return t.push(r),!1},FragmentDefinition(r){return n.push(r),!1},Document:{leave(){let r=Object.create(null);for(let i of t)for(let s of e.getRecursivelyReferencedFragments(i))r[s.name.value]=!0;for(let i of n){let s=i.name.value;r[s]!==!0&&e.reportError(new N(`Fragment "${s}" is never used.`,{nodes:i}))}}}}}function El(e){let t=[];return{OperationDefinition:{enter(){t=[]},leave(n){let r=Object.create(null),i=e.getRecursiveVariableUsages(n);for(let{node:s}of i)r[s.name.value]=!0;for(let s of t){let a=s.variable.name.value;r[a]!==!0&&e.reportError(new N(n.name?`Variable "$${a}" is never used in operation "${n.name.value}".`:`Variable "$${a}" is never used.`,{nodes:s}))}}},VariableDefinition(n){t.push(n)}}}function Cr(e){switch(e.kind){case p.OBJECT:return{...e,fields:Tl(e.fields)};case p.LIST:return{...e,values:e.values.map(Cr)};case p.INT:case p.FLOAT:case p.STRING:case p.BOOLEAN:case p.NULL:case p.ENUM:case p.VARIABLE:return e}}function Tl(e){return e.map(t=>({...t,value:Cr(t.value)})).sort((t,n)=>_r(t.name.value,n.name.value))}function Bs(e){return Array.isArray(e)?e.map(([t,n])=>`subfields "${t}" conflict because `+Bs(n)).join(" and "):e}function Nl(e){let t=new Qs,n=new kl,r=new Map;return{SelectionSet(i){let s=Ol(e,r,t,n,e.getParentType(),i);for(let[[a,o],l,u]of s){let c=Bs(o);e.reportError(new N(`Fields "${a}" conflict because ${c}. Use different aliases on the fields to fetch both if this was intentional.`,{nodes:l.concat(u)}))}}}}function Ol(e,t,n,r,i,s){let a=[],[o,l]=tn(e,t,i,s);if(wl(e,a,t,n,r,o),l.length!==0)for(let u=0;u<l.length;u++){Zt(e,a,t,n,r,!1,o,l[u]);for(let c=u+1;c<l.length;c++)en(e,a,t,n,r,!1,l[u],l[c])}return a}function Zt(e,t,n,r,i,s,a,o){if(r.has(a,o,s))return;r.add(a,o,s);let l=e.getFragment(o);if(!l)return;let[u,c]=or(e,n,l);if(a!==u){Fr(e,t,n,r,i,s,a,u);for(let f of c)Zt(e,t,n,r,i,s,a,f)}}function en(e,t,n,r,i,s,a,o){if(a===o||i.has(a,o,s))return;i.add(a,o,s);let l=e.getFragment(a),u=e.getFragment(o);if(!l||!u)return;let[c,f]=or(e,n,l),[h,d]=or(e,n,u);Fr(e,t,n,r,i,s,c,h);for(let m of d)en(e,t,n,r,i,s,a,m);for(let m of f)en(e,t,n,r,i,s,m,o)}function Il(e,t,n,r,i,s,a,o,l){let u=[],[c,f]=tn(e,t,s,a),[h,d]=tn(e,t,o,l);Fr(e,u,t,n,r,i,c,h);for(let m of d)Zt(e,u,t,n,r,i,c,m);for(let m of f)Zt(e,u,t,n,r,i,h,m);for(let m of f)for(let b of d)en(e,u,t,n,r,i,m,b);return u}function wl(e,t,n,r,i,s){for(let[a,o]of Object.entries(s))if(o.length>1)for(let l=0;l<o.length;l++)for(let u=l+1;u<o.length;u++){let c=$s(e,n,r,i,!1,a,o[l],o[u]);c&&t.push(c)}}function Fr(e,t,n,r,i,s,a,o){for(let[l,u]of Object.entries(a)){let c=o[l];if(c)for(let f of u)for(let h of c){let d=$s(e,n,r,i,s,l,f,h);d&&t.push(d)}}}function $s(e,t,n,r,i,s,a,o){let[l,u,c]=a,[f,h,d]=o,m=i||l!==f&&ce(l)&&ce(f);if(!m){let w=u.name.value,S=h.name.value;if(w!==S)return[[s,`"${w}" and "${S}" are different fields`],[u],[h]];if(!_l(u,h))return[[s,"they have differing arguments"],[u],[h]]}let b=c?.type,v=d?.type;if(b&&v&&ar(b,v))return[[s,`they return conflicting types "${_(b)}" and "${_(v)}"`],[u],[h]];let E=u.selectionSet,T=h.selectionSet;if(E&&T){let w=Il(e,t,n,r,m,et(b),E,et(v),T);return Sl(w,s,u,h)}}function _l(e,t){let n=e.arguments,r=t.arguments;if(n===void 0||n.length===0)return r===void 0||r.length===0;if(r===void 0||r.length===0||n.length!==r.length)return!1;let i=new Map(r.map(({name:s,value:a})=>[s.value,a]));return n.every(s=>{let a=s.value,o=i.get(s.name.value);return o===void 0?!1:pi(a)===pi(o)})}function pi(e){return q(Cr(e))}function ar(e,t){return te(e)?te(t)?ar(e.ofType,t.ofType):!0:te(t)?!0:L(e)?L(t)?ar(e.ofType,t.ofType):!0:L(t)?!0:Ze(e)||Ze(t)?e!==t:!1}function tn(e,t,n,r){let i=t.get(r);if(i)return i;let s=Object.create(null),a=Object.create(null);qs(e,n,r,s,a);let o=[s,Object.keys(a)];return t.set(r,o),o}function or(e,t,n){let r=t.get(n.selectionSet);if(r)return r;let i=de(e.getSchema(),n.typeCondition);return tn(e,t,i,n.selectionSet)}function qs(e,t,n,r,i){for(let s of n.selections)switch(s.kind){case p.FIELD:{let a=s.name.value,o;(ce(t)||ie(t))&&(o=t.getFields()[a]);let l=s.alias?s.alias.value:a;r[l]||(r[l]=[]),r[l].push([t,s,o]);break}case p.FRAGMENT_SPREAD:i[s.name.value]=!0;break;case p.INLINE_FRAGMENT:{let a=s.typeCondition,o=a?de(e.getSchema(),a):t;qs(e,o,s.selectionSet,r,i);break}}}function Sl(e,t,n,r){if(e.length>0)return[[t,e.map(([i])=>i)],[n,...e.map(([,i])=>i).flat()],[r,...e.map(([,,i])=>i).flat()]]}var Qs=class{constructor(){this._data=new Map}has(e,t,n){var r;let i=(r=this._data.get(e))===null||r===void 0?void 0:r.get(t);return i===void 0?!1:n?!0:n===i}add(e,t,n){let r=this._data.get(e);r===void 0?this._data.set(e,new Map([[t,n]])):r.set(t,n)}},kl=class{constructor(){this._orderedPairSet=new Qs}has(e,t,n){return e<t?this._orderedPairSet.has(e,t,n):this._orderedPairSet.has(t,e,n)}add(e,t,n){e<t?this._orderedPairSet.add(e,t,n):this._orderedPairSet.add(t,e,n)}};function Dl(e){return{InlineFragment(t){let n=e.getType(),r=e.getParentType();if(kt(n)&&kt(r)&&!fi(e.getSchema(),n,r)){let i=_(r),s=_(n);e.reportError(new N(`Fragment cannot be spread here as objects of type "${i}" can never be of type "${s}".`,{nodes:t}))}},FragmentSpread(t){let n=t.name.value,r=Al(e,n),i=e.getParentType();if(r&&i&&!fi(e.getSchema(),r,i)){let s=_(i),a=_(r);e.reportError(new N(`Fragment "${n}" cannot be spread here as objects of type "${s}" can never be of type "${a}".`,{nodes:t}))}}}}function Al(e,t){let n=e.getFragment(t);if(n){let r=de(e.getSchema(),n.typeCondition);if(kt(r))return r}}p.SCALAR_TYPE_DEFINITION+"",p.SCALAR_TYPE_EXTENSION,p.OBJECT_TYPE_DEFINITION+"",p.OBJECT_TYPE_EXTENSION,p.INTERFACE_TYPE_DEFINITION+"",p.INTERFACE_TYPE_EXTENSION,p.UNION_TYPE_DEFINITION+"",p.UNION_TYPE_EXTENSION,p.ENUM_TYPE_DEFINITION+"",p.ENUM_TYPE_EXTENSION,p.INPUT_OBJECT_TYPE_DEFINITION+"",p.INPUT_OBJECT_TYPE_EXTENSION;function Cl(e){return{...Fl(e),Field:{leave(t){var n;let r=e.getFieldDef();if(!r)return!1;let i=new Set((n=t.arguments)===null||n===void 0?void 0:n.map(s=>s.name.value));for(let s of r.args)if(!i.has(s.name)&&ks(s)){let a=_(s.type);e.reportError(new N(`Field "${r.name}" argument "${s.name}" of type "${a}" is required, but it was not provided.`,{nodes:t}))}}}}}function Fl(e){var t;let n=Object.create(null),r=e.getSchema(),i=(t=r?.getDirectives())!==null&&t!==void 0?t:bn;for(let o of i)n[o.name]=Pe(o.args.filter(ks),l=>l.name);let s=e.getDocument().definitions;for(let o of s)if(o.kind===p.DIRECTIVE_DEFINITION){var a;let l=(a=o.arguments)!==null&&a!==void 0?a:[];n[o.name.value]=Pe(l.filter(Rl),u=>u.name.value)}return{Directive:{leave(o){let l=o.name.value,u=n[l];if(u){var c;let f=(c=o.arguments)!==null&&c!==void 0?c:[],h=new Set(f.map(d=>d.name.value));for(let[d,m]of Object.entries(u))if(!h.has(d)){let b=kr(m.type)?_(m.type):q(m.type);e.reportError(new N(`Directive "@${l}" argument "${d}" of type "${b}" is required, but it was not provided.`,{nodes:o}))}}}}}}function Rl(e){return e.type.kind===p.NON_NULL_TYPE&&e.defaultValue==null}function xl(e){return{Field(t){let n=e.getType(),r=t.selectionSet;if(n)if(Ze(et(n))){if(r){let i=t.name.value,s=_(n);e.reportError(new N(`Field "${i}" must not have a selection since type "${s}" has no subfields.`,{nodes:r}))}}else if(r){if(r.selections.length===0){let i=t.name.value,s=_(n);e.reportError(new N(`Field "${i}" of type "${s}" must have at least one field selected.`,{nodes:t}))}}else{let i=t.name.value,s=_(n);e.reportError(new N(`Field "${i}" of type "${s}" must have a selection of subfields. Did you mean "${i} { ... }"?`,{nodes:t}))}}}}function gt(e,t,n){if(e){if(e.kind===p.VARIABLE){let r=e.name.value;if(n==null||n[r]===void 0)return;let i=n[r];return i===null&&L(t)?void 0:i}if(L(t))return e.kind===p.NULL?void 0:gt(e,t.ofType,n);if(e.kind===p.NULL)return null;if(te(t)){let r=t.ofType;if(e.kind===p.LIST){let s=[];for(let a of e.values)if(mi(a,n)){if(L(r))return;s.push(null)}else{let o=gt(a,r,n);if(o===void 0)return;s.push(o)}return s}let i=gt(e,r,n);return i===void 0?void 0:[i]}if(fe(t)){if(e.kind!==p.OBJECT)return;let r=Object.create(null),i=Pe(e.fields,s=>s.name.value);for(let s of Object.values(t.getFields())){let a=i[s.name];if(!a||mi(a.value,n)){if(s.defaultValue!==void 0)r[s.name]=s.defaultValue;else if(L(s.type))return;continue}let o=gt(a.value,s.type,n);if(o===void 0)return;r[s.name]=o}if(t.isOneOf){let s=Object.keys(r);if(s.length!==1||r[s[0]]===null)return}return r}if(Ze(t)){let r;try{r=t.parseLiteral(e,n)}catch{return}return r===void 0?void 0:r}Te(!1,"Unexpected input type: "+_(t))}}function mi(e,t){return e.kind===p.VARIABLE&&(t==null||t[e.name.value]===void 0)}function Ll(e,t,n){var r;let i={},s=(r=t.arguments)!==null&&r!==void 0?r:[],a=Pe(s,o=>o.name.value);for(let o of e.args){let l=o.name,u=o.type,c=a[l];if(!c){if(o.defaultValue!==void 0)i[l]=o.defaultValue;else if(L(u))throw new N(`Argument "${l}" of required type "${_(u)}" was not provided.`,{nodes:t});continue}let f=c.value,h=f.kind===p.NULL;if(f.kind===p.VARIABLE){let m=f.name.value;if(n==null||!Ml(n,m)){if(o.defaultValue!==void 0)i[l]=o.defaultValue;else if(L(u))throw new N(`Argument "${l}" of required type "${_(u)}" was provided the variable "$${m}" which was not provided a runtime value.`,{nodes:f});continue}h=n[m]==null}if(h&&L(u))throw new N(`Argument "${l}" of non-null type "${_(u)}" must not be null.`,{nodes:f});let d=gt(f,u,n);if(d===void 0)throw new N(`Argument "${l}" has invalid value ${q(f)}.`,{nodes:f});i[l]=d}return i}function yi(e,t,n){var r;let i=(r=t.directives)===null||r===void 0?void 0:r.find(s=>s.name.value===e.name);if(i)return Ll(e,i,n)}function Ml(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Pl(e,t,n,r,i){let s=new Map;return lr(e,t,n,r,i,s,new Set),s}function lr(e,t,n,r,i,s,a){for(let o of i.selections)switch(o.kind){case p.FIELD:{if(!xn(n,o))continue;let l=Vl(o),u=s.get(l);u!==void 0?u.push(o):s.set(l,[o]);break}case p.INLINE_FRAGMENT:{if(!xn(n,o)||!vi(e,o,r))continue;lr(e,t,n,r,o.selectionSet,s,a);break}case p.FRAGMENT_SPREAD:{let l=o.name.value;if(a.has(l)||!xn(n,o))continue;a.add(l);let u=t[l];if(!u||!vi(e,u,r))continue;lr(e,t,n,r,u.selectionSet,s,a);break}}}function xn(e,t){return yi(Fs,t,e)?.if===!0?!1:yi(Cs,t,e)?.if!==!1}function vi(e,t,n){let r=t.typeCondition;if(!r)return!0;let i=de(e,r);return i===n?!0:Re(i)?e.isSubType(i,n):!1}function Vl(e){return e.alias?e.alias.value:e.name.value}function jl(e){return{OperationDefinition(t){if(t.operation==="subscription"){let n=e.getSchema(),r=n.getSubscriptionType();if(r){let i=t.name?t.name.value:null,s=Object.create(null),a=e.getDocument(),o=Object.create(null);for(let u of a.definitions)u.kind===p.FRAGMENT_DEFINITION&&(o[u.name.value]=u);let l=Pl(n,o,s,r,t.selectionSet);if(l.size>1){let u=[...l.values()].slice(1).flat();e.reportError(new N(i!=null?`Subscription "${i}" must select only one top level field.`:"Anonymous Subscription must select only one top level field.",{nodes:u}))}for(let u of l.values())u[0].name.value.startsWith("__")&&e.reportError(new N(i!=null?`Subscription "${i}" must not select an introspection top level field.`:"Anonymous Subscription must not select an introspection top level field.",{nodes:u}))}}}}}function zs(e,t){let n=new Map;for(let r of e){let i=t(r),s=n.get(i);s===void 0?n.set(i,[r]):s.push(r)}return n}function Ul(e){return{Field:t,Directive:t};function t(n){var r;let i=(r=n.arguments)!==null&&r!==void 0?r:[],s=zs(i,a=>a.name.value);for(let[a,o]of s)o.length>1&&e.reportError(new N(`There can be only one argument named "${a}".`,{nodes:o.map(l=>l.name)}))}}function Bl(e){let t=Object.create(null),n=e.getSchema(),r=n?n.getDirectives():bn;for(let o of r)t[o.name]=!o.isRepeatable;let i=e.getDocument().definitions;for(let o of i)o.kind===p.DIRECTIVE_DEFINITION&&(t[o.name.value]=!o.repeatable);let s=Object.create(null),a=Object.create(null);return{enter(o){if(!("directives"in o)||!o.directives)return;let l;if(o.kind===p.SCHEMA_DEFINITION||o.kind===p.SCHEMA_EXTENSION)l=s;else if(Ar(o)||Us(o)){let u=o.name.value;l=a[u],l===void 0&&(a[u]=l=Object.create(null))}else l=Object.create(null);for(let u of o.directives){let c=u.name.value;t[c]&&(l[c]?e.reportError(new N(`The directive "@${c}" can only be used once at this location.`,{nodes:[l[c],u]})):l[c]=u)}}}}function $l(e){let t=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(n){let r=n.name.value;return t[r]?e.reportError(new N(`There can be only one fragment named "${r}".`,{nodes:[t[r],n.name]})):t[r]=n.name,!1}}}function ql(e){let t=[],n=Object.create(null);return{ObjectValue:{enter(){t.push(n),n=Object.create(null)},leave(){let r=t.pop();r||Te(),n=r}},ObjectField(r){let i=r.name.value;n[i]?e.reportError(new N(`There can be only one input field named "${i}".`,{nodes:[n[i],r.name]})):n[i]=r.name}}}function Ql(e){let t=Object.create(null);return{OperationDefinition(n){let r=n.name;return r&&(t[r.value]?e.reportError(new N(`There can be only one operation named "${r.value}".`,{nodes:[t[r.value],r]})):t[r.value]=r),!1},FragmentDefinition:()=>!1}}function zl(e){return{OperationDefinition(t){var n;let r=(n=t.variableDefinitions)!==null&&n!==void 0?n:[],i=zs(r,s=>s.variable.name.value);for(let[s,a]of i)a.length>1&&e.reportError(new N(`There can be only one variable named "$${s}".`,{nodes:a.map(o=>o.variable.name)}))}}}function Gl(e){let t={};return{OperationDefinition:{enter(){t={}}},VariableDefinition(n){t[n.variable.name.value]=n},ListValue(n){let r=Vo(e.getParentInputType());if(!te(r))return De(e,n),!1},ObjectValue(n){let r=et(e.getInputType());if(!fe(r))return De(e,n),!1;let i=Pe(n.fields,s=>s.name.value);for(let s of Object.values(r.getFields()))if(!i[s.name]&&Qo(s)){let a=_(s.type);e.reportError(new N(`Field "${r.name}.${s.name}" of required type "${a}" was not provided.`,{nodes:n}))}r.isOneOf&&Wl(e,n,r,i)},ObjectField(n){let r=et(e.getParentInputType());if(!e.getInputType()&&fe(r)){let i=lt(n.name.value,Object.keys(r.getFields()));e.reportError(new N(`Field "${n.name.value}" is not defined by type "${r.name}".`+Me(i),{nodes:n}))}},NullValue(n){let r=e.getInputType();L(r)&&e.reportError(new N(`Expected value of type "${_(r)}", found ${q(n)}.`,{nodes:n}))},EnumValue:n=>De(e,n),IntValue:n=>De(e,n),FloatValue:n=>De(e,n),StringValue:n=>De(e,n),BooleanValue:n=>De(e,n)}}function De(e,t){let n=e.getInputType();if(!n)return;let r=et(n);if(!Ze(r)){let i=_(n);e.reportError(new N(`Expected value of type "${i}", found ${q(t)}.`,{nodes:t}));return}try{if(r.parseLiteral(t,void 0)===void 0){let i=_(n);e.reportError(new N(`Expected value of type "${i}", found ${q(t)}.`,{nodes:t}))}}catch(i){let s=_(n);i instanceof N?e.reportError(i):e.reportError(new N(`Expected value of type "${s}", found ${q(t)}; `+i.message,{nodes:t,originalError:i}))}}function Wl(e,t,n,r){var i;let s=Object.keys(r);if(s.length!==1){e.reportError(new N(`OneOf Input Object "${n.name}" must specify exactly one key.`,{nodes:[t]}));return}let a=(i=r[s[0]])===null||i===void 0?void 0:i.value;(!a||a.kind===p.NULL)&&e.reportError(new N(`Field "${n.name}.${s[0]}" must be non-null.`,{nodes:[t]}))}function Yl(e){return{VariableDefinition(t){let n=de(e.getSchema(),t.type);if(n!==void 0&&!gs(n)){let r=t.variable.name.value,i=q(t.type);e.reportError(new N(`Variable "$${r}" cannot be non-input type "${i}".`,{nodes:t.type}))}}}}function Kl(e){let t=Object.create(null);return{OperationDefinition:{enter(){t=Object.create(null)},leave(n){let r=e.getRecursiveVariableUsages(n);for(let{node:i,type:s,defaultValue:a,parentType:o}of r){let l=i.name.value,u=t[l];if(u&&s){let c=e.getSchema(),f=de(c,u.type);if(f&&!Jl(c,f,u.defaultValue,s,a)){let h=_(f),d=_(s);e.reportError(new N(`Variable "$${l}" of type "${h}" used in position expecting type "${d}".`,{nodes:[u,i]}))}fe(o)&&o.isOneOf&&Es(f)&&e.reportError(new N(`Variable "$${l}" is of type "${f}" but must be non-nullable to be used for OneOf Input Object "${o}".`,{nodes:[u,i]}))}}}},VariableDefinition(n){t[n.variable.name.value]=n}}}function Jl(e,t,n,r,i){if(L(r)&&!L(t)){if(!(n!=null&&n.kind!==p.NULL)&&i===void 0)return!1;let s=r.ofType;return Nt(e,t,s)}return Nt(e,t,r)}var Hl=Object.freeze([yl]);Object.freeze([tl,Ql,pl,jl,hl,sl,Yl,xl,nl,$l,fl,bl,Dl,vl,zl,gl,El,ll,Bl,al,Ul,Gl,Cl,Kl,Nl,ql,...Hl]);Pe([...As,...js],e=>e.name);var gi;(function(e){e.TYPE_REMOVED="TYPE_REMOVED",e.TYPE_CHANGED_KIND="TYPE_CHANGED_KIND",e.TYPE_REMOVED_FROM_UNION="TYPE_REMOVED_FROM_UNION",e.VALUE_REMOVED_FROM_ENUM="VALUE_REMOVED_FROM_ENUM",e.REQUIRED_INPUT_FIELD_ADDED="REQUIRED_INPUT_FIELD_ADDED",e.IMPLEMENTED_INTERFACE_REMOVED="IMPLEMENTED_INTERFACE_REMOVED",e.FIELD_REMOVED="FIELD_REMOVED",e.FIELD_CHANGED_KIND="FIELD_CHANGED_KIND",e.REQUIRED_ARG_ADDED="REQUIRED_ARG_ADDED",e.ARG_REMOVED="ARG_REMOVED",e.ARG_CHANGED_KIND="ARG_CHANGED_KIND",e.DIRECTIVE_REMOVED="DIRECTIVE_REMOVED",e.DIRECTIVE_ARG_REMOVED="DIRECTIVE_ARG_REMOVED",e.REQUIRED_DIRECTIVE_ARG_ADDED="REQUIRED_DIRECTIVE_ARG_ADDED",e.DIRECTIVE_REPEATABLE_REMOVED="DIRECTIVE_REPEATABLE_REMOVED",e.DIRECTIVE_LOCATION_REMOVED="DIRECTIVE_LOCATION_REMOVED"})(gi||(gi={}));var bi;(function(e){e.VALUE_ADDED_TO_ENUM="VALUE_ADDED_TO_ENUM",e.TYPE_ADDED_TO_UNION="TYPE_ADDED_TO_UNION",e.OPTIONAL_INPUT_FIELD_ADDED="OPTIONAL_INPUT_FIELD_ADDED",e.OPTIONAL_ARG_ADDED="OPTIONAL_ARG_ADDED",e.IMPLEMENTED_INTERFACE_ADDED="IMPLEMENTED_INTERFACE_ADDED",e.ARG_DEFAULT_VALUE_CHANGE="ARG_DEFAULT_VALUE_CHANGE"})(bi||(bi={}));var ur=function(e,t){return ur=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},ur(e,t)};function je(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ur(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var nn=function(){return nn=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},nn.apply(this,arguments)};function Xl(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(c){try{u(r.next(c))}catch(f){a(f)}}function l(c){try{u(r.throw(c))}catch(f){a(f)}}function u(c){c.done?s(c.value):i(c.value).then(o,l)}u((r=r.apply(e,t||[])).next())})}function Gs(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function tt(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function rn(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function sn(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function We(e){return this instanceof We?(this.v=e,this):new We(e)}function Zl(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(d){return function(m){return Promise.resolve(m).then(d,f)}}function o(d,m){r[d]&&(i[d]=function(b){return new Promise(function(v,E){s.push([d,b,v,E])>1||l(d,b)})},m&&(i[d]=m(i[d])))}function l(d,m){try{u(r[d](m))}catch(b){h(s[0][3],b)}}function u(d){d.value instanceof We?Promise.resolve(d.value.v).then(c,f):h(s[0][2],d)}function c(d){l("next",d)}function f(d){l("throw",d)}function h(d,m){d(m),s.shift(),s.length&&l(s[0][0],s[0][1])}}function eu(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof tt=="function"?tt(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(a){return new Promise(function(o,l){a=e[s](a),i(o,l,a.done,a.value)})}}function i(s,a,o,l){Promise.resolve(l).then(function(u){s({value:u,done:o})},a)}}function P(e){return typeof e=="function"}function Rr(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ln=Rr(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function cr(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Tn=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,s;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var o=tt(a),l=o.next();!l.done;l=o.next()){var u=l.value;u.remove(this)}}catch(b){t={error:b}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}else a.remove(this);var c=this.initialTeardown;if(P(c))try{c()}catch(b){s=b instanceof Ln?b.errors:[b]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var h=tt(f),d=h.next();!d.done;d=h.next()){var m=d.value;try{Ei(m)}catch(b){s=s??[],b instanceof Ln?s=sn(sn([],rn(s)),rn(b.errors)):s.push(b)}}}catch(b){r={error:b}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}if(s)throw new Ln(s)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Ei(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&cr(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&cr(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Ws=Tn.EMPTY;function Ys(e){return e instanceof Tn||e&&"closed"in e&&P(e.remove)&&P(e.add)&&P(e.unsubscribe)}function Ei(e){P(e)?e():e.unsubscribe()}var tu={Promise:void 0},nu={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,sn([e,t],rn(n)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function Ks(e){nu.setTimeout(function(){throw e})}function Ti(){}function Wt(e){e()}var xr=function(e){je(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,Ys(n)&&n.add(r)):r.destination=su,r}return t.create=function(n,r,i){return new Dt(n,r,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Tn),ru=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){zt(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){zt(r)}else zt(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){zt(n)}},e}(),Dt=function(e){je(t,e);function t(n,r,i){var s=e.call(this)||this,a;return P(n)||!n?a={next:n??void 0,error:r??void 0,complete:i??void 0}:a=n,s.destination=new ru(a),s}return t}(xr);function zt(e){Ks(e)}function iu(e){throw e}var su={closed:!0,next:Ti,error:iu,complete:Ti},Lr=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Mr(e){return e}function au(e){return e.length===0?Mr:e.length===1?e[0]:function(n){return e.reduce(function(r,i){return i(r)},n)}}var M=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,s=lu(t)?t:new Dt(t,n,r);return Wt(function(){var a=i,o=a.operator,l=a.source;s.add(o?o.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=Ni(n),new n(function(i,s){var a=new Dt({next:function(o){try{t(o)}catch(l){s(l),a.unsubscribe()}},error:s,complete:i});r.subscribe(a)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[Lr]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return au(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=Ni(t),new t(function(r,i){var s;n.subscribe(function(a){return s=a},function(a){return i(a)},function(){return r(s)})})},e.create=function(t){return new e(t)},e}();function Ni(e){var t;return(t=e??tu.Promise)!==null&&t!==void 0?t:Promise}function ou(e){return e&&P(e.next)&&P(e.error)&&P(e.complete)}function lu(e){return e&&e instanceof xr||ou(e)&&Ys(e)}function uu(e){return P(e?.lift)}function pe(e){return function(t){if(uu(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ie(e,t,n,r,i){return new cu(e,t,n,r,i)}var cu=function(e){je(t,e);function t(n,r,i,s,a,o){var l=e.call(this,n)||this;return l.onFinalize=a,l.shouldUnsubscribe=o,l._next=r?function(u){try{r(u)}catch(c){n.error(c)}}:e.prototype._next,l._error=s?function(u){try{s(u)}catch(c){n.error(c)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=i?function(){try{i()}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,l}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(xr),fu=Rr(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),ct=function(e){je(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new Oi(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new fu},t.prototype.next=function(n){var r=this;Wt(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var a=tt(r.currentObservers),o=a.next();!o.done;o=a.next()){var l=o.value;l.next(n)}}catch(u){i={error:u}}finally{try{o&&!o.done&&(s=a.return)&&s.call(a)}finally{if(i)throw i.error}}}})},t.prototype.error=function(n){var r=this;Wt(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},t.prototype.complete=function(){var n=this;Wt(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,a=i.isStopped,o=i.observers;return s||a?Ws:(this.currentObservers=null,o.push(n),new Tn(function(){r.currentObservers=null,cr(o,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,a=r.isStopped;i?n.error(s):a&&n.complete()},t.prototype.asObservable=function(){var n=new M;return n.source=this,n},t.create=function(n,r){return new Oi(n,r)},t}(M),Oi=function(e){je(t,e);function t(n,r){var i=e.call(this)||this;return i.destination=n,i.source=r,i}return t.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},t.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:Ws},t}(ct),hu=function(e){je(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,s=n._value;if(r)throw i;return this._throwIfClosed(),s},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(ct),Js={now:function(){return(Js.delegate||Date).now()},delegate:void 0},du=function(e){je(t,e);function t(n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=Js);var s=e.call(this)||this;return s._bufferSize=n,s._windowTime=r,s._timestampProvider=i,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=r===1/0,s._bufferSize=Math.max(1,n),s._windowTime=Math.max(1,r),s}return t.prototype.next=function(n){var r=this,i=r.isStopped,s=r._buffer,a=r._infiniteTimeWindow,o=r._timestampProvider,l=r._windowTime;i||(s.push(n),!a&&s.push(o.now()+l)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),i=this,s=i._infiniteTimeWindow,a=i._buffer,o=a.slice(),l=0;l<o.length&&!n.closed;l+=s?1:2)n.next(o[l]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,i=n._timestampProvider,s=n._buffer,a=n._infiniteTimeWindow,o=(a?1:2)*r;if(r<1/0&&o<s.length&&s.splice(0,s.length-o),!a){for(var l=i.now(),u=0,c=1;c<s.length&&s[c]<=l;c+=2)u=c;u&&s.splice(0,u+1)}},t}(ct),At=new M(function(e){return e.complete()});function pu(e){return e&&P(e.schedule)}function mu(e){return e[e.length-1]}function Hs(e){return pu(mu(e))?e.pop():void 0}var Xs=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function Zs(e){return P(e?.then)}function ea(e){return P(e[Lr])}function ta(e){return Symbol.asyncIterator&&P(e?.[Symbol.asyncIterator])}function na(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function yu(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ra=yu();function ia(e){return P(e?.[ra])}function sa(e){return Zl(this,arguments,function(){var n,r,i,s;return Gs(this,function(a){switch(a.label){case 0:n=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,We(n.read())];case 3:return r=a.sent(),i=r.value,s=r.done,s?[4,We(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,We(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function aa(e){return P(e?.getReader)}function Se(e){if(e instanceof M)return e;if(e!=null){if(ea(e))return vu(e);if(Xs(e))return gu(e);if(Zs(e))return bu(e);if(ta(e))return oa(e);if(ia(e))return Eu(e);if(aa(e))return Tu(e)}throw na(e)}function vu(e){return new M(function(t){var n=e[Lr]();if(P(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function gu(e){return new M(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function bu(e){return new M(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,Ks)})}function Eu(e){return new M(function(t){var n,r;try{for(var i=tt(e),s=i.next();!s.done;s=i.next()){var a=s.value;if(t.next(a),t.closed)return}}catch(o){n={error:o}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()})}function oa(e){return new M(function(t){Nu(e,t).catch(function(n){return t.error(n)})})}function Tu(e){return oa(sa(e))}function Nu(e,t){var n,r,i,s;return Xl(this,void 0,void 0,function(){var a,o;return Gs(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=eu(e),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(a=r.value,t.next(a),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return o=l.sent(),i={error:o},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function xe(e,t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var s=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function la(e,t){return t===void 0&&(t=0),pe(function(n,r){n.subscribe(Ie(r,function(i){return xe(r,e,function(){return r.next(i)},t)},function(){return xe(r,e,function(){return r.complete()},t)},function(i){return xe(r,e,function(){return r.error(i)},t)}))})}function ua(e,t){return t===void 0&&(t=0),pe(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function Ou(e,t){return Se(e).pipe(ua(t),la(t))}function Iu(e,t){return Se(e).pipe(ua(t),la(t))}function wu(e,t){return new M(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function _u(e,t){return new M(function(n){var r;return xe(n,t,function(){r=e[ra](),xe(n,t,function(){var i,s,a;try{i=r.next(),s=i.value,a=i.done}catch(o){n.error(o);return}a?n.complete():n.next(s)},0,!0)}),function(){return P(r?.return)&&r.return()}})}function ca(e,t){if(!e)throw new Error("Iterable cannot be null");return new M(function(n){xe(n,t,function(){var r=e[Symbol.asyncIterator]();xe(n,t,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function Su(e,t){return ca(sa(e),t)}function ku(e,t){if(e!=null){if(ea(e))return Ou(e,t);if(Xs(e))return wu(e,t);if(Zs(e))return Iu(e,t);if(ta(e))return ca(e,t);if(ia(e))return _u(e,t);if(aa(e))return Su(e,t)}throw na(e)}function Ce(e,t){return t?ku(e,t):Se(e)}function Ae(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Hs(e);return Ce(e,n)}function an(e,t){var n=P(e)?e:function(){return e},r=function(i){return i.error(n())};return new M(r)}var Ii;(function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"})(Ii||(Ii={}));var Mn=function(){function e(t,n,r){this.kind=t,this.value=n,this.error=r,this.hasValue=t==="N"}return e.prototype.observe=function(t){return Du(this,t)},e.prototype.do=function(t,n,r){var i=this,s=i.kind,a=i.value,o=i.error;return s==="N"?t?.(a):s==="E"?n?.(o):r?.()},e.prototype.accept=function(t,n,r){var i;return P((i=t)===null||i===void 0?void 0:i.next)?this.observe(t):this.do(t,n,r)},e.prototype.toObservable=function(){var t=this,n=t.kind,r=t.value,i=t.error,s=n==="N"?Ae(r):n==="E"?an(function(){return i}):n==="C"?At:0;if(!s)throw new TypeError("Unexpected notification kind "+n);return s},e.createNext=function(t){return new e("N",t)},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e}();function Du(e,t){var n,r,i,s=e,a=s.kind,o=s.value,l=s.error;if(typeof a!="string")throw new TypeError('Invalid notification, missing "kind"');a==="N"?(n=t.next)===null||n===void 0||n.call(t,o):a==="E"?(r=t.error)===null||r===void 0||r.call(t,l):(i=t.complete)===null||i===void 0||i.call(t)}var Au=Rr(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function Cu(e,t){var n=typeof t=="object";return new Promise(function(r,i){var s=!1,a;e.subscribe({next:function(o){a=o,s=!0},error:i,complete:function(){s?r(a):n?r(t.defaultValue):i(new Au)}})})}function Fe(e,t){return pe(function(n,r){var i=0;n.subscribe(Ie(r,function(s){r.next(e.call(t,s,i++))}))})}function Fu(e,t,n,r,i,s,a,o){var l=[],u=0,c=0,f=!1,h=function(){f&&!l.length&&!u&&t.complete()},d=function(b){return u<r?m(b):l.push(b)},m=function(b){u++;var v=!1;Se(n(b,c++)).subscribe(Ie(t,function(E){t.next(E)},function(){v=!0},void 0,function(){if(v)try{u--;for(var E=function(){var T=l.shift();a||m(T)};l.length&&u<r;)E();h()}catch(T){t.error(T)}}))};return e.subscribe(Ie(t,d,function(){f=!0,h()})),function(){}}function Be(e,t,n){return n===void 0&&(n=1/0),P(t)?Be(function(r,i){return Fe(function(s,a){return t(r,s,i,a)})(Se(e(r,i)))},n):(typeof t=="number"&&(n=t),pe(function(r,i){return Fu(r,i,e,n)}))}function Ru(e){return Be(Mr,e)}function xu(){return Ru(1)}function Pn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return xu()(Ce(e,Hs(e)))}function Lu(e,t){return pe(function(n,r){var i=0;n.subscribe(Ie(r,function(s){return e.call(t,s,i++)&&r.next(s)}))})}function Yt(e){return pe(function(t,n){var r=null,i=!1,s;r=t.subscribe(Ie(n,void 0,void 0,function(a){s=Se(e(a,Yt(e)(t))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Mu(e){return pe(function(t,n){try{t.subscribe(n)}finally{n.add(e)}})}function Pu(){return pe(function(e,t){e.subscribe(Ie(t,function(n){t.next(Mn.createNext(n))},function(){t.next(Mn.createComplete()),t.complete()},function(n){t.next(Mn.createError(n)),t.complete()}))})}function on(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new ct}:t,r=e.resetOnError,i=r===void 0?!0:r,s=e.resetOnComplete,a=s===void 0?!0:s,o=e.resetOnRefCountZero,l=o===void 0?!0:o;return function(u){var c,f,h,d=0,m=!1,b=!1,v=function(){f?.unsubscribe(),f=void 0},E=function(){v(),c=h=void 0,m=b=!1},T=function(){var w=c;E(),w?.unsubscribe()};return pe(function(w,S){d++,!b&&!m&&v();var A=h=h??n();S.add(function(){d--,d===0&&!b&&!m&&(f=Vn(T,l))}),A.subscribe(S),!c&&d>0&&(c=new Dt({next:function(Y){return A.next(Y)},error:function(Y){b=!0,v(),f=Vn(E,i,Y),A.error(Y)},complete:function(){m=!0,v(),f=Vn(E,a),A.complete()}}),Se(w).subscribe(c))})(u)}}function Vn(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var i=new Dt({next:function(){i.unsubscribe(),e()}});return Se(t.apply(void 0,sn([],rn(n)))).subscribe(i)}}function Vu(e,t,n){var r,i,s,a,o=!1;return e&&typeof e=="object"?(r=e.bufferSize,a=r===void 0?1/0:r,i=e.windowTime,t=i===void 0?1/0:i,s=e.refCount,o=s===void 0?!1:s,n=e.scheduler):a=e??1/0,on({connector:function(){return new du(a,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function ln(e,t,n){var r=P(e)||t||n?{next:e,error:t,complete:n}:e;return r?pe(function(i,s){var a;(a=r.subscribe)===null||a===void 0||a.call(r);var o=!0;i.subscribe(Ie(s,function(l){var u;(u=r.next)===null||u===void 0||u.call(r,l),s.next(l)},function(){var l;o=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},function(l){var u;o=!1,(u=r.error)===null||u===void 0||u.call(r,l),s.error(l)},function(){var l,u;o&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Mr}function nt(e,t,n,r){if(n.kind===p.INT||n.kind===p.FLOAT)e[t.value]=Number(n.value);else if(n.kind===p.BOOLEAN||n.kind===p.STRING)e[t.value]=n.value;else if(n.kind===p.OBJECT){const i={};n.fields.map(s=>nt(i,s.name,s.value,r)),e[t.value]=i}else if(n.kind===p.VARIABLE){const i=(r||{})[n.name.value];e[t.value]=i}else if(n.kind===p.LIST)e[t.value]=n.values.map(i=>{const s={};return nt(s,t,i,r),s[t.value]});else if(n.kind===p.ENUM)e[t.value]=n.value;else if(n.kind===p.NULL)e[t.value]=null;else throw ne(19,t.value,n.kind)}function Pr(e,t){if(e.arguments&&e.arguments.length){const n={};return e.arguments.forEach(({name:r,value:i})=>nt(n,r,i,t)),n}return null}const ju=Symbol.for("apollo.cacheSize"),ye={...Xn[ju]};function rt(e,t){return e.definitions.find(n=>n.kind==="OperationDefinition"&&!!n.name)?.name.value??t}const Uu=()=>Object.create(null),{forEach:Bu,slice:wi}=Array.prototype,{hasOwnProperty:$u}=Object.prototype;class ge{constructor(t=!0,n=Uu){this.weakness=t,this.makeData=n}lookup(){return this.lookupArray(arguments)}lookupArray(t){let n=this;return Bu.call(t,r=>n=n.getChildTrie(r)),$u.call(n,"data")?n.data:n.data=this.makeData(wi.call(t))}peek(){return this.peekArray(arguments)}peekArray(t){let n=this;for(let r=0,i=t.length;n&&r<i;++r){const s=n.mapFor(t[r],!1);n=s&&s.get(t[r])}return n&&n.data}remove(){return this.removeArray(arguments)}removeArray(t){let n;if(t.length){const r=t[0],i=this.mapFor(r,!1),s=i&&i.get(r);s&&(n=s.removeArray(wi.call(t,1)),!s.data&&!s.weak&&!(s.strong&&s.strong.size)&&i.delete(r))}else n=this.data,delete this.data;return n}getChildTrie(t){const n=this.mapFor(t,!0);let r=n.get(t);return r||n.set(t,r=new ge(this.weakness,this.makeData)),r}mapFor(t,n){return this.weakness&&qu(t)?this.weak||(n?this.weak=new WeakMap:void 0):this.strong||(n?this.strong=new Map:void 0)}}function qu(e){switch(typeof e){case"object":if(e===null)break;case"function":return!0}return!1}function Qu(){}class fr{constructor(t=1/0,n=Qu){this.max=t,this.dispose=n,this.map=new Map,this.newest=null,this.oldest=null}has(t){return this.map.has(t)}get(t){const n=this.getNode(t);return n&&n.value}get size(){return this.map.size}getNode(t){const n=this.map.get(t);if(n&&n!==this.newest){const{older:r,newer:i}=n;i&&(i.older=r),r&&(r.newer=i),n.older=this.newest,n.older.newer=n,n.newer=null,this.newest=n,n===this.oldest&&(this.oldest=i)}return n}set(t,n){let r=this.getNode(t);return r?r.value=n:(r={key:t,value:n,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.map.set(t,r),r.value)}clean(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)}delete(t){const n=this.map.get(t);return n?(n===this.newest&&(this.newest=n.older),n===this.oldest&&(this.oldest=n.newer),n.newer&&(n.newer.older=n.older),n.older&&(n.older.newer=n.newer),this.map.delete(t),this.dispose(n.value,t),!0):!1}}function hr(){}const zu=hr,Gu=typeof WeakRef<"u"?WeakRef:function(e){return{deref:()=>e}},Wu=typeof WeakMap<"u"?WeakMap:Map,Yu=typeof FinalizationRegistry<"u"?FinalizationRegistry:function(){return{register:hr,unregister:hr}},Ku=10024;class un{constructor(t=1/0,n=zu){this.max=t,this.dispose=n,this.map=new Wu,this.newest=null,this.oldest=null,this.unfinalizedNodes=new Set,this.finalizationScheduled=!1,this.size=0,this.finalize=()=>{const r=this.unfinalizedNodes.values();for(let i=0;i<Ku;i++){const s=r.next().value;if(!s)break;this.unfinalizedNodes.delete(s);const a=s.key;delete s.key,s.keyRef=new Gu(a),this.registry.register(a,s,s)}this.unfinalizedNodes.size>0?queueMicrotask(this.finalize):this.finalizationScheduled=!1},this.registry=new Yu(this.deleteNode.bind(this))}has(t){return this.map.has(t)}get(t){const n=this.getNode(t);return n&&n.value}getNode(t){const n=this.map.get(t);if(n&&n!==this.newest){const{older:r,newer:i}=n;i&&(i.older=r),r&&(r.newer=i),n.older=this.newest,n.older.newer=n,n.newer=null,this.newest=n,n===this.oldest&&(this.oldest=i)}return n}set(t,n){let r=this.getNode(t);return r?r.value=n:(r={key:t,value:n,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.scheduleFinalization(r),this.map.set(t,r),this.size++,r.value)}clean(){for(;this.oldest&&this.size>this.max;)this.deleteNode(this.oldest)}deleteNode(t){t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.size--;const n=t.key||t.keyRef&&t.keyRef.deref();this.dispose(t.value,n),t.keyRef?this.registry.unregister(t):this.unfinalizedNodes.delete(t),n&&this.map.delete(n)}delete(t){const n=this.map.get(t);return n?(this.deleteNode(n),!0):!1}scheduleFinalization(t){this.unfinalizedNodes.add(t),this.finalizationScheduled||(this.finalizationScheduled=!0,queueMicrotask(this.finalize))}}const jn=new WeakSet;function fa(e){e.size<=(e.max||-1)||jn.has(e)||(jn.add(e),setTimeout(()=>{e.clean(),jn.delete(e)},100))}const Vr=function(e,t){const n=new un(e,t);return n.set=function(r,i){const s=un.prototype.set.call(this,r,i);return fa(this),s},n},Ju=function(e,t){const n=new fr(e,t);return n.set=function(r,i){const s=fr.prototype.set.call(this,r,i);return fa(this),s},n};function Hu(e,{max:t}){const n=new ge(!0),r=new Vr(t);return(...i)=>{const s=n.lookupArray(i),a=r.get(s);if(a){if(a.error)throw a.error;return a.result}const o=r.set(s,{});try{return o.result=e(...i)}catch(l){throw o.error=l,l}}}const Ne=Hu((e,t)=>{C(e&&e.kind==="Document",1);const n=e.definitions.filter(r=>r.kind==="OperationDefinition");t&&C(n.length==1&&n[0].operation===t,4,t,t,n[0].operation),he(e,{Field(r,i,s,a){if(r.alias&&(r.alias.value==="__typename"||r.alias.value.startsWith("__ac_"))&&r.alias.value!==r.name.value){let o=e,l=[];for(const u of a)o=o[u],o.kind===p.FIELD&&l.push(o.alias?.value||o.name.value);throw l.splice(-1,1,r.name.value),ne(5,r.alias.value,l.join("."),n[0].operation,rt(e,"(anonymous)"))}}})},{max:ye.checkDocument||2e3});function ee(...e){const t={};return e.forEach(n=>{n&&Object.keys(n).forEach(r=>{const i=n[r];i!==void 0&&(t[r]=i)})}),t}function Pt(e=[]){const t={};return e.forEach(n=>{t[n.name.value]=n}),t}function X(e){return e!==null&&typeof e=="object"}const{hasOwnProperty:Xu}=Object.prototype,Zu=function(e,t,n){return this.merge(e[n],t[n])};class it{constructor(t=Zu){y(this,"reconciler");y(this,"isObject",X);y(this,"pastCopies",new Set);this.reconciler=t}merge(t,n,...r){return X(n)&&X(t)?(Object.keys(n).forEach(i=>{if(Xu.call(t,i)){const s=t[i];if(n[i]!==s){const a=this.reconciler(t,n,i,...r);a!==s&&(t=this.shallowCopyForMerge(t),t[i]=a)}}else t=this.shallowCopyForMerge(t),t[i]=n[i]}),t):n}shallowCopyForMerge(t){return X(t)&&(this.pastCopies.has(t)||(Array.isArray(t)?t=t.slice(0):t={__proto__:Object.getPrototypeOf(t),...t},this.pastCopies.add(t))),t}}function jr(e){const t={},n=e&&e.variableDefinitions;return n&&n.length&&n.forEach(r=>{r.defaultValue&&nt(t,r.variable.name,r.defaultValue)}),t}function Nn(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":{const n=e.name.value;if(typeof t=="function")return t(n);const r=t&&t[n];return C(r,9,n),r||null}default:return null}}function ec(e,t){let n=t;const r=[];return e.definitions.forEach(s=>{if(s.kind==="OperationDefinition")throw ne(10,s.operation,s.name?` named '${s.name.value}'`:"");s.kind==="FragmentDefinition"&&r.push(s)}),typeof n>"u"&&(C(r.length===1,11,r.length),n=r[0].name.value),{...e,definitions:[{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}},...e.definitions]}}function tc(e){C(e.kind==="Document",6),C(e.definitions.length<=1,7);const t=e.definitions[0];return C(t.kind==="FragmentDefinition",8),t}function Vt(e){return e.definitions.filter(t=>t.kind==="FragmentDefinition")}function ha(e){Ne(e);let t;for(let n of e.definitions){if(n.kind==="OperationDefinition")return n;n.kind==="FragmentDefinition"&&!t&&(t=n)}if(t)return t;throw ne(12)}function we(e){return Ne(e),e.definitions.filter(t=>t.kind==="OperationDefinition")[0]}function nc(e){const t=we(e);return C(t&&t.operation==="query",13),t}const Oe=Object.assign(function(t){return JSON.stringify(t,rc)},{reset(){bt=new Ju(ye.canonicalStringify||1e3)}});let bt;Oe.reset();function rc(e,t){if(t&&typeof t=="object"){const n=Object.getPrototypeOf(t);if(n===Object.prototype||n===null){const r=Object.keys(t);if(r.every(ic))return t;const i=JSON.stringify(r);let s=bt.get(i);if(!s){r.sort();const o=JSON.stringify(r);s=bt.get(o)||r,bt.set(i,s),bt.set(o,s)}const a=Object.create(n);return s.forEach(o=>{a[o]=t[o]}),a}}return t}function ic(e,t,n){return t===0||n[t-1]<=e}const sc=["connection","include","skip","client","rest","export","nonreactive"];let dt=Oe;const da=Object.assign(function(e,t,n){if(t&&n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){const i=n.connection.filter?n.connection.filter:[];i.sort();const s={};i.forEach(o=>{s[o]=t[o]});const a=dt(s);if(a!=="{}")return`${n.connection.key}(${a})`}return n.connection.key}let r=e;if(t){const i=dt(t);i!=="{}"&&(r+=`(${i})`)}return n&&Object.keys(n).forEach(i=>{sc.indexOf(i)===-1&&(n[i]&&Object.keys(n[i]).length?r+=`@${i}(${dt(n[i])})`:r+=`@${i}`)}),r},{setStringify(e){const t=dt;return dt=e,t}});function $e(e){return!!e.errors?.length}function Et(e,t,n){const r=new Set(e),i=r.size;return he(t,{Directive(s){if(r.delete(s.name.value)&&(!n||!r.size))return Sr}}),n?!r.size:r.size<i}function ac(e){let t=!1;return he(e,{Directive:{enter(n){if(n.name.value==="client"&&n.arguments&&(t=n.arguments.some(r=>r.name.value==="always"&&r.value.kind==="BooleanValue"&&r.value.value===!0),t))return Sr}}}),t}const $=Array.isArray;function oc(e){return X(e)&&e.kind==="Document"&&Array.isArray(e.definitions)}function jt(e){return e.kind==="Field"}function Ur(e){return Array.isArray(e)&&e.length>0}function Ye(e){return{__ref:String(e)}}function lc(e){let t=e[0]||{};const n=e.length;if(n>1){const r=new it;for(let i=1;i<n;++i)t=r.merge(t,e[i])}return t}function Un(e,t){return ee(e,t,t.variables&&{variables:ee({...e&&e.variables,...t.variables})})}function uc(e){return e.catch(()=>{}),e}function cc(e,t){Ne(t);const n=_i(""),r=_i(""),i=v=>{for(let E=0,T;E<v.length&&(T=v[E]);++E)if(!$(T)){if(T.kind===p.OPERATION_DEFINITION)return n(T.name&&T.name.value);if(T.kind===p.FRAGMENT_DEFINITION)return r(T.name.value)}return C.error(14),null};let s=0;for(let v=t.definitions.length-1;v>=0;--v)t.definitions[v].kind===p.OPERATION_DEFINITION&&++s;const a=fc(e),o=v=>Ur(v)&&v.map(a).some(E=>E&&E.remove),l=new Map;let u=!1;const c={enter(v){if(o(v.directives))return u=!0,null}},f=he(t,{Field:c,InlineFragment:c,VariableDefinition:{enter(){return!1}},Variable:{enter(v,E,T,w,S){const A=i(S);A&&A.variables.add(v.name.value)}},FragmentSpread:{enter(v,E,T,w,S){if(o(v.directives))return u=!0,null;const A=i(S);A&&A.fragmentSpreads.add(v.name.value)}},FragmentDefinition:{enter(v,E,T,w){l.set(JSON.stringify(w),v)},leave(v,E,T,w){const S=l.get(JSON.stringify(w));if(v===S)return v;if(s>0&&v.selectionSet.selections.every(A=>A.kind===p.FIELD&&A.name.value==="__typename"))return r(v.name.value).removed=!0,u=!0,null}},Directive:{leave(v){if(a(v))return u=!0,null}}});if(!u)return t;const h=v=>(v.transitiveVars||(v.transitiveVars=new Set(v.variables),v.removed||v.fragmentSpreads.forEach(E=>{h(r(E)).transitiveVars.forEach(T=>{v.transitiveVars.add(T)})})),v),d=new Set;f.definitions.forEach(v=>{v.kind===p.OPERATION_DEFINITION?h(n(v.name&&v.name.value)).fragmentSpreads.forEach(E=>{d.add(E)}):v.kind===p.FRAGMENT_DEFINITION&&s===0&&!r(v.name.value).removed&&d.add(v.name.value)}),d.forEach(v=>{h(r(v)).fragmentSpreads.forEach(E=>{d.add(E)})});const m=v=>!!(!d.has(v)||r(v).removed),b={enter(v){if(m(v.name.value))return null}};return hc(he(f,{FragmentSpread:b,FragmentDefinition:b,OperationDefinition:{leave(v){if(v.variableDefinitions){const E=h(n(v.name&&v.name.value)).transitiveVars;if(E.size<v.variableDefinitions.length)return{...v,variableDefinitions:v.variableDefinitions.filter(T=>E.has(T.variable.name.value))}}}}}))}function _i(e){const t=new Map;return function(r=e){let i=t.get(r);return i||t.set(r,i={variables:new Set,fragmentSpreads:new Set}),i}}function fc(e){const t=new Map,n=new Map;return e.forEach(r=>{r&&(r.name?t.set(r.name,r):r.test&&n.set(r.test,r))}),r=>{let i=t.get(r.name.value);return!i&&n.size&&n.forEach((s,a)=>{a(r)&&(i=s)}),i}}function pa(e,t){return!e||e.selectionSet.selections.every(n=>n.kind===p.FRAGMENT_SPREAD&&pa(t[n.name.value],t))}function hc(e){return pa(we(e)||tc(e),Pt(Vt(e)))?null:e}function dc(e){return he(e,{FragmentSpread(t){if(!t.directives?.some(({name:n})=>n.value==="unmask"))return null}})}function ft(e){return e.alias?e.alias.value:e.name.value}function On({directives:e},t){return!e||!e.length?!0:mc(e).every(({directive:n,ifArgument:r})=>{let i=!1;return r.value.kind==="Variable"?(i=t&&t[r.value.name.value],C(i!==void 0,15,n.name.value)):i=r.value.value,n.name.value==="skip"?!i:i})}function pc({name:{value:e}}){return e==="skip"||e==="include"}function mc(e){const t=[];return e&&e.length&&e.forEach(n=>{if(!pc(n))return;const r=n.arguments,i=n.name.value;C(r&&r.length===1,16,i);const s=r[0];C(s.name&&s.name.value==="if",17,i);const a=s.value;C(a&&(a.kind==="Variable"||a.kind==="BooleanValue"),18,i),t.push({directive:n,ifArgument:s})}),t}function yc(e,t){let n=null;e.directives&&(n={},e.directives.forEach(i=>{n[i.name.value]={},i.arguments&&i.arguments.forEach(({name:s,value:a})=>nt(n[i.name.value],s,a,t))}));let r=null;return e.arguments&&e.arguments.length&&(r={},e.arguments.forEach(({name:i,value:s})=>nt(r,i,s,t))),da(e.name.value,r,n)}function Kt(e){const t={data:e.data};return e.error&&(t.error=e.error),t}function dr(e,t=()=>{}){return n=>new M(r=>{let i=t();return n.subscribe({next(s){let a;try{a=e(s,i)}catch(o){r.error(o)}a!==void 0&&r.next(a)},error(s){r.error(s)},complete(){r.complete()}})})}function ma(e,{data:t,...n},{data:r,...i},s){return U(n,i)&&Jt(ha(e).selectionSet,t,r,{fragmentMap:Pt(Vt(e)),variables:s})}function Jt(e,t,n,r){if(t===n)return!0;const i=new Set;return e.selections.every(s=>{if(i.has(s)||(i.add(s),!On(s,r.variables))||Si(s))return!0;if(jt(s)){const a=ft(s),o=t&&t[a],l=n&&n[a],u=s.selectionSet;if(!u)return U(o,l);const c=Array.isArray(o),f=Array.isArray(l);if(c!==f)return!1;if(c&&f){const h=o.length;if(l.length!==h)return!1;for(let d=0;d<h;++d)if(!Jt(u,o[d],l[d],r))return!1;return!0}return Jt(u,o,l,r)}else{const a=Nn(s,r.fragmentMap);if(a)return Si(a)?!0:Jt(a.selectionSet,t,n,r)}})}function Si(e){return!!e.directives&&e.directives.some(vc)}function vc(e){return e.name.value==="nonreactive"}const gc=Symbol.for("apollo.observableQuery.variablesUnknown");class bc{constructor(){y(this,"startRequest")}isIncrementalResult(t){return!1}prepareRequest(t){return C(!Et(["defer"],t.query),64),t}extractErrors(){}}function Ec(e,{client:t}){const n={query:e.query,variables:e.variables||{},extensions:e.extensions||{},operationName:rt(e.query),operationType:we(e.query).operation};let r={...e.context};const i=a=>{typeof a=="function"?r={...r,...a(s())}:r={...r,...a}},s=()=>Object.freeze({...r});return Object.defineProperty(n,"setContext",{enumerable:!1,value:i}),Object.defineProperty(n,"getContext",{enumerable:!1,value:s}),Object.defineProperty(n,"client",{enumerable:!1,value:t}),n}function Tc(e,t){const n={...e},r=new Set(Object.keys(e));return he(t,{Variable(i,s,a){a&&a.kind!=="VariableDefinition"&&r.delete(i.name.value)}}),r.forEach(i=>{delete n[i]}),n}class G{constructor(t){y(this,"left");y(this,"right");t&&(this.request=t)}static empty(){return new G(()=>At)}static from(t){if(t.length===0)return G.empty();const[n,...r]=t;return n.concat(...r)}static split(t,n,r=new G((i,s)=>s(i))){const i=new G((s,a)=>t(s)?n.request(s,a):r.request(s,a));return Object.assign(i,{left:n,right:r})}static execute(t,n,r){return t.request(Ec(n,r),()=>At)}static concat(...t){return G.from(t)}split(t,n,r){return this.concat(G.split(t,n,r))}concat(...t){return t.length===0?this:t.reduce(this.combine.bind(this),this)}combine(t,n){const r=new G((i,s)=>t.request(i,a=>n.request(a,s)));return Object.assign(r,{left:t,right:n})}request(t,n){throw ne(63)}}const jf=G.from,pr=G.execute;let W=null;const ki={};let Nc=1;const Oc=()=>class{constructor(){this.id=["slot",Nc++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let t=W;t;t=t.parent)if(this.id in t.slots){const n=t.slots[this.id];if(n===ki)break;return t!==W&&(W.slots[this.id]=n),!0}return W&&(W.slots[this.id]=ki),!1}getValue(){if(this.hasValue())return W.slots[this.id]}withValue(t,n,r,i){const s={__proto__:null,[this.id]:t},a=W;W={parent:a,slots:s};try{return n.apply(i,r)}finally{W=a}}static bind(t){const n=W;return function(){const r=W;try{return W=n,t.apply(this,arguments)}finally{W=r}}}static noContext(t,n,r){if(W){const i=W;try{return W=null,t.apply(r,n)}finally{W=i}}else return t.apply(r,n)}};function Di(e){try{return e()}catch{}}const Bn="@wry/context:Slot",Ic=Di(()=>globalThis)||Di(()=>global)||Object.create(null),Ai=Ic,In=Ai[Bn]||Array[Bn]||function(e){try{Object.defineProperty(Ai,Bn,{value:e,enumerable:!1,writable:!1,configurable:!0})}finally{return e}}(Oc()),{bind:Bf,noContext:$f}=In,wn=new In,{hasOwnProperty:wc}=Object.prototype,Br=Array.from||function(e){const t=[];return e.forEach(n=>t.push(n)),t};function $r(e){const{unsubscribe:t}=e;typeof t=="function"&&(e.unsubscribe=void 0,t())}const Ct=[],_c=100;function st(e,t){if(!e)throw new Error(t||"assertion failure")}function ya(e,t){const n=e.length;return n>0&&n===t.length&&e[n-1]===t[n-1]}function va(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}function ga(e){return e.slice(0)}class _n{constructor(t){this.fn=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++_n.count}peek(){if(this.value.length===1&&!_e(this))return Ci(this),this.value[0]}recompute(t){return st(!this.recomputing,"already recomputing"),Ci(this),_e(this)?Sc(this,t):va(this.value)}setDirty(){this.dirty||(this.dirty=!0,ba(this),$r(this))}dispose(){this.setDirty(),Ia(this),qr(this,(t,n)=>{t.setDirty(),wa(t,this)})}forget(){this.dispose()}dependOn(t){t.add(this),this.deps||(this.deps=Ct.pop()||new Set),this.deps.add(t)}forgetDeps(){this.deps&&(Br(this.deps).forEach(t=>t.delete(this)),this.deps.clear(),Ct.push(this.deps),this.deps=null)}}_n.count=0;function Ci(e){const t=wn.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),_e(e)?Ta(t,e):Na(t,e),t}function Sc(e,t){return Ia(e),wn.withValue(e,kc,[e,t]),Ac(e,t)&&Dc(e),va(e.value)}function kc(e,t){e.recomputing=!0;const{normalizeResult:n}=e;let r;n&&e.value.length===1&&(r=ga(e.value)),e.value.length=0;try{if(e.value[0]=e.fn.apply(null,t),n&&r&&!ya(r,e.value))try{e.value[0]=n(e.value[0],r[0])}catch{}}catch(i){e.value[1]=i}e.recomputing=!1}function _e(e){return e.dirty||!!(e.dirtyChildren&&e.dirtyChildren.size)}function Dc(e){e.dirty=!1,!_e(e)&&Ea(e)}function ba(e){qr(e,Ta)}function Ea(e){qr(e,Na)}function qr(e,t){const n=e.parents.size;if(n){const r=Br(e.parents);for(let i=0;i<n;++i)t(r[i],e)}}function Ta(e,t){st(e.childValues.has(t)),st(_e(t));const n=!_e(e);if(!e.dirtyChildren)e.dirtyChildren=Ct.pop()||new Set;else if(e.dirtyChildren.has(t))return;e.dirtyChildren.add(t),n&&ba(e)}function Na(e,t){st(e.childValues.has(t)),st(!_e(t));const n=e.childValues.get(t);n.length===0?e.childValues.set(t,ga(t.value)):ya(n,t.value)||e.setDirty(),Oa(e,t),!_e(e)&&Ea(e)}function Oa(e,t){const n=e.dirtyChildren;n&&(n.delete(t),n.size===0&&(Ct.length<_c&&Ct.push(n),e.dirtyChildren=null))}function Ia(e){e.childValues.size>0&&e.childValues.forEach((t,n)=>{wa(e,n)}),e.forgetDeps(),st(e.dirtyChildren===null)}function wa(e,t){t.parents.delete(e),e.childValues.delete(t),Oa(e,t)}function Ac(e,t){if(typeof e.subscribe=="function")try{$r(e),e.unsubscribe=e.subscribe.apply(null,t)}catch{return e.setDirty(),!1}return!0}const Cc={setDirty:!0,dispose:!0,forget:!0};function _a(e){const t=new Map;function n(r){const i=wn.getValue();if(i){let s=t.get(r);s||t.set(r,s=new Set),i.dependOn(s)}}return n.dirty=function(i,s){const a=t.get(i);if(a){const o=s&&wc.call(Cc,s)?s:"setDirty";Br(a).forEach(l=>l[o]()),t.delete(i),$r(a)}},n}let Fi;function Fc(...e){return(Fi||(Fi=new ge(typeof WeakMap=="function"))).lookupArray(e)}const $n=new Set;function Ft(e,{max:t=Math.pow(2,16),keyArgs:n,makeCacheKey:r=Fc,normalizeResult:i,subscribe:s,cache:a=fr}=Object.create(null)){const o=typeof a=="function"?new a(t,h=>h.dispose()):a,l=function(){const h=r.apply(null,n?n.apply(null,arguments):arguments);if(h===void 0)return e.apply(null,arguments);let d=o.get(h);d||(o.set(h,d=new _n(e)),d.normalizeResult=i,d.subscribe=s,d.forget=()=>o.delete(h));const m=d.recompute(Array.prototype.slice.call(arguments));return o.set(h,d),$n.add(o),wn.hasValue()||($n.forEach(b=>b.clean()),$n.clear()),m};Object.defineProperty(l,"size",{get:()=>o.size,configurable:!1,enumerable:!1}),Object.freeze(l.options={max:t,keyArgs:n,makeCacheKey:r,normalizeResult:i,subscribe:s,cache:o});function u(h){const d=h&&o.get(h);d&&d.setDirty()}l.dirtyKey=u,l.dirty=function(){u(r.apply(null,arguments))};function c(h){const d=h&&o.get(h);if(d)return d.peek()}l.peekKey=c,l.peek=function(){return c(r.apply(null,arguments))};function f(h){return h?o.delete(h):!1}return l.forgetKey=f,l.forget=function(){return f(r.apply(null,arguments))},l.makeCacheKey=r,l.getKey=n?function(){return r.apply(null,n.apply(null,arguments))}:r,Object.freeze(l)}function Rc(e){return e}class me{constructor(t,n={}){y(this,"transform");y(this,"cached");y(this,"resultCache",new WeakSet);y(this,"left");y(this,"right");this.transform=t,n.getCacheKey&&(this.getCacheKey=n.getCacheKey),this.cached=n.cache!==!1,this.resetCache()}getCacheKey(t){return[t]}static identity(){return new me(Rc,{cache:!1})}static split(t,n,r=me.identity()){return Object.assign(new me(i=>(t(i)?n:r).transformDocument(i),{cache:!1}),{left:n,right:r})}resetCache(){if(this.cached){const t=new ge;this.performWork=Ft(me.prototype.performWork.bind(this),{makeCacheKey:n=>{const r=this.getCacheKey(n);if(r)return C(Array.isArray(r),20),t.lookupArray(r)},max:ye["documentTransform.cache"],cache:un})}}performWork(t){return Ne(t),this.transform(t)}transformDocument(t){if(this.resultCache.has(t))return t;const n=this.performWork(t);return this.resultCache.add(n),n}concat(t){return Object.assign(new me(n=>t.transformDocument(this.transformDocument(n)),{cache:!1}),{left:this,right:t})}}let qn;const Ke=Object.assign(e=>{let t=qn.get(e);return t||(t=q(e),qn.set(e,t)),t},{reset(){qn=new Vr(ye.print||2e3)}});Ke.reset();function x(e){return!!(e&&typeof e=="object"&&typeof e.__ref=="string")}const Ri={kind:p.FIELD,name:{kind:p.NAME,value:"__typename"}},Sa=Object.assign(function(e){return he(e,{SelectionSet:{enter(t,n,r){if(r&&r.kind===p.OPERATION_DEFINITION)return;const{selections:i}=t;if(!i||i.some(o=>o.kind===p.FIELD&&(o.name.value==="__typename"||o.name.value.lastIndexOf("__",0)===0)))return;const a=r;if(!(a.kind===p.FIELD&&a.directives&&a.directives.some(o=>o.name.value==="export")))return{...t,selections:[...i,Ri]}}}})},{added(e){return e===Ri}});function xc(e){return e===7||e===8}function mr(e){return!xc(e)}class Lc{constructor(){y(this,"assumeImmutableResults",!1);y(this,"getFragmentDoc",Ft(ec,{max:ye["cache.fragmentQueryDocuments"]||1e3,cache:un}))}lookupFragment(t){return null}batch(t){const n=typeof t.optimistic=="string"?t.optimistic:t.optimistic===!1?null:void 0;let r;return this.performTransaction(()=>r=t.update(this),n),r}recordOptimisticTransaction(t,n){this.performTransaction(t,n)}transformDocument(t){return t}transformForLink(t){return t}identify(t){}gc(){return[]}modify(t){return!1}readQuery(t,n=!!t.optimistic){return this.read({...t,rootId:t.id||"ROOT_QUERY",optimistic:n})}watchFragment(t){const{fragment:n,fragmentName:r,from:i,optimistic:s=!0,...a}=t,o=this.getFragmentDoc(n,r),l=typeof i>"u"||typeof i=="string"?i:this.identify(i),u={...a,returnPartialData:!0,id:l,query:o,optimistic:s};let c;return new M(f=>this.watch({...u,immediate:!0,callback:h=>{let d=h.result;if(d===null&&(d={}),c&&ma(o,{data:c.result},{data:d},t.variables))return;const m={data:d,dataState:h.complete?"complete":"partial",complete:!!h.complete};h.missing&&(m.missing=h.missing.missing),c={...h,result:d},f.next(m)}}))}readFragment(t,n=!!t.optimistic){return this.read({...t,query:this.getFragmentDoc(t.fragment,t.fragmentName),rootId:t.id,optimistic:n})}writeQuery({id:t,data:n,...r}){return this.write(Object.assign(r,{dataId:t||"ROOT_QUERY",result:n}))}writeFragment({id:t,data:n,fragment:r,fragmentName:i,...s}){return this.write(Object.assign(s,{query:this.getFragmentDoc(r,i),dataId:t,result:n}))}updateQuery(t,n){return this.batch({update(r){const i=r.readQuery(t),s=n(i);return s==null?i:(r.writeQuery({...t,data:s}),s)}})}updateFragment(t,n){return this.batch({update(r){const i=r.readFragment(t),s=n(i);return s==null?i:(r.writeFragment({...t,data:s}),s)}})}}class Qr extends Error{constructor(n,r,i,s){super(n);y(this,"message");y(this,"path");y(this,"query");y(this,"variables");y(this,"missing");if(this.message=n,this.path=r,this.query=i,this.variables=s,this.name="MissingFieldError",Array.isArray(this.path)){this.missing=this.message;for(let a=this.path.length-1;a>=0;--a)this.missing={[this.path[a]]:this.missing}}else this.missing=this.path;this.__proto__=Qr.prototype}}const{hasOwnProperty:Q}=Object.prototype;function ka({__typename:e,id:t,_id:n},r){if(typeof e=="string"&&(r&&(r.keyObject=t!=null?{id:t}:n!=null?{_id:n}:void 0),t==null&&n!=null&&(t=n),t!=null))return`${e}:${typeof t=="number"||typeof t=="string"?t:JSON.stringify(t)}`}const Mc={dataIdFromObject:ka,resultCaching:!0};function Pc(e){return ee(Mc,e)}const Da=/^[_a-z][_0-9a-z]*/i;function at(e){const t=e.match(Da);return t?t[0]:e}function yr(e,t,n){return X(t)?$(t)?t.every(r=>yr(e,r,n)):e.selections.every(r=>{if(jt(r)&&On(r,n)){const i=ft(r);return Q.call(t,i)&&(!r.selectionSet||yr(r.selectionSet,t[i],n))}return!0}):!1}function qe(e){return X(e)&&!x(e)&&!$(e)}function Vc(){return new it}function Aa(e,t){const n=Pt(Vt(e));return{fragmentMap:n,lookupFragment(r){let i=n[r];return!i&&t&&(i=t.lookup(r)),i||null}}}const Ht={},Qn=()=>Ht,xi={};class Sn{constructor(t,n){y(this,"policies");y(this,"group");y(this,"data",{});y(this,"rootIds",{});y(this,"refs",{});y(this,"getFieldValue",(t,n)=>x(t)?this.get(t.__ref,n):t&&t[n]);y(this,"canRead",t=>x(t)?this.has(t.__ref):typeof t=="object");y(this,"toReference",(t,n)=>{if(typeof t=="string")return Ye(t);if(x(t))return t;const[r]=this.policies.identify(t);if(r){const i=Ye(r);return n&&this.merge(r,t),i}});this.policies=t,this.group=n}toObject(){return{...this.data}}has(t){return this.lookup(t,!0)!==void 0}get(t,n){if(this.group.depend(t,n),Q.call(this.data,t)){const r=this.data[t];if(r&&Q.call(r,n))return r[n]}if(n==="__typename"&&Q.call(this.policies.rootTypenamesById,t))return this.policies.rootTypenamesById[t];if(this instanceof le)return this.parent.get(t,n)}lookup(t,n){if(n&&this.group.depend(t,"__exists"),Q.call(this.data,t))return this.data[t];if(this instanceof le)return this.parent.lookup(t,n);if(this.policies.rootTypenamesById[t])return{}}merge(t,n){let r;x(t)&&(t=t.__ref),x(n)&&(n=n.__ref);const i=typeof t=="string"?this.lookup(r=t):t,s=typeof n=="string"?this.lookup(r=n):n;if(!s)return;C(typeof r=="string",96);const a=new it(Bc).merge(i,s);if(this.data[r]=a,a!==i&&(delete this.refs[r],this.group.caching)){const o={};i||(o.__exists=1),Object.keys(s).forEach(l=>{if(!i||i[l]!==a[l]){o[l]=1;const u=at(l);u!==l&&!this.policies.hasKeyArgs(a.__typename,u)&&(o[u]=1),a[l]===void 0&&!(this instanceof le)&&delete a[l]}}),o.__typename&&!(i&&i.__typename)&&this.policies.rootTypenamesById[r]===a.__typename&&delete o.__typename,Object.keys(o).forEach(l=>this.group.dirty(r,l))}}modify(t,n,r){const i=this.lookup(t);if(i){const s={};let a=!1,o=!0;const l={DELETE:Ht,INVALIDATE:xi,isReference:x,toReference:this.toReference,canRead:this.canRead,readField:(u,c)=>this.policies.readField(typeof u=="string"?{fieldName:u,from:c||Ye(t)}:u,{store:this})};if(Object.keys(i).forEach(u=>{const c=at(u);let f=i[u];if(f===void 0)return;const h=typeof n=="function"?n:n[u]||(r?void 0:n[c]);if(h){let d=h===Qn?Ht:h(f,{...l,fieldName:c,storeFieldName:u,storage:this.getStorage(t,u)});d===xi?this.group.dirty(t,u):(d===Ht&&(d=void 0),d!==f&&(s[u]=d,a=!0,f=d))}f!==void 0&&(o=!1)}),a)return this.merge(t,s),o&&(this instanceof le?this.data[t]=void 0:delete this.data[t],this.group.dirty(t,"__exists")),!0}return!1}delete(t,n,r){const i=this.lookup(t);if(i){const s=this.getFieldValue(i,"__typename"),a=n&&r?this.policies.getStoreFieldName({typename:s,fieldName:n,args:r}):n;return this.modify(t,a?{[a]:Qn}:Qn,!!r)}return!1}evict(t,n){let r=!1;return t.id&&(Q.call(this.data,t.id)&&(r=this.delete(t.id,t.fieldName,t.args)),this instanceof le&&this!==n&&(r=this.parent.evict(t,n)||r),(t.fieldName||r)&&this.group.dirty(t.id,t.fieldName||"__exists")),r}clear(){this.replace(null)}extract(){const t=this.toObject(),n=[];return this.getRootIdSet().forEach(r=>{Q.call(this.policies.rootTypenamesById,r)||n.push(r)}),n.length&&(t.__META={extraRootIds:n.sort()}),t}replace(t){if(Object.keys(this.data).forEach(n=>{t&&Q.call(t,n)||this.delete(n)}),t){const{__META:n,...r}=t;Object.keys(r).forEach(i=>{this.merge(i,r[i])}),n&&n.extraRootIds.forEach(this.retain,this)}}retain(t){return this.rootIds[t]=(this.rootIds[t]||0)+1}release(t){if(this.rootIds[t]>0){const n=--this.rootIds[t];return n||delete this.rootIds[t],n}return 0}getRootIdSet(t=new Set){return Object.keys(this.rootIds).forEach(t.add,t),this instanceof le?this.parent.getRootIdSet(t):Object.keys(this.policies.rootTypenamesById).forEach(t.add,t),t}gc(){const t=this.getRootIdSet(),n=this.toObject();t.forEach(i=>{Q.call(n,i)&&(Object.keys(this.findChildRefIds(i)).forEach(t.add,t),delete n[i])});const r=Object.keys(n);if(r.length){let i=this;for(;i instanceof le;)i=i.parent;r.forEach(s=>i.delete(s))}return r}findChildRefIds(t){if(!Q.call(this.refs,t)){const n=this.refs[t]={},r=this.data[t];if(!r)return n;const i=new Set([r]);i.forEach(s=>{x(s)&&(n[s.__ref]=!0),X(s)&&Object.keys(s).forEach(a=>{const o=s[a];X(o)&&i.add(o)})})}return this.refs[t]}makeCacheKey(){return this.group.keyMaker.lookupArray(arguments)}get supportsResultCaching(){return this.group.caching}}class Ca{constructor(t,n=null){y(this,"caching");y(this,"parent");y(this,"d",null);y(this,"keyMaker");this.caching=t,this.parent=n,this.resetCaching()}resetCaching(){this.d=this.caching?_a():null,this.keyMaker=new ge}depend(t,n){if(this.d){this.d(zn(t,n));const r=at(n);r!==n&&this.d(zn(t,r)),this.parent&&this.parent.depend(t,n)}}dirty(t,n){this.d&&this.d.dirty(zn(t,n),n==="__exists"?"forget":"setDirty")}}function zn(e,t){return t+"#"+e}function Li(e,t){Ot(e)&&e.group.depend(t,"__exists")}class jc extends Sn{constructor({policies:n,resultCaching:r=!0,seed:i}){super(n,new Ca(r));y(this,"stump",new Uc(this));y(this,"storageTrie",new ge);i&&this.replace(i)}addLayer(n,r){return this.stump.addLayer(n,r)}removeLayer(){return this}getStorage(){return this.storageTrie.lookupArray(arguments)}}Sn.Root=jc;class le extends Sn{constructor(n,r,i,s){super(r.policies,s);y(this,"id");y(this,"parent");y(this,"replay");y(this,"group");this.id=n,this.parent=r,this.replay=i,this.group=s,i(this)}addLayer(n,r){return new le(n,this,r,this.group)}removeLayer(n){const r=this.parent.removeLayer(n);return n===this.id?(this.group.caching&&Object.keys(this.data).forEach(i=>{const s=this.data[i],a=r.lookup(i);a?s?s!==a&&Object.keys(s).forEach(o=>{U(s[o],a[o])||this.group.dirty(i,o)}):(this.group.dirty(i,"__exists"),Object.keys(a).forEach(o=>{this.group.dirty(i,o)})):this.delete(i)}),r):r===this.parent?this:r.addLayer(this.id,this.replay)}toObject(){return{...this.parent.toObject(),...this.data}}findChildRefIds(n){const r=this.parent.findChildRefIds(n);return Q.call(this.data,n)?{...r,...super.findChildRefIds(n)}:r}getStorage(...n){let r=this.parent;for(;r.parent;)r=r.parent;return r.getStorage(...n)}}class Uc extends le{constructor(t){super("EntityStore.Stump",t,()=>{},new Ca(t.group.caching,t.group))}removeLayer(){return this}merge(t,n){return this.parent.merge(t,n)}}function Bc(e,t,n){const r=e[n],i=t[n];return U(r,i)?r:i}function Ot(e){return!!(e&&e.supportsResultCaching)}const Fa=new In;function $c(e){const t=e.directives?.find(({name:r})=>r.value==="unmask");if(!t)return"mask";const n=t.arguments?.find(({name:r})=>r.value==="mode");return n&&"value"in n.value&&n.value.value==="migrate"?"migrate":"unmask"}function Ra(e,t,n){return Fa.withValue(!0,()=>Tt(e,t,n,!1))}function qc(e,t){if(t.has(e))return t.get(e);const n=Array.isArray(e)?[]:{};return t.set(e,n),n}function Tt(e,t,n,r,i){const{knownChanged:s}=n,a=qc(e,n.mutableTargets);if(Array.isArray(e)){for(const[o,l]of Array.from(e.entries())){if(l===null){a[o]=null;continue}const u=Tt(l,t,n,r);s.has(u)&&s.add(a),a[o]=u}return s.has(a)?a:e}for(const o of t.selections){let l;if(r&&s.add(a),o.kind===p.FIELD){const u=ft(o),c=o.selectionSet;if(l=a[u]||e[u],l===void 0)continue;if(c&&l!==null){const f=Tt(e[u],c,n,r);s.has(f)&&(l=f)}a[u]=l}if(o.kind===p.INLINE_FRAGMENT&&(!o.typeCondition||n.cache.fragmentMatches(o,e.__typename))&&(l=Tt(e,o.selectionSet,n,r)),o.kind===p.FRAGMENT_SPREAD){const u=o.name.value,c=n.fragmentMap[u]||(n.fragmentMap[u]=n.cache.lookupFragment(u));C(c,39,u);const f=$c(o);f!=="mask"&&(l=Tt(e,c.selectionSet,n,f==="migrate"))}s.has(l)&&s.add(a)}return"__typename"in e&&!("__typename"in a)&&(a.__typename=e.__typename),Object.keys(a).length!==Object.keys(e).length&&s.add(a),s.has(a)?a:e}function Qc(e,t,n,r){const i=t.definitions.filter(a=>a.kind===p.FRAGMENT_DEFINITION);typeof r>"u"&&(C(i.length===1,41,i.length),r=i[0].name.value);const s=i.find(a=>a.name.value===r);return C(!!s,42,r),e==null||U(e,{})?e:Ra(e,s.selectionSet,{operationName:s.name.value,fragmentMap:Pt(Vt(t)),cache:n,mutableTargets:new WeakMap,knownChanged:new WeakSet})}function zc(e,t,n){const r=we(t);return C(r,43),e==null?e:Ra(e,r.selectionSet,{operationType:r.operation,operationName:r.name?.value,fragmentMap:Pt(Vt(t)),cache:n,mutableTargets:new WeakMap,knownChanged:new WeakSet})}const Mi={};function zr(e){const t=JSON.stringify(e);return Mi[t]||(Mi[t]={})}function Pi(e){const t=zr(e);return t.keyFieldsFn||(t.keyFieldsFn=(n,r)=>{const i=(a,o)=>r.readField(o,a),s=r.keyObject=Gr(e,a=>{let o=Je(r.storeObject,a,i);return o===void 0&&n!==r.storeObject&&Q.call(n,a[0])&&(o=Je(n,a,La)),C(o!==void 0,99,a.join("."),n),o});return`${r.typename}:${JSON.stringify(s)}`})}function Vi(e){const t=zr(e);return t.keyArgsFn||(t.keyArgsFn=(n,{field:r,variables:i,fieldName:s})=>{const a=Gr(e,l=>{const u=l[0],c=u.charAt(0);if(c==="@"){if(r&&Ur(r.directives)){const f=u.slice(1),h=r.directives.find(m=>m.name.value===f),d=h&&Pr(h,i);return d&&Je(d,l.slice(1))}return}if(c==="$"){const f=u.slice(1);if(i&&Q.call(i,f)){const h=l.slice(0);return h[0]=f,Je(i,h)}return}if(n)return Je(n,l)}),o=JSON.stringify(a);return(n||o!=="{}")&&(s+=":"+o),s})}function Gr(e,t){const n=new it;return xa(e).reduce((r,i)=>{let s=t(i);if(s!==void 0){for(let a=i.length-1;a>=0;--a)s={[i[a]]:s};r=n.merge(r,s)}return r},{})}function xa(e){const t=zr(e);if(!t.paths){const n=t.paths=[],r=[];e.forEach((i,s)=>{$(i)?(xa(i).forEach(a=>n.push(r.concat(a))),r.length=0):(r.push(i),$(e[s+1])||(n.push(r.slice(0)),r.length=0))})}return t.paths}function La(e,t){return e[t]}function Je(e,t,n){return n=n||La,Ma(t.reduce(function r(i,s){return $(i)?i.map(a=>r(a,s)):i&&n(i,s)},e))}function Ma(e){return X(e)?$(e)?e.map(Ma):Gr(Object.keys(e).sort(),t=>Je(e,t)):e}const Pa=new In,ji=new WeakMap;function It(e){let t=ji.get(e);return t||ji.set(e,t={vars:new Set,dep:_a()}),t}function Ui(e){It(e).vars.forEach(t=>t.forgetCache(e))}function Gc(e){It(e).vars.forEach(t=>t.attachCache(e))}function Wc(e){const t=new Set,n=new Set,r=function(s){if(arguments.length>0){if(e!==s){e=s,t.forEach(o=>{It(o).dep.dirty(r),Yc(o)});const a=Array.from(n);n.clear(),a.forEach(o=>o(e))}}else{const a=Pa.getValue();a&&(i(a),It(a).dep(r))}return e};r.onNextChange=s=>(n.add(s),()=>{n.delete(s)});const i=r.attachCache=s=>(t.add(s),It(s).vars.add(r),r);return r.forgetCache=s=>t.delete(s),r}function Yc(e){e.broadcastWatches&&e.broadcastWatches()}function vr(e){return e.args!==void 0?e.args:e.field?Pr(e.field,e.variables):null}const Kc=()=>{},Bi=(e,t)=>t.fieldName,$i=(e,t,{mergeObjects:n})=>n(e,t),qi=(e,t)=>t;class Jc{constructor(t){y(this,"config");y(this,"typePolicies",{});y(this,"toBeAdded",{});y(this,"supertypeMap",new Map);y(this,"fuzzySubtypes",new Map);y(this,"cache");y(this,"rootIdsByTypename",{});y(this,"rootTypenamesById",{});y(this,"usingPossibleTypes",!1);this.config=t,this.config={dataIdFromObject:ka,...t},this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),t.possibleTypes&&this.addPossibleTypes(t.possibleTypes),t.typePolicies&&this.addTypePolicies(t.typePolicies)}identify(t,n){const r=this,i=n&&(n.typename||n.storeObject?.__typename)||t.__typename;if(i===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];const s=n&&n.storeObject||t,a={...n,typename:i,storeObject:s,readField:n&&n.readField||((...c)=>{const f=Wr(c,s);return r.readField(f,{store:r.cache.data,variables:f.variables})})};let o;const l=i&&this.getTypePolicy(i);let u=l&&l.keyFn||this.config.dataIdFromObject;return Fa.withValue(!0,()=>{for(;u;){const c=u({...t,...s},a);if($(c))u=Pi(c);else{o=c;break}}}),o=o?String(o):void 0,a.keyObject?[o,a.keyObject]:[o]}addTypePolicies(t){Object.keys(t).forEach(n=>{const{queryType:r,mutationType:i,subscriptionType:s,...a}=t[n];r&&this.setRootTypename("Query",n),i&&this.setRootTypename("Mutation",n),s&&this.setRootTypename("Subscription",n),Q.call(this.toBeAdded,n)?this.toBeAdded[n].push(a):this.toBeAdded[n]=[a]})}updateTypePolicy(t,n,r){const i=this.getTypePolicy(t),{keyFields:s,fields:a}=n;function o(l,u){l.merge=typeof u=="function"?u:u===!0?$i:u===!1?qi:l.merge}o(i,n.merge),i.keyFn=s===!1?Kc:$(s)?Pi(s):typeof s=="function"?s:i.keyFn,a&&Object.keys(a).forEach(l=>{let u=r[l];(!u||u?.typename!==t)&&(u=r[l]={typename:t});const c=a[l];if(typeof c=="function")u.read=c;else{const{keyArgs:f,read:h,merge:d}=c;u.keyFn=f===!1?Bi:$(f)?Vi(f):typeof f=="function"?f:u.keyFn,typeof h=="function"&&(u.read=h),o(u,d)}u.read&&u.merge&&(u.keyFn=u.keyFn||Bi)})}setRootTypename(t,n=t){const r="ROOT_"+t.toUpperCase(),i=this.rootTypenamesById[r];n!==i&&(C(!i||i===t,100,t),i&&delete this.rootIdsByTypename[i],this.rootIdsByTypename[n]=r,this.rootTypenamesById[r]=n)}addPossibleTypes(t){this.usingPossibleTypes=!0,Object.keys(t).forEach(n=>{this.getSupertypeSet(n,!0),t[n].forEach(r=>{this.getSupertypeSet(r,!0).add(n);const i=r.match(Da);(!i||i[0]!==r)&&this.fuzzySubtypes.set(r,new RegExp(r))})})}getTypePolicy(t){if(!Q.call(this.typePolicies,t)){const r=this.typePolicies[t]={};r.fields={};let i=this.supertypeMap.get(t);!i&&this.fuzzySubtypes.size&&(i=this.getSupertypeSet(t,!0),this.fuzzySubtypes.forEach((s,a)=>{if(s.test(t)){const o=this.supertypeMap.get(a);o&&o.forEach(l=>i.add(l))}})),i&&i.size&&i.forEach(s=>{const{fields:a,...o}=this.getTypePolicy(s);Object.assign(r,o),Object.assign(r.fields,a)})}const n=this.toBeAdded[t];return n&&n.length&&n.splice(0).forEach(r=>{this.updateTypePolicy(t,r,this.typePolicies[t].fields)}),this.typePolicies[t]}getFieldPolicy(t,n){if(t)return this.getTypePolicy(t).fields[n]}getSupertypeSet(t,n){let r=this.supertypeMap.get(t);return!r&&n&&this.supertypeMap.set(t,r=new Set),r}fragmentMatches(t,n,r,i){if(!t.typeCondition)return!0;if(!n)return!1;const s=t.typeCondition.name.value;if(n===s)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(s)){const a=this.getSupertypeSet(n,!0),o=[a],l=c=>{const f=this.getSupertypeSet(c,!1);f&&f.size&&o.indexOf(f)<0&&o.push(f)};let u=!!(r&&this.fuzzySubtypes.size);for(let c=0;c<o.length;++c){const f=o[c];if(f.has(s))return a.has(s)||a.add(s),!0;f.forEach(l),u&&c===o.length-1&&yr(t.selectionSet,r,i)&&(u=!1,this.fuzzySubtypes.forEach((h,d)=>{const m=n.match(h);m&&m[0]===n&&l(d)}))}}return!1}hasKeyArgs(t,n){const r=this.getFieldPolicy(t,n);return!!(r&&r.keyFn)}getStoreFieldName(t){const{typename:n,fieldName:r}=t,i=this.getFieldPolicy(n,r);let s,a=i&&i.keyFn;if(a&&n){const o={typename:n,fieldName:r,field:t.field||null,variables:t.variables},l=vr(t);for(;a;){const u=a(l,o);if($(u))a=Vi(u);else{s=u||r;break}}}return s===void 0&&(s=t.field?yc(t.field,t.variables):da(r,vr(t))),s===!1?r:r===at(s)?s:r+":"+s}readField(t,n){const r=t.from;if(!r||!(t.field||t.fieldName))return;if(t.typename===void 0){const c=n.store.getFieldValue(r,"__typename");c&&(t.typename=c)}const s=this.getStoreFieldName(t),a=at(s),o=n.store.getFieldValue(r,s),l=this.getFieldPolicy(t.typename,a),u=l&&l.read;if(u){const c=Qi(this,r,t,n,n.store.getStorage(x(r)?r.__ref:r,s));return Pa.withValue(this.cache,u,[o,c])}return o}getReadFunction(t,n){const r=this.getFieldPolicy(t,n);return r&&r.read}getMergeFunction(t,n,r){let i=this.getFieldPolicy(t,n),s=i&&i.merge;return!s&&r&&(i=this.getTypePolicy(r),s=i&&i.merge),s}runMergeFunction(t,n,{field:r,typename:i,merge:s},a,o){return s===$i?Va(a.store)(t,n):s===qi?n:(a.overwrite&&(t=void 0),s(t,n,Qi(this,void 0,{typename:i,fieldName:r.name.value,field:r,variables:a.variables},a,o||{})))}}function Qi(e,t,n,r,i){const s=e.getStoreFieldName(n),a=at(s),o=n.variables||r.variables,{toReference:l,canRead:u}=r.store;return{args:vr(n),field:n.field||null,fieldName:a,storeFieldName:s,variables:o,isReference:x,toReference:l,storage:i,cache:e.cache,canRead:u,readField(...c){return e.readField(Wr(c,t,o),r)},mergeObjects:Va(r.store)}}function Wr(e,t,n){const{0:r,1:i,length:s}=e;let a;return typeof r=="string"?a={fieldName:r,from:s>1?i:t}:(a={...r},Q.call(a,"from")||(a.from=t)),a.variables===void 0&&(a.variables=n),a}function Va(e){return function(n,r){if($(n)||$(r))throw ne(103);if(X(n)&&X(r)){const i=e.getFieldValue(n,"__typename"),s=e.getFieldValue(r,"__typename");if(i&&s&&i!==s)return r;if(x(n)&&qe(r))return e.merge(n.__ref,r),n;if(qe(n)&&x(r))return e.merge(n,r.__ref),r;if(qe(n)&&qe(r))return{...n,...r}}return r}}function zi(e){return[e.selectionSet,e.objectOrReference,e.context]}class Hc{constructor(t){y(this,"executeSelectionSet");y(this,"executeSubSelectedArray");y(this,"config");y(this,"knownResults",new WeakMap);this.config=t,this.executeSelectionSet=Ft(n=>{const r=zi(n),i=this.executeSelectionSet.peek(...r);return i||(Li(n.context.store,n.enclosingRef.__ref),this.execSelectionSetImpl(n))},{max:ye["inMemoryCache.executeSelectionSet"]||5e4,keyArgs:zi,makeCacheKey(n,r,i){if(Ot(i.store))return i.store.makeCacheKey(n,x(r)?r.__ref:r,i.varString)}}),this.executeSubSelectedArray=Ft(n=>(Li(n.context.store,n.enclosingRef.__ref),this.execSubSelectedArrayImpl(n)),{max:ye["inMemoryCache.executeSubSelectedArray"]||1e4,makeCacheKey({field:n,array:r,context:i}){if(Ot(i.store))return i.store.makeCacheKey(n,r,i.varString)}})}diffQueryAgainstStore({store:t,query:n,rootId:r="ROOT_QUERY",variables:i,returnPartialData:s=!0}){const a=this.config.cache.policies;i={...jr(nc(n)),...i};const o=Ye(r),l=this.executeSelectionSet({selectionSet:ha(n).selectionSet,objectOrReference:o,enclosingRef:o,context:{store:t,query:n,policies:a,variables:i,varString:Oe(i),...Aa(n,this.config.fragments)}});let u;l.missing&&(u=new Qr(Xc(l.missing),l.missing,n,i));const c=!u,{result:f}=l;return{result:c||s?Object.keys(f).length===0?null:f:null,complete:c,missing:u}}isFresh(t,n,r,i){if(Ot(i.store)&&this.knownResults.get(t)===r){const s=this.executeSelectionSet.peek(r,n,i);if(s&&t===s.result)return!0}return!1}execSelectionSetImpl({selectionSet:t,objectOrReference:n,enclosingRef:r,context:i}){if(x(n)&&!i.policies.rootTypenamesById[n.__ref]&&!i.store.has(n.__ref))return{result:{},missing:`Dangling reference to missing ${n.__ref} object`};const{variables:s,policies:a,store:o}=i,l=o.getFieldValue(n,"__typename"),u=[];let c;const f=new it;typeof l=="string"&&!a.rootIdsByTypename[l]&&u.push({__typename:l});function h(E,T){return E.missing&&(c=f.merge(c,{[T]:E.missing})),E.result}const d=new Set(t.selections);d.forEach(E=>{if(On(E,s))if(jt(E)){let T=a.readField({fieldName:E.name.value,field:E,variables:i.variables,from:n},i);const w=ft(E);T===void 0?Sa.added(E)||(c=f.merge(c,{[w]:`Can't find field '${E.name.value}' on ${x(n)?n.__ref+" object":"object "+JSON.stringify(n,null,2)}`})):$(T)?T.length>0&&(T=h(this.executeSubSelectedArray({field:E,array:T,enclosingRef:r,context:i}),w)):E.selectionSet&&T!=null&&(T=h(this.executeSelectionSet({selectionSet:E.selectionSet,objectOrReference:T,enclosingRef:x(T)?T:r,context:i}),w)),T!==void 0&&u.push({[w]:T})}else{const T=Nn(E,i.lookupFragment);if(!T&&E.kind===p.FRAGMENT_SPREAD)throw ne(104,E.name.value);T&&a.fragmentMatches(T,l)&&T.selectionSet.selections.forEach(d.add,d)}});const b={result:lc(u),missing:c},v=b;return v.result&&this.knownResults.set(v.result,t),v}execSubSelectedArrayImpl({field:t,array:n,enclosingRef:r,context:i}){let s,a=new it;function o(l,u){return l.missing&&(s=a.merge(s,{[u]:l.missing})),l.result}return t.selectionSet&&(n=n.filter(i.store.canRead)),n=n.map((l,u)=>l===null?null:$(l)?o(this.executeSubSelectedArray({field:t,array:l,enclosingRef:r,context:i}),u):t.selectionSet?o(this.executeSelectionSet({selectionSet:t.selectionSet,objectOrReference:l,enclosingRef:x(l)?l:r,context:i}),u):l),{result:n,missing:s}}}function Xc(e){try{JSON.stringify(e,(t,n)=>{if(typeof n=="string")throw n;return n})}catch(t){return t}}function Gn(e,t,n){const r=`${t}${n}`;let i=e.flavors.get(r);return i||e.flavors.set(r,i=e.clientOnly===t&&e.deferred===n?e:{...e,clientOnly:t,deferred:n}),i}class Zc{constructor(t,n,r){y(this,"cache");y(this,"reader");y(this,"fragments");this.cache=t,this.reader=n,this.fragments=r}writeToStore(t,{query:n,result:r,dataId:i,variables:s,overwrite:a}){const o=we(n),l=Vc();s={...jr(o),...s};const u={store:t,written:{},merge(f,h){return l.merge(f,h)},variables:s,varString:Oe(s),...Aa(n,this.fragments),overwrite:!!a,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map},c=this.processSelectionSet({result:r||{},dataId:i,selectionSet:o.selectionSet,mergeTree:{map:new Map},context:u});if(!x(c))throw ne(106,r);return u.incomingById.forEach(({storeObject:f,mergeTree:h,fieldNodeSet:d},m)=>{const b=Ye(m);if(h&&h.map.size){const v=this.applyMerges(h,b,f,u);if(x(v))return;f=v}t.merge(m,f)}),t.retain(c.__ref),c}processSelectionSet({dataId:t,result:n,selectionSet:r,context:i,mergeTree:s}){const{policies:a}=this.cache;let o={};const l=t&&a.rootTypenamesById[t]||br(n,r,i.fragmentMap)||t&&i.store.get(t,"__typename");typeof l=="string"&&(o.__typename=l);const u=(...f)=>{const h=Wr(f,o,i.variables);if(x(h.from)){const d=i.incomingById.get(h.from.__ref);if(d){const m=a.readField({...h,from:d.storeObject},i);if(m!==void 0)return m}}return a.readField(h,i)},c=new Set;this.flattenFields(r,n,i,l).forEach((f,h)=>{const d=ft(h),m=n[d];if(c.add(h),m!==void 0){const b=a.getStoreFieldName({typename:l,fieldName:h.name.value,field:h,variables:f.variables}),v=Gi(s,b);let E=this.processFieldValue(m,h,h.selectionSet?Gn(f,!1,!1):f,v),T;h.selectionSet&&(x(E)||qe(E))&&(T=u("__typename",E));const w=a.getMergeFunction(l,h.name.value,T);w?v.info={field:h,typename:l,merge:w}:Wi(s,b),o=f.merge(o,{[b]:E})}});try{const[f,h]=a.identify(n,{typename:l,selectionSet:r,fragmentMap:i.fragmentMap,storeObject:o,readField:u});t=t||f,h&&(o=i.merge(o,h))}catch(f){if(!t)throw f}if(typeof t=="string"){const f=Ye(t),h=i.written[t]||(i.written[t]=[]);if(h.indexOf(r)>=0||(h.push(r),this.reader&&this.reader.isFresh(n,f,r,i)))return f;const d=i.incomingById.get(t);return d?(d.storeObject=i.merge(d.storeObject,o),d.mergeTree=gr(d.mergeTree,s),c.forEach(m=>d.fieldNodeSet.add(m))):i.incomingById.set(t,{storeObject:o,mergeTree:cn(s)?void 0:s,fieldNodeSet:c}),f}return o}processFieldValue(t,n,r,i){return!n.selectionSet||t===null?t:$(t)?t.map((s,a)=>{const o=this.processFieldValue(s,n,r,Gi(i,a));return Wi(i,a),o}):this.processSelectionSet({result:t,selectionSet:n.selectionSet,context:r,mergeTree:i})}flattenFields(t,n,r,i=br(n,t,r.fragmentMap)){const s=new Map,{policies:a}=this.cache,o=new ge(!1);return function l(u,c){const f=o.lookup(u,c.clientOnly,c.deferred);f.visited||(f.visited=!0,u.selections.forEach(h=>{if(!On(h,r.variables))return;let{clientOnly:d,deferred:m}=c;if(!(d&&m)&&Ur(h.directives)&&h.directives.forEach(b=>{const v=b.name.value;if(v==="client"&&(d=!0),v==="defer"){const E=Pr(b,r.variables);(!E||E.if!==!1)&&(m=!0)}}),jt(h)){const b=s.get(h);b&&(d=d&&b.clientOnly,m=m&&b.deferred),s.set(h,Gn(r,d,m))}else{const b=Nn(h,r.lookupFragment);if(!b&&h.kind===p.FRAGMENT_SPREAD)throw ne(108,h.name.value);b&&a.fragmentMatches(b,i,n,r.variables)&&l(b.selectionSet,Gn(r,d,m))}}))}(t,r),s}applyMerges(t,n,r,i,s){if(t.map.size&&!x(r)){const a=!$(r)&&(x(n)||qe(n))?n:void 0,o=r;a&&!s&&(s=[x(a)?a.__ref:a]);let l;const u=(c,f)=>$(c)?typeof f=="number"?c[f]:void 0:i.store.getFieldValue(c,String(f));t.map.forEach((c,f)=>{const h=u(a,f),d=u(o,f);if(d===void 0)return;s&&s.push(f);const m=this.applyMerges(c,h,d,i,s);m!==d&&(l=l||new Map,l.set(f,m)),s&&C(s.pop()===f)}),l&&(r=$(o)?o.slice(0):{...o},l.forEach((c,f)=>{r[f]=c}))}return t.info?this.cache.policies.runMergeFunction(n,r,t.info,i,s&&i.store.getStorage(...s)):r}}const ja=[];function Gi({map:e},t){return e.has(t)||e.set(t,ja.pop()||{map:new Map}),e.get(t)}function gr(e,t){if(e===t||!t||cn(t))return e;if(!e||cn(e))return t;const n=e.info&&t.info?{...e.info,...t.info}:e.info||t.info,r=e.map.size&&t.map.size,i=r?new Map:e.map.size?e.map:t.map,s={info:n,map:i};if(r){const a=new Set(t.map.keys());e.map.forEach((o,l)=>{s.map.set(l,gr(o,t.map.get(l))),a.delete(l)}),a.forEach(o=>{s.map.set(o,gr(t.map.get(o),e.map.get(o)))})}return s}function cn(e){return!e||!(e.info||e.map.size)}function Wi({map:e},t){const n=e.get(t);n&&cn(n)&&(ja.push(n),e.delete(t))}function br(e,t,n){let r;for(const i of t.selections)if(jt(i)){if(i.name.value==="__typename")return e[ft(i)]}else r?r.push(i):r=[i];if(typeof e.__typename=="string")return e.__typename;if(r)for(const i of r){const s=br(e,Nn(i,n).selectionSet,n);if(typeof s=="string")return s}}class qf extends Lc{constructor(n={}){super();y(this,"data");y(this,"optimisticData");y(this,"config");y(this,"watches",new Set);y(this,"storeReader");y(this,"storeWriter");y(this,"addTypenameTransform",new me(Sa));y(this,"maybeBroadcastWatch");y(this,"assumeImmutableResults",!0);y(this,"policies");y(this,"makeVar",Wc);y(this,"txCount",0);this.config=Pc(n),this.policies=new Jc({cache:this,dataIdFromObject:this.config.dataIdFromObject,possibleTypes:this.config.possibleTypes,typePolicies:this.config.typePolicies}),this.init()}init(){const n=this.data=new Sn.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=n.stump,this.resetResultCache()}resetResultCache(){const{fragments:n}=this.config;this.addTypenameTransform.resetCache(),n?.resetCaches(),this.storeWriter=new Zc(this,this.storeReader=new Hc({cache:this,fragments:n}),n),this.maybeBroadcastWatch=Ft((r,i)=>this.broadcastWatch(r,i),{max:ye["inMemoryCache.maybeBroadcastWatch"]||5e3,makeCacheKey:r=>{const i=r.optimistic?this.optimisticData:this.data;if(Ot(i)){const{optimistic:s,id:a,variables:o}=r;return i.makeCacheKey(r.query,r.callback,Oe({optimistic:s,id:a,variables:o}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(r=>r.resetCaching())}restore(n){return this.init(),n&&this.data.replace(n),this}extract(n=!1){return(n?this.optimisticData:this.data).extract()}read(n){const{returnPartialData:r=!1}=n;return this.storeReader.diffQueryAgainstStore({...n,store:n.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:r}).result}write(n){try{return++this.txCount,this.storeWriter.writeToStore(this.data,n)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}}modify(n){if(Q.call(n,"id")&&!n.id)return!1;const r=n.optimistic?this.optimisticData:this.data;try{return++this.txCount,r.modify(n.id||"ROOT_QUERY",n.fields,!1)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}}diff(n){return this.storeReader.diffQueryAgainstStore({...n,store:n.optimistic?this.optimisticData:this.data,rootId:n.id||"ROOT_QUERY",config:this.config})}watch(n){return this.watches.size||Gc(this),this.watches.add(n),n.immediate&&this.maybeBroadcastWatch(n),()=>{this.watches.delete(n)&&!this.watches.size&&Ui(this),this.maybeBroadcastWatch.forget(n)}}gc(n){Oe.reset(),Ke.reset();const r=this.optimisticData.gc();return n&&!this.txCount&&n.resetResultCache&&this.resetResultCache(),r}retain(n,r){return(r?this.optimisticData:this.data).retain(n)}release(n,r){return(r?this.optimisticData:this.data).release(n)}identify(n){if(x(n))return n.__ref;try{return this.policies.identify(n)[0]}catch{}}evict(n){if(!n.id){if(Q.call(n,"id"))return!1;n={...n,id:"ROOT_QUERY"}}try{return++this.txCount,this.optimisticData.evict(n,this.data)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}}reset(n){return this.init(),Oe.reset(),n&&n.discardWatches?(this.watches.forEach(r=>this.maybeBroadcastWatch.forget(r)),this.watches.clear(),Ui(this)):this.broadcastWatches(),Promise.resolve()}removeOptimistic(n){const r=this.optimisticData.removeLayer(n);r!==this.optimisticData&&(this.optimisticData=r,this.broadcastWatches())}batch(n){const{update:r,optimistic:i=!0,removeOptimistic:s,onWatchUpdated:a}=n;let o;const l=c=>{const{data:f,optimisticData:h}=this;++this.txCount,c&&(this.data=this.optimisticData=c);try{return o=r(this)}finally{--this.txCount,this.data=f,this.optimisticData=h}},u=new Set;return a&&!this.txCount&&this.broadcastWatches({...n,onWatchUpdated(c){return u.add(c),!1}}),typeof i=="string"?this.optimisticData=this.optimisticData.addLayer(i,l):i===!1?l(this.data):l(),typeof s=="string"&&(this.optimisticData=this.optimisticData.removeLayer(s)),a&&u.size?(this.broadcastWatches({...n,onWatchUpdated(c,f){const h=a.call(this,c,f);return h!==!1&&u.delete(c),h}}),u.size&&u.forEach(c=>this.maybeBroadcastWatch.dirty(c))):this.broadcastWatches(n),o}performTransaction(n,r){return this.batch({update:n,optimistic:r||r!==null})}transformDocument(n){return this.addTypenameTransform.transformDocument(this.addFragmentsToDocument(n))}fragmentMatches(n,r){return this.policies.fragmentMatches(n,r)}lookupFragment(n){return this.config.fragments?.lookup(n)||null}broadcastWatches(n){this.txCount||this.watches.forEach(r=>this.maybeBroadcastWatch(r,n))}addFragmentsToDocument(n){const{fragments:r}=this.config;return r?r.transform(n):n}broadcastWatch(n,r){const{lastDiff:i}=n,s=this.diff(n);r&&(n.optimistic&&typeof r.optimistic=="string"&&(s.fromOptimisticTransaction=!0),r.onWatchUpdated&&r.onWatchUpdated.call(this,n,s,i)===!1)||(!i||!U(i.result,s.result))&&n.callback(n.lastDiff=s,i)}}function Ut(e,t){return typeof e=="object"&&e!==null&&e[Symbol.for("apollo.error")]===t}function Bt(e){Object.defineProperty(e,Symbol.for("apollo.error"),{value:e.name,enumerable:!1,writable:!1,configurable:!1})}function Yi(e){return e.map(t=>t.message||"Error message not found.").join(`
`)}const wt=class wt extends Error{constructor(n){super(wt.formatMessage(n,{defaultFormatMessage:Yi}));y(this,"errors");this.name="CombinedProtocolErrors",this.errors=n,Bt(this),Object.setPrototypeOf(this,wt.prototype)}static is(n){return Ut(n,"CombinedProtocolErrors")}};y(wt,"formatMessage",Yi);let Er=wt;function ef(e){return e!==null&&typeof e=="object"&&typeof e.message=="string"&&typeof e.name=="string"&&(typeof e.stack=="string"||typeof e.stack>"u")}class Yr extends Error{static is(t){return Ut(t,"UnconventionalError")}constructor(t){super("An error of unexpected shape occurred.",{cause:t}),this.name="UnconventionalError",Bt(this),Object.setPrototypeOf(this,Yr.prototype)}}function Ki(e){return e.filter(t=>t).map(t=>t.message||"Error message not found.").join(`
`)}const _t=class _t extends Error{constructor(n,r=n.errors||[]){super(_t.formatMessage(r,{result:n,defaultFormatMessage:Ki}));y(this,"errors");y(this,"data");y(this,"extensions");this.errors=r,this.data=n.data,this.extensions=n.extensions,this.name="CombinedGraphQLErrors",Bt(this),Object.setPrototypeOf(this,_t.prototype)}static is(n){return Ut(n,"CombinedGraphQLErrors")}};y(_t,"formatMessage",Ki);let Ee=_t;const tf=new WeakSet;function nf(e){tf.add(e)}class kn extends Error{constructor(n,r){super(n);y(this,"response");y(this,"statusCode");y(this,"bodyText");this.name="ServerError",this.response=r.response,this.statusCode=r.response.status,this.bodyText=r.bodyText,Bt(this),Object.setPrototypeOf(this,kn.prototype)}static is(n){return Ut(n,"ServerError")}}class Dn extends Error{constructor(n,r){super(n instanceof Error?n.message:"Could not parse server response",{cause:n});y(this,"response");y(this,"statusCode");y(this,"bodyText");this.name="ServerParseError",this.response=r.response,this.statusCode=r.response.status,this.bodyText=r.bodyText,Bt(this),Object.setPrototypeOf(this,Dn.prototype)}static is(n){return Ut(n,"ServerParseError")}}const Rt=Symbol();function Kr(e){return"extensions"in e?Er.is(e.extensions[Rt]):!1}function fn(e){return ef(e)?e:typeof e=="string"?new Error(e,{cause:e}):new Yr(e)}var D;(function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error",e[e.streaming=9]="streaming"})(D||(D={}));const{assign:Ji}=Object,Ue={loading:!0,networkStatus:D.loading,data:void 0,dataState:"empty",partial:!0},Wn={loading:!1,networkStatus:D.ready,data:void 0,dataState:"empty",partial:!0};var ns;ns=Symbol.observable;class Yn{constructor({queryManager:t,options:n,transformedQuery:r=t.transform(n.query)}){y(this,"options");y(this,"queryName");y(this,"variablesUnknown",!1);y(this,"_lastWrite");y(this,"unsubscribeFromCache");y(this,"input");y(this,"subject");y(this,"isTornDown");y(this,"queryManager");y(this,"subscriptions",new Set);y(this,"waitForNetworkResult");y(this,"lastQuery");y(this,"linkSubscription");y(this,"pollingInfo");y(this,"subscribe");y(this,"pipe");y(this,ns);y(this,"@@observable");y(this,"stableLastResult");y(this,"didWarnCacheOnlyPolling",!1);y(this,"dirty",!1);y(this,"notifyTimeout");y(this,"activeOperations",new Set);y(this,"operator",dr(t=>{const{query:n,variables:r,meta:i}=t;if(t.source==="setResult")return{query:n,variables:r,result:t.value,meta:i};if(t.kind==="C"||!pt(t,this))return;let s;const a=this.subject.getValue();if(t.source==="cache"){if(s=t.value,s.networkStatus===D.ready&&s.partial&&(!this.options.returnPartialData||a.result.networkStatus===D.error)&&this.options.fetchPolicy!=="cache-only")return}else if(t.source==="network")this.waitForNetworkResult&&(this.waitForNetworkResult=!1,this.resubscribeCache()),s=t.kind==="E"?{...pt(a,t)?a.result:{data:void 0,dataState:"empty",partial:!0},error:t.error,networkStatus:D.error,loading:!1}:t.value,t.kind==="E"&&s.dataState==="streaming"&&(s.dataState="complete"),s.error&&(i.shouldEmit=1);else if(t.source==="newNetworkStatus"){const o=pt(a,t)?a.result:this.getInitialResult(i.fetchPolicy),{resetError:l}=t.value,u=l?void 0:o.error,c=u?D.error:D.ready;s={...o,error:u,networkStatus:c}}return C(s),s.error||delete s.error,s.networkStatus=this.calculateNetworkStatus(s.networkStatus),s.loading=mr(s.networkStatus),s=this.maskResult(s),{query:n,variables:r,result:s,meta:i}}));this.queryManager=t,this.waitForNetworkResult=n.fetchPolicy==="network-only",this.isTornDown=!1,this.subscribeToMore=this.subscribeToMore.bind(this),this.maskResult=this.maskResult.bind(this);const{watchQuery:{fetchPolicy:i="cache-first"}={}}=t.defaultOptions,{fetchPolicy:s=i,initialFetchPolicy:a=s==="standby"?i:s}=n;n[gc]&&(C(s==="standby",77),this.variablesUnknown=!0),this.lastQuery=r,this.options={...n,initialFetchPolicy:a,fetchPolicy:s,variables:this.getVariablesWithDefaults(n.variables)},this.initializeObservablesQueue(),this["@@observable"]=()=>this,Symbol.observable&&(this[Symbol.observable]=()=>this);const o=we(this.query);this.queryName=o&&o.name&&o.name.value}get query(){return this.lastQuery}get variables(){return this.options.variables}get networkStatus(){return this.subject.getValue().result.networkStatus}initializeObservablesQueue(){this.subject=new hu({query:this.query,variables:this.variables,result:Ue,meta:{}});const t=this.subject.pipe(ln({subscribe:()=>{this.subject.observed||(this.reobserve(),setTimeout(()=>this.updatePolling()))},unsubscribe:()=>{this.subject.observed||this.tearDownQuery()}}),dr(({query:n,variables:r,result:i,meta:s},a)=>{const{shouldEmit:o}=s;if(i===Ue&&(a.previous=void 0,a.previousVariables=void 0),this.options.fetchPolicy==="standby"||o===2)return;if(o===1)return c();const{previous:l,previousVariables:u}=a;if(l){const f=this.queryManager.getDocumentInfo(n),h=this.queryManager.dataMasking,d=h?f.nonReactiveQuery:n;if((h||f.hasNonreactiveDirective?ma(d,l,i,r):U(l,i))&&U(u,r))return}if(o===3&&(!this.options.notifyOnNetworkStatusChange||U(l,i)))return;return c();function c(){return a.previous=i,a.previousVariables=r,i}},()=>({})));this.pipe=t.pipe.bind(t),this.subscribe=t.subscribe.bind(t),this.input=new ct,this.input.complete=()=>{},this.input.pipe(this.operator).subscribe(this.subject)}getCacheDiff({optimistic:t=!0}={}){return this.queryManager.cache.diff({query:this.query,variables:this.variables,returnPartialData:!0,optimistic:t})}getInitialResult(t){const n=this.queryManager.prioritizeCacheValues?"cache-first":t||this.options.fetchPolicy,r=()=>{const i=this.getCacheDiff(),s=this.options.returnPartialData||i.complete?i.result??void 0:void 0;return this.maskResult({data:s,dataState:i.complete?"complete":s===void 0?"empty":"partial",loading:!i.complete,networkStatus:i.complete?D.ready:D.loading,partial:!i.complete})};switch(n){case"cache-only":return{...r(),loading:!1,networkStatus:D.ready};case"cache-first":return r();case"cache-and-network":return{...r(),loading:!0,networkStatus:D.loading};case"standby":return Wn;default:return Ue}}resubscribeCache(){const{variables:t,fetchPolicy:n}=this.options,r=this.query,i=n==="standby"||n==="no-cache"||this.waitForNetworkResult,s=!pt({query:r,variables:t},this.unsubscribeFromCache)&&!this.waitForNetworkResult;if((i||s)&&this.unsubscribeFromCache?.(),i||!s)return;const a={query:r,variables:t,optimistic:!0,watcher:this,callback:l=>{const u=this.queryManager.getDocumentInfo(r);if((u.hasClientExports||u.hasForcedResolvers)&&(a.lastDiff=void 0),a.lastOwnDiff===l)return;const{result:c}=this.subject.getValue();!l.complete&&(c.error||c===Ue||c===Wn)||U(c.data,l.result)||this.scheduleNotify()}},o=this.queryManager.cache.watch(a);this.unsubscribeFromCache=Object.assign(()=>{this.unsubscribeFromCache=void 0,o()},{query:r,variables:t})}getCurrentResult(){const{result:t}=this.subject.getValue();let n=t.networkStatus===D.error||this.hasObservers()||this.options.fetchPolicy==="no-cache"?t:this.getInitialResult();return n===Ue&&(n=this.getInitialResult()),U(this.stableLastResult,n)||(this.stableLastResult=n),this.stableLastResult}refetch(t){const{fetchPolicy:n}=this.options,r={pollInterval:0};return n==="no-cache"?r.fetchPolicy="no-cache":r.fetchPolicy="network-only",t&&!U(this.variables,t)&&(r.variables=this.options.variables=this.getVariablesWithDefaults({...this.variables,...t})),this._lastWrite=void 0,this._reobserve(r,{newNetworkStatus:D.refetch})}fetchMore({query:t,variables:n,context:r,errorPolicy:i,updateQuery:s}){C(this.options.fetchPolicy!=="cache-only",79,rt(this.query,"(anonymous)"));const a={...ee(this.options,{errorPolicy:"none"},{query:t,context:r,errorPolicy:i}),variables:t?n:{...this.variables,...n},fetchPolicy:"no-cache",notifyOnNetworkStatusChange:this.options.notifyOnNetworkStatusChange};a.query=this.transformDocument(a.query),this.lastQuery=t?this.transformDocument(this.options.query):a.query;let o=!1;const l=this.options.fetchPolicy!=="no-cache";l||C(s,80);const{finalize:u,pushNotification:c}=this.pushOperation(D.fetchMore);return c({source:"newNetworkStatus",kind:"N",value:{}},{shouldEmit:3}),this.queryManager.fetchQuery(a,D.fetchMore).then(f=>{if(u(),l){const h=this.getCacheDiff();this.queryManager.cache.batch({update:d=>{s?d.updateQuery({query:this.query,variables:this.variables,returnPartialData:!0,optimistic:!1},m=>s(m,{fetchMoreResult:f.data,variables:a.variables})):d.writeQuery({query:a.query,variables:a.variables,data:f.data})},onWatchUpdated:(d,m)=>{d.watcher===this&&!U(m.result,h.result)&&(o=!0)}})}else{const h=this.getCurrentResult(),d=s(h.data,{fetchMoreResult:f.data,variables:a.variables});c({kind:"N",value:{...h,networkStatus:D.ready,loading:!1,data:d,dataState:h.dataState==="streaming"?"streaming":"complete"},source:"network"})}return this.maskResult(f)}).finally(()=>{u(),l&&!o&&c({kind:"N",source:"newNetworkStatus",value:{}},{shouldEmit:1})})}subscribeToMore(t){const n=this.queryManager.startGraphQLSubscription({query:t.document,variables:t.variables,context:t.context}).subscribe({next:r=>{const{updateQuery:i,onError:s}=t,{error:a}=r;if(a){s?s(a):C.error(81,a);return}i&&this.updateQuery((o,l)=>i(o,{subscriptionData:r,...l}))}});return this.subscriptions.add(n),()=>{this.subscriptions.delete(n)&&n.unsubscribe()}}applyOptions(t){const n=ee(this.options,t||{});Ji(this.options,n),this.updatePolling()}async setVariables(t){return t=this.getVariablesWithDefaults(t),U(this.variables,t)?Kt(this.getCurrentResult()):(this.options.variables=t,this.hasObservers()?this._reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:t},{newNetworkStatus:D.setVariables}):Kt(this.getCurrentResult()))}updateQuery(t){const{queryManager:n}=this,{result:r,complete:i}=this.getCacheDiff({optimistic:!1}),s=t(r,{variables:this.variables,complete:!!i,previousData:r});s&&(n.cache.writeQuery({query:this.options.query,data:s,variables:this.variables}),n.broadcastQueries())}startPolling(t){this.options.pollInterval=t,this.updatePolling()}stopPolling(){this.options.pollInterval=0,this.updatePolling()}applyNextFetchPolicy(t,n){if(n.nextFetchPolicy){const{fetchPolicy:r="cache-first",initialFetchPolicy:i=r}=n;r==="standby"||(typeof n.nextFetchPolicy=="function"?n.fetchPolicy=n.nextFetchPolicy.call(n,r,{reason:t,options:n,observable:this,initialFetchPolicy:i}):t==="variables-changed"?n.fetchPolicy=i:n.fetchPolicy=n.nextFetchPolicy)}return n.fetchPolicy}fetch(t,n,r,i){const s=this.options.fetchPolicy;t.context??(t.context={});let a=!1;const o=()=>{a=!0},l=v=>new M(E=>{try{return v.subscribe({next(T){a=!0,E.next(T)},error:T=>E.error(T),complete:()=>E.complete()})}finally{a||(d.override=n,this.input.next({kind:"N",source:"newNetworkStatus",value:{resetError:!0},query:f,variables:h,meta:{shouldEmit:3,fetchPolicy:s}}))}});let{observable:u,fromLink:c}=this.queryManager.fetchObservableWithInfo(t,{networkStatus:n,query:r,onCacheHit:o,fetchQueryOperator:l,observableQuery:this});const{query:f,variables:h}=this,d={abort:()=>{b.unsubscribe()},query:f,variables:h};this.activeOperations.add(d);let m=n==D.refetch||n==D.setVariables;u=u.pipe(i,on());const b=u.pipe(ln({next:v=>{v.source==="newNetworkStatus"||v.kind==="N"&&v.value.loading?d.override=n:delete d.override},finalize:()=>this.activeOperations.delete(d)})).subscribe({next:v=>{const E={};m&&v.kind==="N"&&"loading"in v.value&&!v.value.loading&&(m=!1,E.shouldEmit=1),this.input.next({...v,query:f,variables:h,meta:E})}});return{fromLink:c,subscription:b,observable:u}}updatePolling(){if(this.queryManager.ssrMode)return;const{pollingInfo:t,options:{fetchPolicy:n,pollInterval:r}}=this;if(!r||!this.hasObservers()||n==="cache-only"){this.cancelPolling();return}if(t?.interval===r)return;const i=t||(this.pollingInfo={});i.interval=r;const s=()=>{this.pollingInfo&&(!mr(this.networkStatus)&&!this.options.skipPollAttempt?.()?this._reobserve({fetchPolicy:this.options.initialFetchPolicy==="no-cache"?"no-cache":"network-only"},{newNetworkStatus:D.poll}).then(a,a):a())},a=()=>{const o=this.pollingInfo;o&&(clearTimeout(o.timeout),o.timeout=setTimeout(s,o.interval))};a()}cancelPolling(){this.pollingInfo&&(clearTimeout(this.pollingInfo.timeout),delete this.pollingInfo)}reobserve(t){return this._reobserve(t)}_reobserve(t,n){this.isTornDown=!1;let{newNetworkStatus:r}=n||{};this.queryManager.obsQueries.add(this);const i=r===D.refetch||r===D.poll,s=this.variables,a=this.options.fetchPolicy,o=ee(this.options,t||{});this.variablesUnknown&&(this.variablesUnknown=o.fetchPolicy==="standby");const l=i?o:Ji(this.options,o),u=this.transformDocument(l.query);this.lastQuery=u,t&&"variables"in t&&(l.variables=this.getVariablesWithDefaults(t.variables)),i||(this.updatePolling(),t&&t.variables&&!U(t.variables,s)&&l.fetchPolicy!=="standby"&&(l.fetchPolicy===a||typeof l.nextFetchPolicy=="function")&&(this.applyNextFetchPolicy("variables-changed",l),r===void 0&&(r=D.setVariables)));const c=this.networkStatus;r||(r=D.loading,c!==D.loading&&t?.variables&&!U(t.variables,s)&&(r=D.setVariables),l.fetchPolicy==="standby"&&(r=D.ready)),l.fetchPolicy==="standby"&&this.cancelPolling(),this.resubscribeCache();const{promise:f,operator:h}=rf(E=>{switch(E.kind){case"E":throw E.error;case"N":if(E.source!=="newNetworkStatus"&&!E.value.loading)return E.value}},l.fetchPolicy==="standby"?{data:void 0}:void 0),{subscription:d,observable:m,fromLink:b}=this.fetch(l,r,u,h);!i&&(b||!this.linkSubscription)&&(this.linkSubscription&&this.linkSubscription.unsubscribe(),this.linkSubscription=d);const v=Object.assign(uc(f.then(E=>Kt(this.maskResult(E))).finally(()=>{!this.hasObservers()&&this.activeOperations.size===0&&this.tearDownQuery()})),{retain:()=>{const E=m.subscribe({}),T=()=>E.unsubscribe();return f.then(T,T),v}});return v}hasObservers(){return this.subject.observed}stop(){this.subject.complete(),this.initializeObservablesQueue(),this.tearDownQuery()}tearDownQuery(){this.isTornDown||(this.resetNotifications(),this.unsubscribeFromCache?.(),this.linkSubscription&&(this.linkSubscription.unsubscribe(),delete this.linkSubscription),this.stopPolling(),this.subscriptions.forEach(t=>t.unsubscribe()),this.subscriptions.clear(),this.queryManager.obsQueries.delete(this),this.isTornDown=!0,this.abortActiveOperations(),this._lastWrite=void 0)}transformDocument(t){return this.queryManager.transform(t)}maskResult(t){const n=this.queryManager.maskOperation({document:this.query,data:t.data,fetchPolicy:this.options.fetchPolicy,cause:this});return n===t.data?t:{...t,data:n}}resetNotifications(){this.notifyTimeout&&(clearTimeout(this.notifyTimeout),this.notifyTimeout=void 0),this.dirty=!1}scheduleNotify(){this.dirty||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(()=>this.notify(!0),0)))}notify(t=!1){if(!t){const r=this.queryManager.getDocumentInfo(this.query);if(r.hasClientExports||r.hasForcedResolvers)return}const{dirty:n}=this;if(this.resetNotifications(),n&&(this.options.fetchPolicy=="cache-only"||this.options.fetchPolicy=="cache-and-network"||!this.activeOperations.size)){const r=this.getCacheDiff();U(r.result,this.getCacheDiff({optimistic:!1}).result)?this.reobserveCacheFirst():this.input.next({kind:"N",value:{data:r.result,dataState:r.complete?"complete":r.result?"partial":"empty",networkStatus:D.ready,loading:!1,error:void 0,partial:!r.complete},source:"cache",query:this.query,variables:this.variables,meta:{}})}}pushOperation(t){let n=!1;const{query:r,variables:i}=this,s=()=>{this.activeOperations.delete(a)},a={override:t,abort:()=>{n=!0,s()},query:r,variables:i};return this.activeOperations.add(a),{finalize:s,pushNotification:(o,l)=>{n||this.input.next({...o,query:r,variables:i,meta:{...l}})}}}calculateNetworkStatus(t){return t===D.streaming?t:Array.from(this.activeOperations.values()).reverse().find(r=>pt(r,this)&&r.override!==void 0)?.override??t}abortActiveOperations(){this.activeOperations.forEach(t=>t.abort())}reset(){const t=this.options.fetchPolicy==="cache-only";this.setResult(t?Wn:Ue,{shouldEmit:t?1:2}),this.abortActiveOperations()}setResult(t,n){this.input.next({source:"setResult",kind:"N",value:t,query:this.query,variables:this.variables,meta:{...n}})}reobserveCacheFirst(){const{fetchPolicy:t,nextFetchPolicy:n}=this.options;t==="cache-and-network"||t==="network-only"?this.reobserve({fetchPolicy:"cache-first",nextFetchPolicy(r,i){return this.nextFetchPolicy=n,typeof this.nextFetchPolicy=="function"?this.nextFetchPolicy(r,i):t}}):this.reobserve()}getVariablesWithDefaults(t){return this.queryManager.getVariables(this.query,t)}}function pt(e,t){return!!(e&&t&&e.query===t.query&&U(e.variables,t.variables))}function rf(e,t){let n=t,r,i;const s=new Promise((o,l)=>{r=o,i=l}),a=ln({next(o){try{const l=e(o);l!==void 0&&(n=l)}catch(l){i(l)}},finalize:()=>{if(n)r(n);else{const o="The operation was aborted.",l="AbortError";i(typeof DOMException<"u"?new DOMException(o,l):Object.assign(new Error(o),{name:l}))}}});return{promise:s,operator:a}}const Hi={},Qe=new WeakMap;function Kn(e,t){const n=e[t];typeof n=="function"&&(e[t]=function(){return Qe.set(e,(Qe.get(e)+1)%1e15),n.apply(this,arguments)})}const Xi=new WeakMap;class Jn{constructor(t,n){y(this,"lastRequestId",1);y(this,"cache");y(this,"queryManager");y(this,"id");y(this,"observableQuery");y(this,"incremental");y(this,"_lastWrite");const r=this.cache=t.cache,i=(Xi.get(t)||0)+1;Xi.set(t,i),this.id=i+"",this.observableQuery=n,this.queryManager=t,Qe.has(r)||(Qe.set(r,0),Kn(r,"evict"),Kn(r,"modify"),Kn(r,"reset"))}get lastWrite(){return(this.observableQuery||this)._lastWrite}set lastWrite(t){(this.observableQuery||this)._lastWrite=t}resetLastWrite(){this.lastWrite=void 0}shouldWrite(t,n){const{lastWrite:r}=this;return!(r&&r.dmCount===Qe.get(this.cache)&&U(n,r.variables)&&U(t.data,r.result.data))}get hasNext(){return this.incremental?this.incremental.hasNext:!1}maybeHandleIncrementalResult(t,n,r){const{incrementalHandler:i}=this.queryManager;return i.isIncrementalResult(n)?(this.incremental||(this.incremental=i.startRequest({query:r})),this.incremental.handle(t,n)):n}markQueryResult(t,{document:n,variables:r,errorPolicy:i,cacheWriteBehavior:s}){const a={query:n,variables:r,returnPartialData:!0,optimistic:!0};this.observableQuery?.resetNotifications();const o=s===0,l=o?void 0:this.cache.diff(a);let u=this.maybeHandleIncrementalResult(l?.result,t,n);return o||(Hn(u,i)?this.cache.batch({onWatchUpdated:(c,f)=>{c.watcher===this.observableQuery&&(c.lastOwnDiff=f)},update:c=>{if(this.shouldWrite(u,r))c.writeQuery({query:n,data:u.data,variables:r,overwrite:s===1}),this.lastWrite={result:u,variables:r,dmCount:Qe.get(this.cache)};else if(l&&l.complete){u={...u,data:l.result};return}const f=c.diff(a);f.complete&&(u={...u,data:f.result})}}):this.lastWrite=void 0),u}markMutationResult(t,n,r=this.cache){const i=[],s=n.cacheWriteBehavior===0;let a=this.maybeHandleIncrementalResult(s?void 0:r.diff({id:"ROOT_MUTATION",query:this.queryManager.getDocumentInfo(n.document).asQuery,variables:n.variables,optimistic:!1,returnPartialData:!0}).result,t,n.document);if(n.errorPolicy==="ignore"&&(a={...a,errors:[]}),$e(a)&&n.errorPolicy==="none")return Promise.resolve(a);const o=()=>({...a,dataState:this.hasNext?"streaming":"complete"});if(!s&&Hn(a,n.errorPolicy)){i.push({result:a.data,dataId:"ROOT_MUTATION",query:n.document,variables:n.variables});const{updateQueries:u}=n;u&&this.queryManager.getObservableQueries("all").forEach(c=>{const f=c&&c.queryName;if(!f||!Object.hasOwnProperty.call(u,f))return;const h=u[f],{query:d,variables:m}=c,{result:b,complete:v}=c.getCacheDiff({optimistic:!1});if(v&&b){const E=h(b,{mutationResult:o(),queryName:d&&rt(d)||void 0,queryVariables:m});E&&i.push({result:E,dataId:"ROOT_QUERY",query:d,variables:m})}})}let l=n.refetchQueries;if(typeof l=="function"&&(l=l(o())),i.length>0||(l||"").length>0||n.update||n.onQueryUpdated||n.removeOptimistic){const u=[];if(this.queryManager.refetchQueries({updateCache:c=>{s||i.forEach(h=>c.write(h));const{update:f}=n;if(f){if(!s){const h=c.diff({id:"ROOT_MUTATION",query:this.queryManager.getDocumentInfo(n.document).asQuery,variables:n.variables,optimistic:!1,returnPartialData:!0});h.complete&&(a={...a,data:h.result})}this.hasNext||f(c,a,{context:n.context,variables:n.variables})}!s&&!n.keepRootFields&&!this.hasNext&&c.modify({id:"ROOT_MUTATION",fields(h,{fieldName:d,DELETE:m}){return d==="__typename"?h:m}})},include:l,optimistic:!1,removeOptimistic:n.removeOptimistic,onQueryUpdated:n.onQueryUpdated||null}).forEach(c=>u.push(c)),n.awaitRefetchQueries||n.onQueryUpdated)return Promise.all(u).then(()=>a)}return Promise.resolve(a)}markMutationOptimistic(t,n){const r=typeof t=="function"?t(n.variables,{IGNORE:Hi}):t;return r===Hi?!1:(this.cache.recordOptimisticTransaction(i=>{try{this.markMutationResult({data:r},n,i)}catch(s){C.error(s)}},this.id),!0)}markSubscriptionResult(t,{document:n,variables:r,errorPolicy:i,cacheWriteBehavior:s}){s!==0&&(Hn(t,i)&&this.cache.write({query:n,result:t.data,dataId:"ROOT_SUBSCRIPTION",variables:r}),this.queryManager.broadcastQueries())}}function Hn(e,t="none"){const n=t==="ignore"||t==="all";let r=!$e(e);return!r&&n&&e.data&&(r=!0),r}class sf{constructor(t){y(this,"defaultOptions");y(this,"client");y(this,"clientOptions");y(this,"assumeImmutableResults");y(this,"documentTransform");y(this,"ssrMode");y(this,"defaultContext");y(this,"dataMasking");y(this,"incrementalHandler");y(this,"localState");y(this,"queryDeduplication");y(this,"prioritizeCacheValues",!1);y(this,"onBroadcast");y(this,"mutationStore");y(this,"obsQueries",new Set);y(this,"fetchCancelFns",new Map);y(this,"transformCache",new Vr(ye["queryManager.getDocumentInfo"]||2e3));y(this,"requestIdCounter",1);y(this,"inFlightLinkObservables",new ge(!1));y(this,"noCacheWarningsByCause",new WeakSet);const n=new me(i=>this.cache.transformDocument(i),{cache:!1});this.client=t.client,this.defaultOptions=t.defaultOptions,this.queryDeduplication=t.queryDeduplication,this.clientOptions=t.clientOptions,this.ssrMode=t.ssrMode,this.assumeImmutableResults=t.assumeImmutableResults,this.dataMasking=t.dataMasking,this.localState=t.localState,this.incrementalHandler=t.incrementalHandler;const r=t.documentTransform;this.documentTransform=r?n.concat(r).concat(n):n,this.defaultContext=t.defaultContext||{},(this.onBroadcast=t.onBroadcast)&&(this.mutationStore={})}get link(){return this.client.link}get cache(){return this.client.cache}stop(){this.obsQueries.forEach(t=>t.stop()),this.cancelPendingFetches(ne(84))}cancelPendingFetches(t){this.fetchCancelFns.forEach(n=>n(t)),this.fetchCancelFns.clear()}async mutate({mutation:t,variables:n,optimisticResponse:r,updateQueries:i,refetchQueries:s=[],awaitRefetchQueries:a=!1,update:o,onQueryUpdated:l,fetchPolicy:u,errorPolicy:c,keepRootFields:f,context:h}){const d=new Jn(this);t=this.cache.transformForLink(this.transform(t));const{hasClientExports:m}=this.getDocumentInfo(t);n=this.getVariables(t,n),m&&(n=await this.localState.getExportedVariables({client:this.client,document:t,variables:n,context:h}));const b=this.mutationStore&&(this.mutationStore[d.id]={mutation:t,variables:n,loading:!0,error:null}),v=r&&d.markMutationOptimistic(r,{document:t,variables:n,cacheWriteBehavior:u==="no-cache"?0:2,errorPolicy:c,context:h,updateQueries:i,update:o,keepRootFields:f});return this.broadcastQueries(),new Promise((E,T)=>{const w={};return this.getObservableFromLink(t,{...h,optimisticResponse:v?r:void 0},n,{},!1).observable.pipe(Zi(),Be(S=>{const A={...S};return Ce(d.markMutationResult(A,{document:t,variables:n,cacheWriteBehavior:u==="no-cache"?0:2,errorPolicy:c,context:h,update:o,updateQueries:i,awaitRefetchQueries:a,refetchQueries:s,removeOptimistic:v?d.id:void 0,onQueryUpdated:l,keepRootFields:f}))})).pipe(Fe(S=>{if($e(S)&&c==="none")throw new Ee(S);return b&&(b.loading=!1,b.error=null),S})).subscribe({next:S=>{if(this.broadcastQueries(),!d.hasNext){const A={data:this.maskOperation({document:t,data:S.data,fetchPolicy:u,cause:w})};$e(S)&&(A.error=new Ee(S)),Object.keys(S.extensions||{}).length&&(A.extensions=S.extensions),E(A)}},error:S=>{if(b&&(b.loading=!1,b.error=S),v&&this.cache.removeOptimistic(d.id),this.broadcastQueries(),c==="ignore")return E({data:void 0});if(c==="all")return E({data:void 0,error:S});T(S)}})})}fetchQuery(t,n){return Ne(t.query,K.QUERY),(async()=>Cu(this.fetchObservableWithInfo(t,{networkStatus:n}).observable.pipe(dr(r=>{switch(r.kind){case"E":throw r.error;case"N":if(r.source!=="newNetworkStatus")return Kt(r.value)}})),{defaultValue:{data:void 0}}))()}transform(t){return this.documentTransform.transformDocument(t)}getDocumentInfo(t){const{transformCache:n}=this;if(!n.has(t)){const i=we(t),s={hasClientExports:Et(["client","export"],t,!0),hasForcedResolvers:ac(t),hasNonreactiveDirective:Et(["nonreactive"],t),hasIncrementalDirective:Et(["defer"],t),nonReactiveQuery:af(t),clientQuery:Et(["client"],t)?t:null,serverQuery:cc([{name:"client",remove:!0},{name:"connection"},{name:"nonreactive"},{name:"unmask"}],t),operationType:i?.operation,defaultVars:jr(i),asQuery:{...t,definitions:t.definitions.map(a=>a.kind==="OperationDefinition"&&a.operation!=="query"?{...a,operation:"query"}:a)}};n.set(t,s)}const r=n.get(t);if(r.violation)throw r.violation;return r}getVariables(t,n){const r=this.getDocumentInfo(t).defaultVars,i=Object.entries(n??{}).map(([s,a])=>[s,a===void 0?r[s]:a]);return{...r,...Object.fromEntries(i)}}watchQuery(t){Ne(t.query,K.QUERY);const n=this.transform(t.query);return t={...t,variables:this.getVariables(n,t.variables)},typeof t.notifyOnNetworkStatusChange>"u"&&(t.notifyOnNetworkStatusChange=!0),new Yn({queryManager:this,options:t,transformedQuery:n})}query(t){const n=this.transform(t.query);return this.fetchQuery({...t,query:n}).then(r=>({...r,data:this.maskOperation({document:n,data:r?.data,fetchPolicy:t.fetchPolicy})}))}generateRequestId(){return this.requestIdCounter++}clearStore(t={discardWatches:!0}){return this.cancelPendingFetches(ne(86)),this.obsQueries.forEach(n=>{n.reset()}),this.mutationStore&&(this.mutationStore={}),this.cache.reset(t)}getObservableQueries(t="active"){const n=new Set,r=new Map,i=new Map,s=new Set;return Array.isArray(t)&&t.forEach(a=>{if(typeof a=="string")r.set(a,a),i.set(a,!1);else if(oc(a)){const o=Ke(this.transform(a));r.set(o,rt(a)),i.set(o,!1)}else X(a)&&a.query&&s.add(a)}),this.obsQueries.forEach(a=>{const o=Ke(this.transform(a.options.query));if(t==="all"){n.add(a);return}const{queryName:l,options:{fetchPolicy:u}}=a;t==="active"&&u==="standby"||(t==="active"||l&&i.has(l)||o&&i.has(o))&&(n.add(a),l&&i.set(l,!0),o&&i.set(o,!0))}),s.size&&s.forEach(a=>{const o=new Yn({queryManager:this,options:{...a,fetchPolicy:"network-only"}});n.add(o)}),n}refetchObservableQueries(t=!1){const n=[];return this.getObservableQueries(t?"all":"active").forEach(r=>{const{fetchPolicy:i}=r.options;(t||i!=="standby")&&i!=="cache-only"&&n.push(r.refetch())}),this.broadcastQueries(),Promise.all(n)}startGraphQLSubscription(t){let{query:n,variables:r}=t;const{fetchPolicy:i,errorPolicy:s="none",context:a={},extensions:o={}}=t;Ne(n,K.SUBSCRIPTION),n=this.transform(n),r=this.getVariables(n,r);let l;const u=(this.getDocumentInfo(n).hasClientExports?Ce(this.localState.getExportedVariables({client:this.client,document:n,variables:r,context:a})):Ae(r)).pipe(Be(c=>{const{observable:f,restart:h}=this.getObservableFromLink(n,a,c,o),d=new Jn(this);return l=h,f.pipe(Fe(m=>{d.markSubscriptionResult(m,{document:n,variables:c,errorPolicy:s,cacheWriteBehavior:i==="no-cache"?0:2});const b={data:m.data??void 0};return $e(m)?b.error=new Ee(m):Kr(m)&&(b.error=m.extensions[Rt],delete m.extensions[Rt]),m.extensions&&Object.keys(m.extensions).length&&(b.extensions=m.extensions),b.error&&s==="none"&&(b.data=void 0),s==="ignore"&&delete b.error,b}),Yt(m=>Ae(s==="ignore"?{data:void 0}:{data:void 0,error:m})),Lu(m=>!!(m.data||m.error)))}));return Object.assign(u,{restart:()=>l?.()})}broadcastQueries(){this.onBroadcast&&this.onBroadcast(),this.obsQueries.forEach(t=>t.notify())}getObservableFromLink(t,n,r,i,s=n?.queryDeduplication??this.queryDeduplication){let a={};const{serverQuery:o,clientQuery:l,operationType:u,hasIncrementalDirective:c}=this.getDocumentInfo(t),f=rt(t),h={client:this.client};if(o){const{inFlightLinkObservables:d,link:m}=this;try{let v=function(E){return new M(T=>{function w(){return E.subscribe({next:T.next.bind(T),complete:T.complete.bind(T),error:T.error.bind(T)})}let S=w();return a.restart||(a.restart=()=>{S.unsubscribe(),S=w()}),()=>{S.unsubscribe(),a.restart=void 0}})};const b=this.incrementalHandler.prepareRequest({query:o,variables:r,context:{...this.defaultContext,...n,queryDeduplication:s},extensions:i});if(n=b.context,s){const E=Ke(o),T=Oe(r);a=d.lookup(E,T),a.observable||(a.observable=pr(m,b,h).pipe(v,Mu(()=>{d.peek(E,T)===a&&d.remove(E,T)}),u===K.SUBSCRIPTION?on():Vu({refCount:!0})))}else a.observable=pr(m,b,h).pipe(v)}catch(b){a.observable=an(()=>b)}}else a.observable=Ae({data:{}});if(l){const{operation:d}=we(t);C(!c,91,d[0].toUpperCase()+d.slice(1),f??"(anonymous)"),a.observable=a.observable.pipe(Be(m=>Ce(this.localState.execute({client:this.client,document:l,remoteResult:m,context:n,variables:r}))))}return{restart:()=>a.restart?.(),observable:a.observable.pipe(Yt(d=>{throw d=fn(d),nf(d),d}))}}getResultsFromLink(t,{queryInfo:n,cacheWriteBehavior:r,observableQuery:i}){const s=n.lastRequestId=this.generateRequestId(),{errorPolicy:a}=t,o=this.cache.transformForLink(t.query);return this.getObservableFromLink(o,t.context,t.variables).observable.pipe(Fe(l=>{const u=n.markQueryResult(l,{...t,document:o,cacheWriteBehavior:r}),c=$e(u);if(c&&a==="none")throw n.resetLastWrite(),i?.resetNotifications(),new Ee(u);const f={data:u.data,...n.hasNext?{loading:!0,networkStatus:D.streaming,dataState:"streaming",partial:!0}:{dataState:u.data?"complete":"empty",loading:!1,networkStatus:D.ready,partial:!u.data}};return c&&(a==="none"&&(f.data=void 0,f.dataState="empty"),a!=="ignore"&&(f.error=new Ee(u),f.dataState!=="streaming"&&(f.networkStatus=D.error))),f}),Yt(l=>{if(s>=n.lastRequestId&&a==="none")throw n.resetLastWrite(),i?.resetNotifications(),l;const u={data:void 0,dataState:"empty",loading:!1,networkStatus:D.ready,partial:!0};return a!=="ignore"&&(u.error=l,u.networkStatus=D.error),Ae(u)}))}fetchObservableWithInfo(t,{networkStatus:n=D.loading,query:r=t.query,fetchQueryOperator:i=o=>o,onCacheHit:s=()=>{},observableQuery:a}){const o=this.getVariables(r,t.variables),l=this.defaultOptions.watchQuery;let{fetchPolicy:u=l&&l.fetchPolicy||"cache-first",errorPolicy:c=l&&l.errorPolicy||"none",returnPartialData:f=!1,notifyOnNetworkStatusChange:h=!0,context:d={}}=t;this.prioritizeCacheValues&&(u==="network-only"||u==="cache-and-network")&&(u="cache-first");const m=Object.assign({},t,{query:r,variables:o,fetchPolicy:u,errorPolicy:c,returnPartialData:f,notifyOnNetworkStatusChange:h,context:d}),b=new Jn(this,a),v=A=>{m.variables=A;const Y=u==="no-cache"?0:n===D.refetch&&m.refetchWritePolicy!=="merge"?1:2,J=this.fetchQueryByPolicy(m,{queryInfo:b,cacheWriteBehavior:Y,onCacheHit:s,observableQuery:a});return J.observable=J.observable.pipe(i),m.fetchPolicy!=="standby"&&a?.applyNextFetchPolicy("after-fetch",t),J},E=()=>{this.fetchCancelFns.delete(b.id)};this.fetchCancelFns.set(b.id,A=>{T.next({kind:"E",error:A,source:"network"})});const T=new ct;let w,S;if(this.getDocumentInfo(m.query).hasClientExports)w=Ce(this.localState.getExportedVariables({client:this.client,document:m.query,variables:m.variables,context:m.context})).pipe(Be(A=>v(A).observable)),S=!0;else{const A=v(m.variables);S=A.fromLink,w=A.observable}return{observable:new M(A=>{A.add(E),w.subscribe(A),T.subscribe(A)}).pipe(on()),fromLink:S}}refetchQueries({updateCache:t,include:n,optimistic:r=!1,removeOptimistic:i=r?is("refetchQueries"):void 0,onQueryUpdated:s}){const a=new Map;n&&this.getObservableQueries(n).forEach(l=>{if(l.options.fetchPolicy==="cache-only"||l.variablesUnknown)return;const u=l.getCurrentResult();a.set(l,{oq:l,lastDiff:{result:u?.data,complete:!u?.partial}})});const o=new Map;if(t){const l=new Set;this.cache.batch({update:t,optimistic:r&&i||!1,removeOptimistic:i,onWatchUpdated(u,c,f){const h=u.watcher;if(h instanceof Yn&&!l.has(h)){if(l.add(h),s){a.delete(h);let d=s(h,c,f);return d===!0&&(d=h.refetch().retain()),d!==!1&&o.set(h,d),d}s!==null&&h.options.fetchPolicy!=="cache-only"&&a.set(h,{oq:h,lastDiff:f,diff:c})}}})}return a.size&&a.forEach(({oq:l,lastDiff:u,diff:c})=>{let f;s&&(c||(c=l.getCacheDiff()),f=s(l,c,u)),(!s||f===!0)&&(f=l.refetch().retain()),f!==!1&&o.set(l,f)}),i&&this.cache.removeOptimistic(i),o}maskOperation(t){const{document:n,data:r}=t;return this.dataMasking?zc(r,n,this.cache):r}maskFragment(t){const{data:n,fragment:r,fragmentName:i}=t;return this.dataMasking?Qc(n,r,this.cache,i):n}fetchQueryByPolicy({query:t,variables:n,fetchPolicy:r,errorPolicy:i,returnPartialData:s,context:a},{cacheWriteBehavior:o,onCacheHit:l,queryInfo:u,observableQuery:c}){const f=()=>this.cache.diff({query:t,variables:n,returnPartialData:!0,optimistic:!0}),h=(m,b)=>{const v=m.result,E=w=>(!m.complete&&!s&&(w=void 0),{data:w,dataState:m.complete?"complete":w?"partial":"empty",loading:mr(b),networkStatus:b,partial:!m.complete}),T=w=>Ae({kind:"N",value:E(w),source:"cache"});return(m.complete||s)&&this.getDocumentInfo(t).hasForcedResolvers?(l(),Ce(this.localState.execute({client:this.client,document:t,remoteResult:v?{data:v}:void 0,context:a,variables:n,onlyRunForcedResolvers:!0,returnPartialData:!0}).then(w=>({kind:"N",value:E(w.data||void 0),source:"cache"})))):i==="none"&&b===D.refetch&&m.missing?T(void 0):T(v||void 0)},d=()=>this.getResultsFromLink({query:t,variables:n,context:a,fetchPolicy:r,errorPolicy:i},{cacheWriteBehavior:o,queryInfo:u,observableQuery:c}).pipe(Zi(),Pu(),Fe(m=>({...m,source:"network"})));switch(r){default:case"cache-first":{const m=f();return m.complete?{fromLink:!1,observable:h(m,D.ready)}:s?{fromLink:!0,observable:Pn(h(m,D.loading),d())}:{fromLink:!0,observable:d()}}case"cache-and-network":{const m=f();return m.complete||s?{fromLink:!0,observable:Pn(h(m,D.loading),d())}:{fromLink:!0,observable:d()}}case"cache-only":return{fromLink:!1,observable:Pn(h(f(),D.ready))};case"network-only":return{fromLink:!0,observable:d()};case"no-cache":return{fromLink:!0,observable:d()};case"standby":return{fromLink:!1,observable:At}}}}function Zi(){let e=!1;return ln({next(){e=!0},complete(){C(e,95)}})}function af(e){return he(e,{FragmentSpread:t=>{if(!t.directives?.some(n=>n.name.value==="unmask"))return{...t,directives:[...t.directives||[],{kind:p.DIRECTIVE,name:{kind:p.NAME,value:"nonreactive"}}]}}})}class Qf{constructor(t){y(this,"link");y(this,"cache");y(this,"disableNetworkFetches");y(this,"version");y(this,"queryDeduplication");y(this,"defaultOptions");y(this,"devtoolsConfig");y(this,"queryManager");y(this,"devToolsHookCb");y(this,"resetStoreCallbacks",[]);y(this,"clearStoreCallbacks",[]);y(this,"reFetchObservableQueries");y(this,"maskedFragmentTransform",new me(dc));const{cache:n,documentTransform:r,ssrMode:i=!1,ssrForceFetchDelay:s=0,queryDeduplication:a=!0,defaultOptions:o,defaultContext:l,assumeImmutableResults:u=n.assumeImmutableResults,localState:c,devtools:f,dataMasking:h,link:d,incrementalHandler:m=new bc}=t;this.link=d,this.cache=n,this.queryDeduplication=a,this.defaultOptions=o||{},this.devtoolsConfig={...f,enabled:f?.enabled??rs},this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.watchFragment=this.watchFragment.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.refetchObservableQueries=this.refetchObservableQueries.bind(this),this.version=Nr,this.queryManager=new sf({client:this,defaultOptions:this.defaultOptions,defaultContext:l,documentTransform:r,queryDeduplication:a,ssrMode:i,dataMasking:!!h,clientOptions:t,incrementalHandler:m,assumeImmutableResults:u,onBroadcast:this.devtoolsConfig.enabled?()=>{this.devToolsHookCb&&this.devToolsHookCb()}:void 0,localState:c}),this.prioritizeCacheValues=i||s>0,s&&setTimeout(()=>{this.prioritizeCacheValues=!1},s),this.devtoolsConfig.enabled&&this.connectToDevTools()}set prioritizeCacheValues(t){this.queryManager.prioritizeCacheValues=t}get prioritizeCacheValues(){return this.queryManager.prioritizeCacheValues}connectToDevTools(){if(typeof window>"u")return;const t=window,n=Symbol.for("apollo.devtools");(t[n]=t[n]||[]).push(this),t.__APOLLO_CLIENT__=this}get documentTransform(){return this.queryManager.documentTransform}get localState(){return this.queryManager.localState}set localState(t){this.queryManager.localState=t}stop(){this.queryManager.stop()}watchQuery(t){return this.defaultOptions.watchQuery&&(t=Un(this.defaultOptions.watchQuery,t)),this.queryManager.watchQuery(t)}query(t){return this.defaultOptions.query&&(t=Un(this.defaultOptions.query,t)),this.queryManager.query(t)}mutate(t){const n=Un(ee({fetchPolicy:"network-only",errorPolicy:"none"},this.defaultOptions.mutate),t);return Ne(n.mutation,K.MUTATION),this.queryManager.mutate(n)}subscribe(t){const n={},r=this.queryManager.startGraphQLSubscription(t),i=r.pipe(Fe(s=>({...s,data:this.queryManager.maskOperation({document:t.query,data:s.data,fetchPolicy:t.fetchPolicy,cause:n})})));return Object.assign(i,{restart:r.restart})}readQuery(t,n=!1){return this.cache.readQuery({...t,query:this.transform(t.query)},n)}watchFragment(t){const n=this.queryManager.dataMasking;return this.cache.watchFragment({...t,fragment:this.transform(t.fragment,n)}).pipe(Fe(r=>r))}readFragment(t,n=!1){return this.cache.readFragment({...t,fragment:this.transform(t.fragment)},n)}writeQuery(t){const n=this.cache.writeQuery(t);return t.broadcast!==!1&&this.queryManager.broadcastQueries(),n}writeFragment(t){const n=this.cache.writeFragment(t);return t.broadcast!==!1&&this.queryManager.broadcastQueries(),n}__actionHookForDevTools(t){this.devToolsHookCb=t}__requestRaw(t){return pr(this.link,t,{client:this})}resetStore(){return Promise.resolve().then(()=>this.queryManager.clearStore({discardWatches:!1})).then(()=>Promise.all(this.resetStoreCallbacks.map(t=>t()))).then(()=>this.refetchObservableQueries())}clearStore(){return Promise.resolve().then(()=>this.queryManager.clearStore({discardWatches:!0})).then(()=>Promise.all(this.clearStoreCallbacks.map(t=>t())))}onResetStore(t){return this.resetStoreCallbacks.push(t),()=>{this.resetStoreCallbacks=this.resetStoreCallbacks.filter(n=>n!==t)}}onClearStore(t){return this.clearStoreCallbacks.push(t),()=>{this.clearStoreCallbacks=this.clearStoreCallbacks.filter(n=>n!==t)}}refetchObservableQueries(t){return this.queryManager.refetchObservableQueries(t)}refetchQueries(t){const n=this.queryManager.refetchQueries(t),r=[],i=[];n.forEach((a,o)=>{r.push(o),i.push(a)});const s=Promise.all(i);return s.queries=r,s.results=i,s.catch(a=>{}),s}getObservableQueries(t="active"){return this.queryManager.getObservableQueries(t)}extract(t){return this.cache.extract(t)}restore(t){return this.cache.restore(t)}setLink(t){this.link=t}get defaultContext(){return this.queryManager.defaultContext}transform(t,n=!1){const r=this.queryManager.transform(t);return n?this.maskedFragmentTransform.transformDocument(r):r}}const{hasOwnProperty:es}=Object.prototype;function of(e,t){if(e.status>=300)throw new kn(`Response not successful: Received status code ${e.status}`,{response:e,bodyText:t});try{return JSON.parse(t)}catch(n){throw new Dn(n,{response:e,bodyText:t})}}function lf(e,t){try{return JSON.parse(t)}catch(n){throw new Dn(n,{response:e,bodyText:t})}}function uf(e,t){return e.headers.get("content-type")?.includes("application/graphql-response+json")?lf(e,t):of(e,t)}function cf(e){return t=>t.text().then(n=>{const r=uf(t,n);if(!Array.isArray(r)&&!es.call(r,"data")&&!es.call(r,"errors"))throw new kn(`Server response was malformed for query '${Array.isArray(e)?e.map(i=>i.operationName):e.operationName}'.`,{response:t,bodyText:n});return r})}const ff={includeQuery:!0,includeExtensions:!0,preserveHeaderCase:!1},hf={accept:"application/graphql-response+json,application/json;q=0.9","content-type":"application/json"},df={method:"POST"},pf={http:ff,headers:hf,options:df},mf=(e,t)=>t(e);function yf(e,t,...n){let r={},i={};n.forEach(c=>{r={...r,...c.options,headers:{...r.headers,...c.headers}},c.credentials&&(r.credentials=c.credentials),r.headers.accept=(c.http?.accept||[]).concat(r.headers.accept).join(","),i={...i,...c.http}}),r.headers=vf(r.headers,i.preserveHeaderCase);const{operationName:s,extensions:a,variables:o,query:l}=e,u={operationName:s,variables:o};return i.includeExtensions&&Object.keys(a||{}).length&&(u.extensions=a),i.includeQuery&&(u.query=t(l,Ke)),{options:r,body:u}}function vf(e,t){if(!t){const i={};return Object.keys(Object(e)).forEach(s=>{i[s.toLowerCase()]=e[s]}),i}const n={};Object.keys(Object(e)).forEach(i=>{n[i.toLowerCase()]={originalName:i,value:e[i]}});const r={};return Object.keys(n).forEach(i=>{r[n[i].originalName]=n[i].value}),r}const ts=(e,t)=>{const r=e.getContext().uri;return r||(typeof t=="function"?t(e):t||"/graphql")};class gf extends G{constructor(t={}){super((n,r)=>{const i=n.client,s=i.queryManager.clientOptions,a=n.getContext();{const{name:o,version:l,transport:u="headers"}=ee({},s.clientAwareness,t.clientAwareness,a.clientAwareness);u==="headers"&&n.setContext(({headers:c,extensions:f})=>({headers:ee({"apollographql-client-name":o,"apollographql-client-version":l},c)}))}{const{transport:o="extensions"}=ee({},s.enhancedClientAwareness,t.enhancedClientAwareness);o==="extensions"&&(n.extensions=ee({clientLibrary:{name:"@apollo/client",version:i.version}},n.extensions))}return r(n)})}}var Xt=new Map,Tr=new Map,Ua=!0,hn=!1;function Ba(e){return e.replace(/[\s,]+/g," ").trim()}function bf(e){return Ba(e.source.body.substring(e.start,e.end))}function Ef(e){var t=new Set,n=[];return e.definitions.forEach(function(r){if(r.kind==="FragmentDefinition"){var i=r.name.value,s=bf(r.loc),a=Tr.get(i);a&&!a.has(s)||a||Tr.set(i,a=new Set),a.add(s),t.has(s)||(t.add(s),n.push(r))}else n.push(r)}),nn(nn({},e),{definitions:n})}function Tf(e){var t=new Set(e.definitions);t.forEach(function(r){r.loc&&delete r.loc,Object.keys(r).forEach(function(i){var s=r[i];s&&typeof s=="object"&&t.add(s)})});var n=e.loc;return n&&(delete n.startToken,delete n.endToken),e}function Nf(e){var t=Ba(e);if(!Xt.has(t)){var n=_o(e,{experimentalFragmentVariables:hn,allowLegacyFragmentVariables:hn});if(!n||n.kind!=="Document")throw new Error("Not a valid GraphQL document.");Xt.set(t,Tf(Ef(n)))}return Xt.get(t)}function xt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];typeof e=="string"&&(e=[e]);var r=e[0];return t.forEach(function(i,s){i&&i.kind==="Document"?r+=i.loc.source.body:r+=i,r+=e[s+1]}),Nf(r)}function Of(){Xt.clear(),Tr.clear()}function If(){Ua=!1}function wf(){hn=!0}function _f(){hn=!1}var mt={gql:xt,resetCaches:Of,disableFragmentWarnings:If,enableExperimentalFragmentVariables:wf,disableExperimentalFragmentVariables:_f};(function(e){e.gql=mt.gql,e.resetCaches=mt.resetCaches,e.disableFragmentWarnings=mt.disableFragmentWarnings,e.enableExperimentalFragmentVariables=mt.enableExperimentalFragmentVariables,e.disableExperimentalFragmentVariables=mt.disableExperimentalFragmentVariables})(xt||(xt={}));xt.default=xt;class Sf{constructor({batchDebounce:t,batchInterval:n,batchMax:r,batchHandler:i,batchKey:s}){y(this,"batchesByKey",new Map);y(this,"scheduledBatchTimerByKey",new Map);y(this,"batchDebounce");y(this,"batchInterval");y(this,"batchMax");y(this,"batchHandler");y(this,"batchKey");this.batchDebounce=t,this.batchInterval=n,this.batchMax=r||0,this.batchHandler=i,this.batchKey=s||(()=>"")}enqueueRequest(t){const n={...t,next:[],error:[],complete:[],subscribers:new Set},r=this.batchKey(t.operation);return n.observable||(n.observable=new M(i=>{let s=this.batchesByKey.get(r);s||this.batchesByKey.set(r,s=new Set);const a=s.size===0,o=n.subscribers.size===0;return n.subscribers.add(i),o&&s.add(n),i.next&&n.next.push(i.next.bind(i)),i.error&&n.error.push(i.error.bind(i)),i.complete&&n.complete.push(i.complete.bind(i)),(a||this.batchDebounce)&&this.scheduleQueueConsumption(r),s.size===this.batchMax&&this.consumeQueue(r),()=>{n.subscribers.delete(i)&&n.subscribers.size<1&&s.delete(n)&&s.size<1&&(this.consumeQueue(r),s.subscription?.unsubscribe())}})),n.observable}consumeQueue(t=""){const n=this.batchesByKey.get(t);if(this.batchesByKey.delete(t),!n||!n.size)return;const r=[],i=[],s=[],a=[],o=[],l=[];n.forEach(f=>{r.push(f.operation),i.push(f.forward),s.push(f.observable),a.push(f.next),o.push(f.error),l.push(f.complete)});const u=this.batchHandler(r,i),c=f=>{o.forEach(h=>{h&&h.forEach(d=>d(f))})};return n.subscription=u.subscribe({next:f=>{if(Array.isArray(f)||(f=[f]),a.length!==f.length){const h=new Error(`server returned results with length ${f.length}, expected length of ${a.length}`);return h.result=f,c(h)}f.forEach((h,d)=>{a[d]&&a[d].forEach(m=>m(h))})},error:c,complete:()=>{l.forEach(f=>{f&&f.forEach(h=>h())})}}),s}scheduleQueueConsumption(t){clearTimeout(this.scheduledBatchTimerByKey.get(t)),this.scheduledBatchTimerByKey.set(t,setTimeout(()=>{this.consumeQueue(t),this.scheduledBatchTimerByKey.delete(t)},this.batchInterval))}}class kf extends G{constructor(n){super();y(this,"batcher");const{batchDebounce:r,batchInterval:i=10,batchMax:s=0,batchHandler:a=()=>At,batchKey:o=()=>""}=n||{};this.batcher=new Sf({batchDebounce:r,batchInterval:i,batchMax:s,batchHandler:a,batchKey:o})}request(n,r){return this.batcher.enqueueRequest({operation:n,forward:r})}}const Df=be(()=>fetch);class Af extends G{constructor(n={}){super();y(this,"batchDebounce");y(this,"batchInterval");y(this,"batchMax");y(this,"batcher");let{uri:r="/graphql",fetch:i,print:s=mf,includeExtensions:a,preserveHeaderCase:o,batchInterval:l,batchDebounce:u,batchMax:c,batchKey:f,includeUnusedVariables:h=!1,...d}=n;const m={http:ee({includeExtensions:a,preserveHeaderCase:o}),options:d.fetchOptions,credentials:d.credentials,headers:d.headers};this.batchDebounce=u,this.batchInterval=l||10,this.batchMax=c||10;const b=v=>{const E=ts(v[0],r),T=v[0].getContext(),w={http:T.http,options:T.fetchOptions,credentials:T.credentials,headers:T.headers},S=v.map(oe=>{const ht=yf(oe,s,pf,m,w);return ht.body.variables&&!h&&(ht.body.variables=Tc(ht.body.variables,oe.query)),ht}),A=S.map(({body:oe})=>oe),Y=S[0].options;if(Y.method==="GET")return an(()=>new Error("apollo-link-batch-http does not support GET requests"));try{Y.body=JSON.stringify(A)}catch(oe){return an(()=>oe)}let J;return!Y.signal&&typeof AbortController<"u"&&(J=new AbortController,Y.signal=J.signal),new M(oe=>((i||be(()=>fetch)||Df)(E,Y).then(ke=>(v.forEach($a=>$a.setContext({response:ke})),ke)).then(cf(v)).then(ke=>(J=void 0,oe.next(ke),oe.complete(),ke)).catch(ke=>{J=void 0,oe.error(ke)}),()=>{J&&J.abort()}))};f=f||(v=>{const E=v.getContext(),T={http:E.http,options:E.fetchOptions,credentials:E.credentials,headers:E.headers};return ts(v,r)+JSON.stringify(T)}),this.batcher=new kf({batchDebounce:this.batchDebounce,batchInterval:this.batchInterval,batchMax:this.batchMax,batchKey:f,batchHandler:b})}request(n,r){return this.batcher.request(n,r)}}class zf extends G{constructor(t={}){const{left:n,right:r,request:i}=G.from([new gf(t),new Af(t)]);super(i),Object.assign(this,{left:n,right:r})}}function Gf(e){return new Cf((t,n)=>e(n,t))}class Cf extends G{constructor(t){super((n,r)=>{const{...i}=n;return Object.defineProperty(i,"client",{enumerable:!1,value:n.client}),new M(s=>{let a=!1;return Promise.resolve(i).then(o=>t(n.getContext(),o)).then(n.setContext).then(()=>{a||r(n).subscribe(s)}).catch(s.error.bind(s)),()=>{a=!0}})})}}function Wf(e){return new Ff(e)}class Ff extends G{constructor(t){super((n,r)=>new M(i=>{let s,a,o;try{s=r(n).subscribe({next:l=>{const u=n.client.queryManager.incrementalHandler,c=u.isIncrementalResult(l)?u.extractErrors(l):l.errors;c?o=t({error:new Ee(l,c),result:l,operation:n,forward:r}):Kr(l)&&(o=t({error:l.extensions[Rt],result:l,operation:n,forward:r})),a=o?.subscribe(i),a||i.next(l)},error:l=>{o=t({operation:n,error:fn(l),forward:r}),a=o?.subscribe(i),a||i.error(l)},complete:()=>{o||i.complete()}})}catch(l){t({error:fn(l),operation:n,forward:r}),i.error(l)}return()=>{s&&s.unsubscribe(),a&&a.unsubscribe()}}))}}function Rf(e){const{initial:t=300,jitter:n=!0,max:r=1/0}=e||{},i=n?t:t/2;return function(a){let o=Math.min(r,i*2**a);return n&&(o=Math.random()*o),o}}function xf(e){const{retryIf:t,max:n=5}=e||{};return function(i,s,a){return i>=n?!1:t?t(a,s):!!a}}class Lf{constructor(t,n,r,i,s){y(this,"observer");y(this,"operation");y(this,"forward");y(this,"delayFor");y(this,"retryIf");y(this,"retryCount",0);y(this,"currentSubscription",null);y(this,"timerId");y(this,"onError",async(t,n)=>{this.retryCount+=1;const r=fn(t);if(await this.retryIf(this.retryCount,this.operation,r)){this.scheduleRetry(this.delayFor(this.retryCount,this.operation,r));return}n()});this.observer=t,this.operation=n,this.forward=r,this.delayFor=i,this.retryIf=s,this.try()}cancel(){this.currentSubscription&&this.currentSubscription.unsubscribe(),clearTimeout(this.timerId),this.timerId=void 0,this.currentSubscription=null}try(){this.currentSubscription=this.forward(this.operation).subscribe({next:t=>{if(Kr(t)){this.onError(t.extensions[Rt],()=>this.observer.next(t)),this.currentSubscription?.unsubscribe();return}this.observer.next(t)},error:t=>this.onError(t,()=>this.observer.error(t)),complete:this.observer.complete.bind(this.observer)})}scheduleRetry(t){if(this.timerId)throw new Error("RetryLink BUG! Encountered overlapping retries");this.timerId=setTimeout(()=>{this.timerId=void 0,this.try()},t)}}class Yf extends G{constructor(n){super();y(this,"delayFor");y(this,"retryIf");const{attempts:r,delay:i}=n||{};this.delayFor=typeof i=="function"?i:Rf(i),this.retryIf=typeof r=="function"?r:xf(r)}request(n,r){return new M(i=>{const s=new Lf(i,n,r,this.delayFor,this.retryIf);return()=>{s.cancel()}})}}export{Qf as A,zf as B,qf as I,Yf as R,Vf as a,jf as f,xt as g,Wf as o,Gf as s};
