import{r as l,j as e}from"./react-vendor-By4WaTeA.js";import{G as j}from"./GlassSurface-CmR0rmfd.js";import{F as $}from"./file-text-DPyWdvwE.js";import{c as ee,x as Y,X as te,P as ce}from"./index-CdPX2pcT.js";import{R as de}from"./refresh-cw-CvhTCeJe.js";import{L as R}from"./loader-circle-DbOnodCy.js";import{P as xe}from"./pen-line-DhHBkEAX.js";import{C as he}from"./copy-BYqkVsaO.js";import{E as me}from"./eye-DUHs73Oo.js";import{S as fe}from"./save-DgZt5ljx.js";import{D as ue}from"./download-Bl8Ii1XX.js";import{T as pe}from"./trash-2-BtR8LtUx.js";import{C as ge}from"./chevron-down-EzkWnKpX.js";import{C as ye}from"./chevron-right-BHd3sp0d.js";import{F as be}from"./file-R9gDVrtj.js";import{T as je}from"./triangle-alert-Dp1mgfm7.js";import"./leaflet-vendor-BAre9uld.js";import"./recharts-vendor-BBD0wQvA.js";import"./reactflow-vendor-DlchWpwj.js";import"./three-vendor-BoD47aQL.js";import"./apollo-vendor-CCbilRAb.js";const we=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Ne=ee("folder-open",we);const ve=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],_=ee("folder",ve),w="/api";function M(s){if(!s)return"0 B";const d=1024,x=["B","KB","MB"],n=Math.floor(Math.log(s)/Math.log(d));return`${parseFloat((s/Math.pow(d,n)).toFixed(1))} ${x[n]}`}function ke(s){return s?new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"}function Ce(s){return s?`<div class="prose prose-invert max-w-none"><p class="text-gray-300 my-2">${s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/^### (.*$)/gm,'<h3 class="text-lg font-semibold text-white mt-4 mb-2">$1</h3>').replace(/^## (.*$)/gm,'<h2 class="text-xl font-bold text-white mt-6 mb-3">$1</h2>').replace(/^# (.*$)/gm,'<h1 class="text-2xl font-bold text-white mt-6 mb-4">$1</h1>').replace(/\*\*\*(.*?)\*\*\*/g,"<strong><em>$1</em></strong>").replace(/\*\*(.*?)\*\*/g,'<strong class="text-white">$1</strong>').replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/```(\w+)?\n([\s\S]*?)```/g,'<pre class="bg-black/40 rounded-lg p-3 my-3 overflow-x-auto"><code class="text-green-400 text-sm">$2</code></pre>').replace(/`([^`]+)`/g,'<code class="bg-white/10 text-cyan-400 px-1 py-0.5 rounded text-sm">$1</code>').replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" class="text-cyan-400 hover:underline" target="_blank" rel="noopener">$1</a>').replace(/^\s*[-*] (.*$)/gm,'<li class="ml-4 text-gray-300">$1</li>').replace(/^\s*\d+\. (.*$)/gm,'<li class="ml-4 text-gray-300 list-decimal">$1</li>').replace(/^> (.*$)/gm,'<blockquote class="border-l-4 border-cyan-500 pl-4 my-2 text-gray-400 italic">$1</blockquote>').replace(/^---$/gm,'<hr class="border-white/20 my-4" />').replace(/^\|(.+)\|$/gm,(x,n)=>{const i=n.split("|").map(r=>r.trim());return i.some(r=>r.startsWith("---"))?"":"<tr>"+i.map(r=>`<td class="border border-white/20 px-3 py-2 text-gray-300">${r}</td>`).join("")+"</tr>"}).replace(/\n\n/g,'</p><p class="text-gray-300 my-2">').replace(/\n/g,"<br />")}</p></div>`:""}function se({item:s,onSelect:d,selectedFile:x,onRefresh:n,level:i=0}){const[c,r]=l.useState(i<2),b=x?.relativePath===s.relativePath,o=()=>{s.isDirectory?r(!c):d(s)};return e.jsxs("div",{children:[e.jsxs("button",{onClick:o,className:`
          w-full flex items-center gap-2 px-2 py-1.5 rounded text-left text-sm transition-colors
          ${b?"bg-cyan-500/20 text-cyan-400":"hover:bg-white/5 text-gray-300"}
        `,style:{paddingLeft:`${i*16+8}px`},children:[s.isDirectory?e.jsxs(e.Fragment,{children:[c?e.jsx(ge,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}):e.jsx(ye,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),c?e.jsx(Ne,{className:"w-4 h-4 text-yellow-500 flex-shrink-0"}):e.jsx(_,{className:"w-4 h-4 text-yellow-500 flex-shrink-0"})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"w-4"}),e.jsx($,{className:"w-4 h-4 text-blue-400 flex-shrink-0"})]}),e.jsx("span",{className:"truncate flex-1",children:s.name}),!s.isDirectory&&s.size&&e.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0",children:M(s.size)})]}),s.isDirectory&&c&&s.children&&e.jsx("div",{children:s.children.map(p=>e.jsx(se,{item:p,onSelect:d,selectedFile:x,onRefresh:n,level:i+1},p.relativePath))})]})}function Se({results:s,onSelect:d,onClose:x}){return!s||s.length===0?e.jsx("div",{className:"p-4 text-center text-gray-400",children:"No results found"}):e.jsx("div",{className:"space-y-2",children:s.map((n,i)=>e.jsxs("button",{onClick:()=>d({relativePath:n.relativePath,name:n.file},n.directory),className:"w-full text-left p-3 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx($,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{className:"text-sm font-medium text-white",children:n.file}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",n.directory,")"]})]}),e.jsx("div",{className:"text-xs text-gray-400 truncate",children:n.relativePath}),n.matches.slice(0,2).map((c,r)=>e.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:[e.jsxs("span",{className:"text-gray-600",children:["L",c.line,":"]})," ",e.jsx("span",{dangerouslySetInnerHTML:{__html:c.highlight.replace(/\*\*(.*?)\*\*/g,'<span class="text-cyan-400 font-medium">$1</span>')}})]},r))]},`${n.relativePath}-${i}`))})}function $e({isOpen:s,title:d,message:x,onConfirm:n,onCancel:i,danger:c}){return s?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-gray-900 border border-white/10 rounded-xl p-6 max-w-md w-full mx-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c&&e.jsx(je,{className:"w-6 h-6 text-red-400"}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:d})]}),e.jsx("p",{className:"text-gray-400 mb-6",children:x}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx("button",{onClick:i,className:"px-4 py-2 rounded-lg bg-white/5 hover:bg-white/10 text-gray-300 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:n,className:`px-4 py-2 rounded-lg transition-colors ${c?"bg-red-500/20 hover:bg-red-500/30 text-red-400":"bg-cyan-500/20 hover:bg-cyan-500/30 text-cyan-400"}`,children:"Confirm"})]})]})}):null}function Fe({isOpen:s,onClose:d,onSubmit:x,directory:n}){const[i,c]=l.useState(""),[r,b]=l.useState(""),[o,p]=l.useState(!1),T=y=>{if(y.preventDefault(),o)x({type:"folder",path:r||i});else{const N=r?`${r}/${i}`:i,F=N.endsWith(".md")?N:`${N}.md`;x({type:"file",path:F})}c(""),b(""),p(!1)};return s?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-gray-900 border border-white/10 rounded-xl p-6 max-w-md w-full mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:o?"New Folder":"New File"}),e.jsx("button",{onClick:d,className:"p-1 hover:bg-white/10 rounded",children:e.jsx(te,{className:"w-5 h-5 text-gray-400"})})]}),e.jsxs("form",{onSubmit:T,children:[e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsxs("button",{type:"button",onClick:()=>p(!1),className:`flex-1 py-2 rounded-lg text-sm transition-colors ${o?"bg-white/5 text-gray-400":"bg-cyan-500/20 text-cyan-400"}`,children:[e.jsx(be,{className:"w-4 h-4 inline mr-2"}),"File"]}),e.jsxs("button",{type:"button",onClick:()=>p(!0),className:`flex-1 py-2 rounded-lg text-sm transition-colors ${o?"bg-cyan-500/20 text-cyan-400":"bg-white/5 text-gray-400"}`,children:[e.jsx(_,{className:"w-4 h-4 inline mr-2"}),"Folder"]})]})}),!o&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Folder (optional)"}),e.jsx("input",{type:"text",value:r,onChange:y=>b(y.target.value),placeholder:"e.g., guides/advanced",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500/50"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:o?"Folder Name":"File Name"}),e.jsx("input",{type:"text",value:i,onChange:y=>c(y.target.value),placeholder:o?"e.g., guides":"e.g., README.md",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500/50",required:!0}),!o&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Will create in: ",n,"/",r?`${r}/`:"",i||"filename",i?.endsWith(".md")?"":".md"]})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx("button",{type:"button",onClick:d,className:"px-4 py-2 rounded-lg bg-white/5 hover:bg-white/10 text-gray-300 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:!i,className:"px-4 py-2 rounded-lg bg-cyan-500/20 hover:bg-cyan-500/30 text-cyan-400 transition-colors disabled:opacity-50",children:"Create"})]})]})]})}):null}function Qe(){const[s,d]=l.useState("docs"),[x,n]=l.useState([]),[i,c]=l.useState(!0),[r,b]=l.useState(null),[o,p]=l.useState(""),[T,y]=l.useState(""),[N,F]=l.useState(!1),[B,H]=l.useState(!1),[g,O]=l.useState("split"),[v,K]=l.useState(""),[W,P]=l.useState(null),[q,V]=l.useState(!1),[J,D]=l.useState(!1),[k,ae]=l.useState(null),[le,z]=l.useState(!1),[C,I]=l.useState({isOpen:!1}),[A,G]=l.useState(null),re=l.useRef(null),h=l.useCallback(()=>{try{const t=localStorage.getItem("musclemap-auth");if(t){const f=JSON.parse(t);if(f?.state?.token)return{Authorization:`Bearer ${f.state.token}`}}const a=localStorage.getItem("musclemap_token");return a?{Authorization:`Bearer ${a}`}:{}}catch{return{}}},[]),m=l.useCallback((t,a="success")=>{G({message:t,type:a}),setTimeout(()=>G(null),3e3)},[]),u=l.useCallback(async()=>{c(!0);try{const t=await fetch(`${w}/admin/docs/list?directory=${s}`,{headers:h()});if(t.ok){const a=await t.json();n(a.files||[])}}catch{}finally{c(!1)}},[s,h]),Q=l.useCallback(async()=>{try{const t=await fetch(`${w}/admin/docs/stats`,{headers:h()});if(t.ok){const a=await t.json();ae(a)}}catch{}},[h]),E=l.useCallback(async(t,a=s)=>{F(!0);try{const f=await fetch(`${w}/admin/docs/file?filePath=${encodeURIComponent(t.relativePath)}&directory=${a}`,{headers:h()});if(f.ok){const S=await f.json();p(S.content),y(S.content),b({...t,directory:a,...S})}}catch{m("Failed to load file","error")}finally{F(!1)}},[s,h,m]),U=l.useCallback(async()=>{if(r){H(!0);try{const t=await fetch(`${w}/admin/docs/file?directory=${r.directory||s}`,{method:"PUT",headers:{"Content-Type":"application/json",...h()},body:JSON.stringify({filePath:r.relativePath,content:o})});if(t.ok)y(o),m("File saved successfully"),u();else{const a=await t.json();m(a.error||"Failed to save","error")}}catch{m("Failed to save file","error")}finally{H(!1)}}},[r,o,s,h,m,u]),ne=l.useCallback(async()=>{if(r){try{const t=await fetch(`${w}/admin/docs/file?filePath=${encodeURIComponent(r.relativePath)}&directory=${r.directory||s}`,{method:"DELETE",headers:h()});if(t.ok)m("File deleted"),b(null),p(""),y(""),u();else{const a=await t.json();m(a.error||"Failed to delete","error")}}catch{m("Failed to delete file","error")}I({isOpen:!1})}},[r,s,h,m,u]),ie=l.useCallback(async({type:t,path:a})=>{try{const f=t==="folder"?"/admin/docs/folder":"/admin/docs/file",S=t==="folder"?{folderPath:a}:{filePath:a,content:`# ${a.split("/").pop().replace(".md","")}

Start writing here...
`},Z=await fetch(`${w}${f}?directory=${s}`,{method:"POST",headers:{"Content-Type":"application/json",...h()},body:JSON.stringify(S)});if(Z.ok)m(`${t==="folder"?"Folder":"File"} created`),u(),t==="file"&&setTimeout(()=>{E({relativePath:a,name:a.split("/").pop()})},500);else{const oe=await Z.json();m(oe.error||"Failed to create","error")}}catch{m("Failed to create","error")}z(!1)},[s,h,m,u,E]),X=l.useCallback(async()=>{if(v.trim()){V(!0);try{const t=await fetch(`${w}/admin/docs/search?query=${encodeURIComponent(v)}&directory=all`,{headers:h()});if(t.ok){const a=await t.json();P(a.results)}}catch{}finally{V(!1)}}},[v,h]);l.useEffect(()=>{const t=a=>{(a.metaKey||a.ctrlKey)&&a.key==="s"&&(a.preventDefault(),L&&U()),(a.metaKey||a.ctrlKey)&&a.key==="f"&&(a.preventDefault(),D(!0))};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[U,L]),l.useEffect(()=>{u(),Q()},[u,Q]),l.useEffect(()=>{u()},[s,u]);const L=o!==T;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx($,{className:"w-6 h-6 text-cyan-400"}),"Documentation Editor"]}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Browse and edit markdown files in docs/ and docs-plain/"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>D(!J),className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 text-gray-400 transition-colors",title:"Search (Cmd+F)",children:e.jsx(Y,{className:"w-5 h-5"})}),e.jsx("button",{onClick:u,className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 text-gray-400 transition-colors",title:"Refresh",children:e.jsx(de,{className:`w-5 h-5 ${i?"animate-spin":""}`})})]})]}),J&&e.jsxs(j,{className:"p-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Y,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),e.jsx("input",{type:"text",value:v,onChange:t=>K(t.target.value),onKeyDown:t=>t.key==="Enter"&&X(),placeholder:"Search in documentation...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500/50",autoFocus:!0})]}),e.jsx("button",{onClick:X,disabled:q||!v.trim(),className:"px-4 py-2 rounded-lg bg-cyan-500/20 hover:bg-cyan-500/30 text-cyan-400 transition-colors disabled:opacity-50",children:q?e.jsx(R,{className:"w-5 h-5 animate-spin"}):"Search"}),e.jsx("button",{onClick:()=>{D(!1),P(null),K("")},className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 text-gray-400 transition-colors",children:e.jsx(te,{className:"w-5 h-5"})})]}),W&&e.jsx("div",{className:"mt-4 max-h-64 overflow-auto",children:e.jsx(Se,{results:W,onSelect:(t,a)=>{E(t,a),D(!1),P(null)},onClose:()=>P(null)})})]}),k&&e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsxs(j,{className:"p-3",children:[e.jsx("div",{className:"text-xs text-gray-400",children:"docs/ Files"}),e.jsx("div",{className:"text-xl font-bold text-white",children:k.docs?.files||0})]}),e.jsxs(j,{className:"p-3",children:[e.jsx("div",{className:"text-xs text-gray-400",children:"docs/ Size"}),e.jsx("div",{className:"text-xl font-bold text-white",children:M(k.docs?.totalSize||0)})]}),e.jsxs(j,{className:"p-3",children:[e.jsx("div",{className:"text-xs text-gray-400",children:"docs-plain/ Files"}),e.jsx("div",{className:"text-xl font-bold text-white",children:k.docsPlain?.files||0})]}),e.jsxs(j,{className:"p-3",children:[e.jsx("div",{className:"text-xs text-gray-400",children:"docs-plain/ Size"}),e.jsx("div",{className:"text-xl font-bold text-white",children:M(k.docsPlain?.totalSize||0)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",style:{minHeight:"600px"},children:[e.jsxs(j,{className:"p-4 lg:col-span-1 overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex gap-1 mb-3",children:[e.jsx("button",{onClick:()=>d("docs"),className:`flex-1 py-1.5 px-2 rounded text-sm transition-colors ${s==="docs"?"bg-cyan-500/20 text-cyan-400":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:"docs/"}),e.jsx("button",{onClick:()=>d("docs-plain"),className:`flex-1 py-1.5 px-2 rounded text-sm transition-colors ${s==="docs-plain"?"bg-cyan-500/20 text-cyan-400":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:"docs-plain/"})]}),e.jsx("div",{className:"flex gap-2 mb-3",children:e.jsxs("button",{onClick:()=>z(!0),className:"flex-1 flex items-center justify-center gap-1 py-1.5 rounded bg-green-500/20 hover:bg-green-500/30 text-green-400 text-sm transition-colors",children:[e.jsx(ce,{className:"w-4 h-4"}),"New"]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:i?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx(R,{className:"w-6 h-6 animate-spin text-cyan-400"})}):x.length===0?e.jsxs("div",{className:"text-center text-gray-500 py-8",children:[e.jsx(_,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No files found"})]}):x.map(t=>e.jsx(se,{item:t,onSelect:a=>E(a),selectedFile:r,onRefresh:u},t.relativePath))})]}),e.jsx(j,{className:"p-4 lg:col-span-3 overflow-hidden flex flex-col",children:r?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 pb-3 border-b border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx($,{className:"w-5 h-5 text-blue-400 flex-shrink-0"}),e.jsx("span",{className:"font-medium text-white truncate",children:r.relativePath}),L&&e.jsx("span",{className:"text-xs bg-yellow-500/20 text-yellow-400 px-2 py-0.5 rounded flex-shrink-0",children:"Unsaved"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex bg-white/5 rounded-lg p-0.5",children:[e.jsx("button",{onClick:()=>O("edit"),className:`p-1.5 rounded ${g==="edit"?"bg-cyan-500/20 text-cyan-400":"text-gray-400"}`,title:"Edit",children:e.jsx(xe,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>O("split"),className:`p-1.5 rounded ${g==="split"?"bg-cyan-500/20 text-cyan-400":"text-gray-400"}`,title:"Split",children:e.jsx(he,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>O("preview"),className:`p-1.5 rounded ${g==="preview"?"bg-cyan-500/20 text-cyan-400":"text-gray-400"}`,title:"Preview",children:e.jsx(me,{className:"w-4 h-4"})})]}),e.jsxs("button",{onClick:U,disabled:!L||B,className:"flex items-center gap-1 px-3 py-1.5 rounded-lg bg-green-500/20 hover:bg-green-500/30 text-green-400 text-sm transition-colors disabled:opacity-50",title:"Save (Cmd+S)",children:[B?e.jsx(R,{className:"w-4 h-4 animate-spin"}):e.jsx(fe,{className:"w-4 h-4"}),"Save"]}),e.jsx("button",{onClick:()=>{const t=new Blob([o],{type:"text/markdown"}),a=URL.createObjectURL(t),f=document.createElement("a");f.href=a,f.download=r.name,f.click(),URL.revokeObjectURL(a)},className:"p-1.5 rounded-lg bg-white/5 hover:bg-white/10 text-gray-400 transition-colors",title:"Download",children:e.jsx(ue,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>I({isOpen:!0,title:"Delete File",message:`Are you sure you want to delete "${r.name}"? This cannot be undone.`,onConfirm:ne,danger:!0}),className:"p-1.5 rounded-lg bg-red-500/10 hover:bg-red-500/20 text-red-400 transition-colors",title:"Delete",children:e.jsx(pe,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:N?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(R,{className:"w-8 h-8 animate-spin text-cyan-400"})}):e.jsxs("div",{className:`h-full grid ${g==="split"?"grid-cols-2 gap-4":""}`,children:[(g==="edit"||g==="split")&&e.jsxs("div",{className:"h-full overflow-hidden flex flex-col",children:[g==="split"&&e.jsx("div",{className:"text-xs text-gray-500 mb-2 font-medium",children:"EDITOR"}),e.jsx("textarea",{ref:re,value:o,onChange:t=>p(t.target.value),className:"flex-1 w-full bg-black/40 border border-white/10 rounded-lg p-4 text-gray-200 font-mono text-sm resize-none focus:outline-none focus:border-cyan-500/30",spellCheck:!1})]}),(g==="preview"||g==="split")&&e.jsxs("div",{className:"h-full overflow-hidden flex flex-col",children:[g==="split"&&e.jsx("div",{className:"text-xs text-gray-500 mb-2 font-medium",children:"PREVIEW"}),e.jsx("div",{className:"flex-1 overflow-auto bg-black/20 border border-white/10 rounded-lg p-4",dangerouslySetInnerHTML:{__html:Ce(o)}})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mt-3 pt-3 border-t border-white/10 text-xs text-gray-500",children:[e.jsxs("span",{children:["Size: ",M(r.size)]}),e.jsxs("span",{children:["Modified: ",ke(r.modifiedAt)]}),e.jsxs("span",{children:["Lines: ",o.split(`
`).length]}),e.jsxs("span",{children:["Characters: ",o.length]})]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[e.jsx($,{className:"w-16 h-16 mb-4 opacity-30"}),e.jsx("p",{className:"text-lg",children:"Select a file to view or edit"}),e.jsx("p",{className:"text-sm mt-1",children:"Use the file tree on the left"})]})})]}),e.jsx(Fe,{isOpen:le,onClose:()=>z(!1),onSubmit:ie,directory:s}),e.jsx($e,{isOpen:C.isOpen,title:C.title,message:C.message,onConfirm:C.onConfirm,onCancel:()=>I({isOpen:!1}),danger:C.danger}),A&&e.jsx("div",{className:`fixed bottom-4 right-4 px-4 py-2 rounded-lg shadow-lg z-50 ${A.type==="error"?"bg-red-500":"bg-green-500"} text-white`,children:A.message})]})}export{Qe as default};
