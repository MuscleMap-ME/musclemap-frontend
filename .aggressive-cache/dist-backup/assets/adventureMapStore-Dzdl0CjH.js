import{V as M,Y as S,$ as C}from"./index-Ii7_m7xX.js";const g={dashboard:{id:"dashboard",name:"Command Center",description:"Your fitness dashboard - the heart of your journey",icon:"ðŸ ",route:"/dashboard",region:"central-hub",position:{x:500,y:400},tier:"common",isStarting:!0},profile:{id:"profile",name:"Hero Profile",description:"View and customize your warrior profile",icon:"ðŸ‘¤",route:"/profile",region:"central-hub",position:{x:450,y:450},tier:"common"},settings:{id:"settings",name:"Settings Keep",description:"Configure your preferences",icon:"âš™ï¸",route:"/settings",region:"central-hub",position:{x:550,y:450},tier:"common"},workout:{id:"workout",name:"Training Grounds",description:"Start a new workout session",icon:"ðŸ’ª",route:"/workout",region:"warrior-arena",position:{x:200,y:350},tier:"common"},exercises:{id:"exercises",name:"Exercise Library",description:"Browse all available exercises",icon:"ðŸ“–",route:"/exercises",region:"warrior-arena",position:{x:150,y:400},tier:"common"},journey:{id:"journey",name:"Hero Journey",description:"Your personalized training path",icon:"ðŸ—ºï¸",route:"/journey",region:"warrior-arena",position:{x:250,y:400},tier:"uncommon"},"pt-tests":{id:"pt-tests",name:"PT Test Arena",description:"Physical fitness test preparation",icon:"ðŸŽ–ï¸",route:"/pt-tests",region:"warrior-arena",position:{x:200,y:450},tier:"uncommon"},archetypes:{id:"archetypes",name:"Archetype Selection",description:"Choose your warrior class",icon:"ðŸ›¡ï¸",route:"/archetypes",region:"warrior-arena",position:{x:120,y:350},tier:"rare"},progression:{id:"progression",name:"Progress Peaks",description:"Track your overall progression",icon:"ðŸ“ˆ",route:"/progression",region:"progress-path",position:{x:300,y:550},tier:"common"},stats:{id:"stats",name:"Stats Shrine",description:"Detailed workout statistics",icon:"ðŸ“Š",route:"/stats",region:"progress-path",position:{x:250,y:580},tier:"common"},achievements:{id:"achievements",name:"Trophy Hall",description:"Your earned achievements",icon:"ðŸ†",route:"/achievements",region:"progress-path",position:{x:350,y:580},tier:"uncommon"},"personal-records":{id:"personal-records",name:"Records Monument",description:"Your personal bests",icon:"ðŸ¥‡",route:"/personal-records",region:"progress-path",position:{x:300,y:620},tier:"uncommon"},history:{id:"history",name:"History Archives",description:"Past workout history",icon:"ðŸ“œ",route:"/history",region:"progress-path",position:{x:220,y:530},tier:"common"},community:{id:"community",name:"Community Square",description:"Connect with other warriors",icon:"ðŸ‘¥",route:"/community",region:"guild-hall",position:{x:700,y:350},tier:"common"},crews:{id:"crews",name:"Crew Quarters",description:"Join or manage your crew",icon:"âš”ï¸",route:"/crews",region:"guild-hall",position:{x:650,y:400},tier:"uncommon"},rivals:{id:"rivals",name:"Rivals Arena",description:"Challenge your rivals",icon:"ðŸ¤º",route:"/rivals",region:"guild-hall",position:{x:750,y:400},tier:"uncommon"},competitions:{id:"competitions",name:"Competition Colosseum",description:"Join fitness competitions",icon:"ðŸ…",route:"/competitions",region:"guild-hall",position:{x:700,y:450},tier:"rare"},messages:{id:"messages",name:"Message Tower",description:"Your conversations",icon:"ðŸ’¬",route:"/messages",region:"guild-hall",position:{x:680,y:320},tier:"common"},leaderboard:{id:"leaderboard",name:"Hall of Champions",description:"Top performers leaderboard",icon:"ðŸ†",route:"/leaderboard",region:"guild-hall",position:{x:750,y:350},tier:"uncommon"},marketplace:{id:"marketplace",name:"Grand Bazaar",description:"Buy and sell items",icon:"ðŸ›’",route:"/marketplace",region:"market-district",position:{x:800,y:500},tier:"common"},wallet:{id:"wallet",name:"Treasury",description:"Your credits and transactions",icon:"ðŸ’°",route:"/wallet",region:"market-district",position:{x:750,y:530},tier:"common"},skins:{id:"skins",name:"Cosmetics Emporium",description:"Customize your appearance",icon:"ðŸŽ¨",route:"/skins",region:"market-district",position:{x:850,y:530},tier:"uncommon"},trading:{id:"trading",name:"Trading Post",description:"Trade with other users",icon:"ðŸ¤",route:"/trading",region:"market-district",position:{x:800,y:560},tier:"rare"},collection:{id:"collection",name:"Collection Vault",description:"Your collected items",icon:"ðŸ—ƒï¸",route:"/collection",region:"market-district",position:{x:780,y:480},tier:"uncommon"},health:{id:"wellness",name:"Wellness Sanctuary",description:"Track your wellness metrics",icon:"â¤ï¸",route:"/wellness",region:"wellness-springs",position:{x:200,y:150},tier:"common"},recovery:{id:"recovery",name:"Recovery Pool",description:"Recovery and rest tracking",icon:"ðŸ›",route:"/recovery",region:"wellness-springs",position:{x:150,y:180},tier:"uncommon"},goals:{id:"goals",name:"Goals Garden",description:"Set and track fitness goals",icon:"ðŸŽ¯",route:"/goals",region:"wellness-springs",position:{x:250,y:180},tier:"common"},nutrition:{id:"nutrition",name:"Nutrition Kitchen",description:"Track your nutrition",icon:"ðŸ¥—",route:"/nutrition",region:"wellness-springs",position:{x:200,y:210},tier:"uncommon"},sleep:{id:"sleep",name:"Rest Haven",description:"Sleep tracking and analysis",icon:"ðŸ˜´",route:"/sleep",region:"wellness-springs",position:{x:180,y:130},tier:"uncommon"},skills:{id:"skills",name:"Skills Academy",description:"Learn new fitness skills",icon:"ðŸ“š",route:"/skills",region:"scholars-tower",position:{x:700,y:550},tier:"common"},"martial-arts":{id:"martial-arts",name:"Martial Arts Dojo",description:"Combat sports training",icon:"ðŸ¥‹",route:"/martial-arts",region:"scholars-tower",position:{x:650,y:580},tier:"uncommon"},trainers:{id:"trainers",name:"Trainers Guild",description:"Find certified trainers",icon:"ðŸ‘¨â€ðŸ«",route:"/trainers",region:"scholars-tower",position:{x:750,y:580},tier:"rare"},docs:{id:"docs",name:"Knowledge Library",description:"Fitness guides and documentation",icon:"ðŸ“–",route:"/docs",region:"scholars-tower",position:{x:700,y:610},tier:"common"},tutorials:{id:"tutorials",name:"Tutorial Chamber",description:"Learn the basics",icon:"ðŸŽ“",route:"/tutorials",region:"scholars-tower",position:{x:680,y:530},tier:"common"},empire:{id:"empire",name:"Empire Control",description:"Admin control center",icon:"ðŸ‘‘",route:"/empire",region:"summit-peak",position:{x:500,y:100},tier:"legendary",requiredRole:"admin"},"admin-control":{id:"admin-control",name:"Admin Tower",description:"System administration",icon:"ðŸ›ï¸",route:"/admin-control",region:"summit-peak",position:{x:550,y:120},tier:"legendary",requiredRole:"admin"},analytics:{id:"analytics",name:"Analytics Spire",description:"Platform analytics",icon:"ðŸ“Š",route:"/analytics",region:"summit-peak",position:{x:450,y:120},tier:"epic",requiredRole:"admin"}},v=[{from:"dashboard",to:"profile",style:"road"},{from:"dashboard",to:"settings",style:"road"},{from:"dashboard",to:"workout",style:"road"},{from:"dashboard",to:"progression",style:"road"},{from:"dashboard",to:"community",style:"road"},{from:"dashboard",to:"marketplace",style:"road"},{from:"dashboard",to:"health",style:"bridge"},{from:"dashboard",to:"skills",style:"road"},{from:"workout",to:"exercises",style:"trail"},{from:"workout",to:"journey",style:"trail"},{from:"workout",to:"pt-tests",style:"trail"},{from:"workout",to:"archetypes",style:"trail"},{from:"exercises",to:"archetypes",style:"trail"},{from:"progression",to:"stats",style:"trail"},{from:"progression",to:"achievements",style:"trail"},{from:"progression",to:"personal-records",style:"trail"},{from:"progression",to:"history",style:"trail"},{from:"stats",to:"history",style:"trail"},{from:"community",to:"crews",style:"trail"},{from:"community",to:"rivals",style:"trail"},{from:"community",to:"competitions",style:"trail"},{from:"community",to:"messages",style:"trail"},{from:"community",to:"leaderboard",style:"trail"},{from:"crews",to:"competitions",style:"trail"},{from:"marketplace",to:"wallet",style:"trail"},{from:"marketplace",to:"skins",style:"trail"},{from:"marketplace",to:"trading",style:"trail"},{from:"marketplace",to:"collection",style:"trail"},{from:"wallet",to:"trading",style:"trail"},{from:"health",to:"recovery",style:"trail"},{from:"health",to:"goals",style:"trail"},{from:"health",to:"nutrition",style:"trail"},{from:"health",to:"sleep",style:"trail"},{from:"recovery",to:"sleep",style:"trail"},{from:"skills",to:"martial-arts",style:"trail"},{from:"skills",to:"trainers",style:"trail"},{from:"skills",to:"docs",style:"trail"},{from:"skills",to:"tutorials",style:"trail"},{from:"tutorials",to:"docs",style:"trail"},{from:"empire",to:"admin-control",style:"portal"},{from:"empire",to:"analytics",style:"portal"},{from:"health",to:"empire",style:"bridge"},{from:"marketplace",to:"empire",style:"bridge"},{from:"workout",to:"progression",style:"road"},{from:"progression",to:"skills",style:"road"},{from:"community",to:"marketplace",style:"road"}];function D(){return Object.values(g)}function h(o){return g[o]}function T(){return Object.values(g).find(t=>t.isStarting)||g.dashboard}function Z(o){return Object.values(g).filter(t=>t.region===o)}function N(o){const t=new Set;for(const e of v)e.from===o?t.add(e.to):e.to===o&&t.add(e.from);return Array.from(t).map(e=>g[e]).filter(e=>e!==void 0)}function F(o){let t,e=1/0;for(const r of Object.values(g)){const n=r.position.x-o.x,c=r.position.y-o.y,a=Math.sqrt(n*n+c*c);a<e&&(e=a,t=r)}return t}function q(o,t,e=30){const r=t.position.x-o.x,n=t.position.y-o.y;return Math.sqrt(r*r+n*n)<=e}function G(o){return v.filter(t=>t.from===o||t.to===o)}const b={"central-hub":{id:"central-hub",name:"Central Hub",description:"The heart of your fitness journey. Start here.",icon:"ðŸ°",theme:{primary:"#3B82F6",secondary:"#1E40AF",accent:"#60A5FA",glow:"rgba(59, 130, 246, 0.3)"},bounds:{x:400,y:350,width:200,height:150},connections:["warrior-arena","progress-path","guild-hall","market-district","wellness-springs","scholars-tower"]},"warrior-arena":{id:"warrior-arena",name:"Warrior Arena",description:"Train hard. Battle your limits. Become stronger.",icon:"âš”ï¸",theme:{primary:"#EF4444",secondary:"#B91C1C",accent:"#F87171",glow:"rgba(239, 68, 68, 0.3)"},bounds:{x:100,y:300,width:200,height:200},connections:["central-hub","progress-path"]},"progress-path":{id:"progress-path",name:"Progress Path",description:"Track your journey. Celebrate every milestone.",icon:"ðŸ“ˆ",theme:{primary:"#8B5CF6",secondary:"#6D28D9",accent:"#A78BFA",glow:"rgba(139, 92, 246, 0.3)"},bounds:{x:200,y:500,width:200,height:150},connections:["central-hub","warrior-arena","scholars-tower"]},"guild-hall":{id:"guild-hall",name:"Guild Hall",description:"Connect with fellow warriors. Compete together.",icon:"ðŸ›ï¸",theme:{primary:"#10B981",secondary:"#047857",accent:"#34D399",glow:"rgba(16, 185, 129, 0.3)"},bounds:{x:600,y:300,width:200,height:200},connections:["central-hub","market-district"]},"market-district":{id:"market-district",name:"Market District",description:"Trade treasures. Customize your experience.",icon:"ðŸª™",theme:{primary:"#F59E0B",secondary:"#D97706",accent:"#FBBF24",glow:"rgba(245, 158, 11, 0.3)"},bounds:{x:700,y:450,width:200,height:150},connections:["central-hub","guild-hall","summit-peak"]},"wellness-springs":{id:"wellness-springs",name:"Wellness Springs",description:"Rest and recover. Balance body and mind.",icon:"ðŸ’§",theme:{primary:"#06B6D4",secondary:"#0891B2",accent:"#22D3EE",glow:"rgba(6, 182, 212, 0.3)"},bounds:{x:100,y:100,width:200,height:150},connections:["central-hub","summit-peak"]},"scholars-tower":{id:"scholars-tower",name:"Scholar's Tower",description:"Learn new techniques. Master your craft.",icon:"ðŸ“š",theme:{primary:"#EC4899",secondary:"#BE185D",accent:"#F472B6",glow:"rgba(236, 72, 153, 0.3)"},bounds:{x:600,y:500,width:200,height:150},connections:["central-hub","progress-path"]},"summit-peak":{id:"summit-peak",name:"Summit Peak",description:"The pinnacle of achievement. Admin realm.",icon:"ðŸ‘‘",theme:{primary:"#FFD700",secondary:"#B8860B",accent:"#FFE55C",glow:"rgba(255, 215, 0, 0.4)"},bounds:{x:400,y:50,width:200,height:120},connections:["wellness-springs","market-district"]}};function Y(){return Object.values(b)}function W(o){return b[o]}function R(o,t){const{bounds:e}=t;return o.x>=e.x&&o.x<=e.x+e.width&&o.y>=e.y&&o.y<=e.y+e.height}function f(o){return Object.values(b).find(t=>R(o,t))}function w(o,t){const e=t.x-o.x,r=t.y-o.y;return Math.sqrt(e*e+r*r)}function A(o){const t=new Set;for(const e of v)e.from===o?t.add(e.to):e.to===o&&t.add(e.from);return Array.from(t)}function B(o,t,e=100){const r=h(o),n=h(t);if(!r||!n)return[];if(o===t)return[o];const c=new Map,a=new Set,l={id:o,g:0,h:w(r.position,n.position),f:0,parent:null};l.f=l.g+l.h,c.set(o,l);let m=0;for(;c.size>0&&m<e;){m++;let i=null,k=1/0;for(const d of c.values())d.f<k&&(k=d.f,i=d);if(!i)break;if(i.id===t){const d=[];let u=i;for(;u;)d.unshift(u.id),u=u.parent;return d}c.delete(i.id),a.add(i.id);const L=A(i.id);for(const d of L){if(a.has(d))continue;const u=h(d);if(!u)continue;const P=h(i.id);if(!P)continue;const x=i.g+w(P.position,u.position),p=c.get(d);if(p)x<p.g&&(p.g=x,p.f=p.g+p.h,p.parent=i);else{const y={id:d,g:x,h:w(u.position,n.position),f:0,parent:i};y.f=y.g+y.h,c.set(d,y)}}}return[]}function V(o){return o.map(t=>h(t)?.position).filter(t=>t!==void 0)}function O(o,t,e=100){const r=B(o,t,e);return V(r)}function E(o,t,e){return{x:o.x+(t.x-o.x)*e,y:o.y+(t.y-o.y)*e}}function I(o,t=10){if(o.length<2)return o;const e=[o[0]];for(let r=0;r<o.length-1;r++){const n=o[r],c=o[r+1],a=w(n,c),l=Math.ceil(a/t);for(let m=1;m<=l;m++){const i=m/l;e.push(E(n,c,i))}}return e}const j=T(),H={characterPosition:j.position,characterState:"idle",movementPath:[],currentPathIndex:0,currentRegion:"central-hub",targetLocation:null,mapZoom:1,mapPan:{x:0,y:0},selectedLocation:null,hoveredLocation:null,visitedLocations:["dashboard"],lastVisitedLocation:"dashboard",totalVisits:1,isMapOpen:!1,isFullscreen:!1,showMinimap:!0,hudExpanded:!1},s=M()(S(C((o,t)=>({...H,setCharacterPosition:e=>{const r=f(e);o({characterPosition:e,currentRegion:r?.id||t().currentRegion})},setCharacterState:e=>o({characterState:e}),startMovement:e=>{const{characterPosition:r,visitedLocations:n}=t(),c=F(r);if(!c||!h(e))return;const l=O(c.id,e,5);l.length>0&&o({movementPath:l,currentPathIndex:0,characterState:"walking",targetLocation:e})},advanceMovement:()=>{const{movementPath:e,currentPathIndex:r,targetLocation:n}=t();if(r>=e.length-1){const m=e[e.length-1],i=f(m);return o({characterPosition:m,characterState:"idle",movementPath:[],currentPathIndex:0,currentRegion:i?.id||t().currentRegion}),n&&t().visitLocation(n),!0}const c=r+1,a=e[c],l=f(a);return o({currentPathIndex:c,characterPosition:a,currentRegion:l?.id||t().currentRegion}),!1},cancelMovement:()=>{o({characterState:"idle",movementPath:[],currentPathIndex:0,targetLocation:null})},teleportTo:e=>{const r=h(e);if(!r)return;const n=f(r.position);o({characterState:"teleporting",targetLocation:e}),setTimeout(()=>{o({characterPosition:r.position,characterState:"idle",currentRegion:n?.id||"central-hub",movementPath:[],currentPathIndex:0,targetLocation:null}),t().visitLocation(e)},500)},setMapZoom:e=>o({mapZoom:Math.max(.5,Math.min(2,e))}),zoomIn:()=>o(e=>({mapZoom:Math.min(2,e.mapZoom+.1)})),zoomOut:()=>o(e=>({mapZoom:Math.max(.5,e.mapZoom-.1)})),setMapPan:e=>o({mapPan:e}),panBy:e=>o(r=>({mapPan:{x:r.mapPan.x+e.x,y:r.mapPan.y+e.y}})),centerOnCharacter:()=>{const{characterPosition:e}=t();o({mapPan:{x:-e.x+500,y:-e.y+400}})},resetView:()=>o({mapZoom:1,mapPan:{x:0,y:0}}),setSelectedLocation:e=>o({selectedLocation:e}),setHoveredLocation:e=>o({hoveredLocation:e}),visitLocation:e=>{const{visitedLocations:r,totalVisits:n}=t();r.includes(e)?o({lastVisitedLocation:e,totalVisits:n+1}):o({visitedLocations:[...r,e],lastVisitedLocation:e,totalVisits:n+1})},hasVisited:e=>t().visitedLocations.includes(e),openMap:()=>o({isMapOpen:!0}),closeMap:()=>o({isMapOpen:!1,isFullscreen:!1}),toggleFullscreen:()=>o(e=>({isFullscreen:!e.isFullscreen})),toggleMinimap:()=>o(e=>({showMinimap:!e.showMinimap})),toggleHudExpanded:()=>o(e=>({hudExpanded:!e.hudExpanded}))}),{name:"musclemap-adventure-map",partialize:o=>({characterPosition:o.characterPosition,currentRegion:o.currentRegion,visitedLocations:o.visitedLocations,lastVisitedLocation:o.lastVisitedLocation,totalVisits:o.totalVisits,showMinimap:o.showMinimap})}))),J=()=>{const o=s(a=>a.characterPosition),t=s(a=>a.characterState),e=s(a=>a.currentRegion),r=s(a=>a.startMovement),n=s(a=>a.teleportTo),c=s(a=>a.cancelMovement);return{position:o,state:t,region:e,moveTo:r,teleportTo:n,cancel:c,isMoving:t==="walking",isTeleporting:t==="teleporting"}},K=()=>{const o=s(i=>i.mapZoom),t=s(i=>i.mapPan),e=s(i=>i.setMapZoom),r=s(i=>i.zoomIn),n=s(i=>i.zoomOut),c=s(i=>i.setMapPan),a=s(i=>i.panBy),l=s(i=>i.centerOnCharacter),m=s(i=>i.resetView);return{zoom:o,pan:t,setZoom:e,zoomIn:r,zoomOut:n,setPan:c,panBy:a,center:l,reset:m}},_=()=>{const o=s(n=>n.selectedLocation),t=s(n=>n.hoveredLocation),e=s(n=>n.setSelectedLocation),r=s(n=>n.setHoveredLocation);return{selected:o,hovered:t,setSelected:e,setHovered:r}},Q=()=>{const o=s(n=>n.visitedLocations),t=s(n=>n.lastVisitedLocation),e=s(n=>n.totalVisits),r=s(n=>n.hasVisited);return{visited:o,lastVisited:t,totalVisits:e,hasVisited:r,visitedCount:o.length}},U=()=>{const o=s(i=>i.isMapOpen),t=s(i=>i.isFullscreen),e=s(i=>i.showMinimap),r=s(i=>i.hudExpanded),n=s(i=>i.openMap),c=s(i=>i.closeMap),a=s(i=>i.toggleFullscreen),l=s(i=>i.toggleMinimap),m=s(i=>i.toggleHudExpanded);return{isOpen:o,isFullscreen:t,showMinimap:e,hudExpanded:r,open:n,close:c,toggleFullscreen:a,toggleMinimap:l,toggleHud:m}};export{g as L,v as P,b as R,Q as a,U as b,s as c,D as d,h as e,N as f,F as g,K as h,_ as i,Y as j,T as k,W as l,f as m,Z as n,q as o,G as p,B as q,O as r,V as s,w as t,J as u,E as v,I as w};
