import{r as f,j as i,d as xt,u as yt}from"./react-vendor-D1NxaRNd.js";import{c as vt}from"./recharts-vendor-BziRPEEi.js";import{select as H,easeBounce as wt,easeBack as Qt,easeElastic as Mt,easeCircle as kt,easeExp as $t,easeSin as jt,easePoly as Lt,easeCubic as Nt,easeQuad as Pt,easeLinear as St,interpolateNumber as it,scaleSequential as At,interpolateRgbBasis as Rt,hsl as tt,scaleLinear as nt,rgb as Et,zoom as gt,forceSimulation as Ct,forceLink as zt,forceManyBody as Gt,forceCenter as Tt,forceCollide as Dt,drag as Ft,color as rt,lineRadial as Ot,curveLinearClosed as It,scaleSqrt as _t,scaleOrdinal as ct,geoNaturalEarth1 as qt,geoEquirectangular as Bt,geoOrthographic as Zt,geoMercator as Ht,geoPath as Wt,max as Ut,scaleBand as ut,axisBottom as pt,axisLeft as ft,sum as Yt,pie as Xt,arc as ot,interpolate as Vt}from"./d3-vendor-mcDw60ct.js";import{e as Jt}from"./index-CfuVQjw9.js";import"./leaflet-vendor-DZbo3Ov0.js";import"./apollo-vendor-BMQ75Ycx.js";import"./reactflow-vendor-Dz2P_-Qa.js";const et=f.forwardRef(({children:t,className:e="",height:a=400,width:n="100%",loading:d=!1,error:h=null,title:x,subtitle:m,glassmorphism:v=!0,noPadding:w=!1},k)=>i.jsxs("div",{ref:k,className:vt("relative overflow-hidden rounded-2xl",v&&["bg-white/5 backdrop-blur-xl","border border-white/10","shadow-2xl shadow-black/20"],!w&&"p-6",e),style:{height:typeof a=="number"?`${a}px`:a,width:typeof n=="number"?`${n}px`:n},children:[(x||m)&&i.jsxs("div",{className:"mb-4",children:[x&&i.jsx("h3",{className:"text-xl font-bold",style:{background:"linear-gradient(135deg, #60a5fa 0%, #a855f7 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:x}),m&&i.jsx("p",{className:"text-sm text-gray-400 mt-1",children:m})]}),i.jsxs("div",{className:"relative h-full w-full",children:[d&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 backdrop-blur-sm z-10 rounded-xl",children:i.jsxs("div",{className:"flex flex-col items-center gap-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-12 h-12 rounded-full border-2 border-purple-500/30 border-t-purple-500 animate-spin"}),i.jsx("div",{className:"absolute inset-2 rounded-full border-2 border-blue-500/30 border-t-blue-500 animate-spin animate-reverse"})]}),i.jsx("span",{className:"text-sm text-gray-400",children:"Loading visualization..."})]})}),h&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-red-500/10 backdrop-blur-sm z-10 rounded-xl",children:i.jsxs("div",{className:"text-center p-6",children:[i.jsx("div",{className:"text-4xl mb-3",children:"⚠️"}),i.jsx("p",{className:"text-red-400 font-medium",children:h})]})}),t]}),v&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"absolute -top-1/4 -left-1/4 w-1/2 h-1/2 rounded-full pointer-events-none opacity-30",style:{background:"radial-gradient(circle, rgba(99, 102, 241, 0.3) 0%, transparent 70%)",filter:"blur(60px)"}}),i.jsx("div",{className:"absolute -bottom-1/4 -right-1/4 w-1/2 h-1/2 rounded-full pointer-events-none opacity-20",style:{background:"radial-gradient(circle, rgba(168, 85, 247, 0.3) 0%, transparent 70%)",filter:"blur(60px)"}})]})]}));et.displayName="D3Container";const lt=document.createElement("style");lt.textContent=`
  @keyframes spin-reverse {
    from { transform: rotate(360deg); }
    to { transform: rotate(0deg); }
  }
  .animate-reverse {
    animation-direction: reverse;
  }
`;typeof document<"u"&&!document.querySelector("#d3-container-styles")&&(lt.id="d3-container-styles",document.head.appendChild(lt));const Kt={top:20,right:20,bottom:20,left:20};function te(t,e){let a;return(...n)=>{clearTimeout(a),a=setTimeout(()=>t(...n),e)}}function $e(t,e=[],a={}){const n=f.useRef(null),d=f.useRef(null),[h,x]=f.useState(null),{margin:m=Kt,responsive:v=!0,aspectRatio:w,minHeight:k=200,maxHeight:A=800}=a,R=f.useCallback(()=>{if(!n.current)return null;const M=n.current.parentElement;if(!M)return null;let P=M.clientWidth,C=M.clientHeight;w&&(C=Math.min(Math.max(P/w,k),A));const Q={width:P,height:C,margin:m,innerWidth:P-m.left-m.right,innerHeight:C-m.top-m.bottom};return x(Q),Q},[m,w,k,A]);return f.useEffect(()=>{if(!n.current)return;d.current&&(d.current(),d.current=null);const M=R();if(!M)return;const P=H(n.current);n.current instanceof SVGSVGElement&&P.attr("width",M.width).attr("height",M.height).attr("viewBox",`0 0 ${M.width} ${M.height}`);const C=t(P,M);C&&(d.current=C)},[t,R,...e]),f.useEffect(()=>{if(!v)return;const M=te(()=>{R()},100);return window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[v,R]),f.useEffect(()=>()=>{d.current&&d.current()},[]),{ref:n,dimensions:h}}const E={linear:St,quad:Pt,cubic:Nt,poly:Lt.exponent(3),sin:jt,exp:$t,circle:kt,elastic:Mt.amplitude(1).period(.3),back:Qt.overshoot(1.7),bounce:wt,smooth:t=>t*t*(3-2*t),smoother:t=>t*t*t*(t*(t*6-15)+10),spring:t=>{const e=2*Math.PI/3;return t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t*10-.75)*e)+1},anticipate:t=>2.70158*t*t*t-1.70158*t*t},je={instant:{duration:0,ease:E.linear},fast:{duration:150,ease:E.cubic},quick:{duration:250,ease:E.smooth},normal:{duration:400,ease:E.cubic},smooth:{duration:500,ease:E.smoother},gentle:{duration:600,ease:E.sin},dramatic:{duration:800,ease:E.exp},slow:{duration:1e3,ease:E.cubic},epic:{duration:1500,ease:E.smoother},springy:{duration:600,ease:E.spring},bouncy:{duration:800,ease:E.bounce},elastic:{duration:1e3,ease:E.elastic},fadeIn:{duration:400,ease:E.cubic},slideIn:{duration:500,ease:E.back},scaleIn:{duration:400,ease:E.elastic},stagger:(t,e=50)=>({duration:400,delay:t*e,ease:E.cubic})};function Le(t,e){return("transition"in t?t:t.transition()).duration(e.duration).delay(e.delay||0).ease(e.ease)}function Ne(t,e={}){const{duration:a=500,staggerDelay:n=50,initialOpacity:d=0,initialScale:h=.8,initialY:x=20}=e;return t.style("opacity",d).attr("transform",`translate(0, ${x}) scale(${h})`),t.transition().duration(a).delay((m,v)=>v*n).ease(E.cubic).style("opacity",1).attr("transform","translate(0, 0) scale(1)")}function Pe(t,e={}){const{scale:a=1.1,duration:n=300,repeat:d=1}=e;let h=t;for(let x=0;x<d;x++)h=h.transition().duration(n/2).ease(E.cubic).attr("transform",`scale(${a})`).transition().duration(n/2).ease(E.cubic).attr("transform","scale(1)")}function Se(t,e={}){const{color:a="#3b82f6",intensity:n=15,duration:d=500}=e;return t.transition().duration(d).ease(E.sin).style("filter",`drop-shadow(0 0 ${n}px ${a})`).transition().duration(d).ease(E.sin).style("filter","none")}function Ae(t,e=1e3){const a=t.node();if(!a)return t.transition();const n=a.getTotalLength();return t.attr("stroke-dasharray",`${n} ${n}`).attr("stroke-dashoffset",n).transition().duration(e).ease(E.smooth).attr("stroke-dashoffset",0)}function ee(t,e){return a=>a<.5?t:e}function Re(t,e,a=800){return t.transition().duration(a).ease(E.smoother).attrTween("d",function(){const n=this.getAttribute("d")||"";return ee(n,e)})}function Ee(t,e,a={}){const{attribute:n="fill",duration:d=400}=a;return t.transition().duration(d).ease(E.smooth).attr(n,e)}function Ce(t,e={}){const{attribute:a="fill",duration:n=5e3,saturation:d=70,lightness:h=50}=e;let x,m;const v=w=>{m||(m=w);const A=(w-m)%n/n*360;t.attr(a,`hsl(${A}, ${d}%, ${h}%)`),x=requestAnimationFrame(v)};return x=requestAnimationFrame(v),()=>cancelAnimationFrame(x)}const re={default:{stiffness:100,damping:10,mass:1},gentle:{stiffness:50,damping:15,mass:1},wobbly:{stiffness:180,damping:12,mass:1},stiff:{stiffness:210,damping:20,mass:1},slow:{stiffness:30,damping:10,mass:1},molasses:{stiffness:20,damping:25,mass:1}};function ze(t,e,a=re.default,n,d){const{stiffness:h,damping:x,mass:m}=a;let v=t,w=0,k,A=performance.now();const R=()=>{const M=performance.now(),P=Math.min((M-A)/1e3,.064);A=M;const C=v-e,Q=-h*C,_=-x*w,U=(Q+_)/m;if(w+=U*P,v+=w*P,n(v),Math.abs(w)<.001&&Math.abs(C)<.001){n(e),d&&d();return}k=requestAnimationFrame(R)};return k=requestAnimationFrame(R),()=>cancelAnimationFrame(k)}function Ge(t,e){const n=Object.keys(t).map(d=>({key:d,interpolator:it(t[d],e[d])}));return d=>{const h={};for(const{key:x,interpolator:m}of n)h[x]=m(d);return h}}function Te(t,e){const a=Math.min(t.length,e.length),n=[];for(let d=0;d<a;d++)n.push({x:it(t[d].x,e[d].x),y:it(t[d].y,e[d].y)});return d=>n.map(h=>({x:h.x(d),y:h.y(d)}))}const De={electric:{id:"gradient-electric",stops:[{offset:"0%",color:"#3b82f6"},{offset:"50%",color:"#6366f1"},{offset:"100%",color:"#8b5cf6"}]},sunset:{id:"gradient-sunset",stops:[{offset:"0%",color:"#f59e0b"},{offset:"50%",color:"#ec4899"},{offset:"100%",color:"#8b5cf6"}]},ocean:{id:"gradient-ocean",stops:[{offset:"0%",color:"#06b6d4"},{offset:"50%",color:"#3b82f6"},{offset:"100%",color:"#1e3a8a"}]},fire:{id:"gradient-fire",stops:[{offset:"0%",color:"#fbbf24"},{offset:"50%",color:"#f97316"},{offset:"100%",color:"#dc2626"}]},nature:{id:"gradient-nature",stops:[{offset:"0%",color:"#10b981"},{offset:"50%",color:"#059669"},{offset:"100%",color:"#065f46"}]},cosmic:{id:"gradient-cosmic",stops:[{offset:"0%",color:"#a855f7"},{offset:"50%",color:"#7c3aed"},{offset:"100%",color:"#4c1d95"}]},muscleMap:{id:"gradient-musclemap",stops:[{offset:"0%",color:"#60a5fa"},{offset:"50%",color:"#a855f7"},{offset:"100%",color:"#ec4899"}]},muscleHeat:{id:"gradient-muscle-heat",stops:[{offset:"0%",color:"#3b82f6"},{offset:"25%",color:"#22c55e"},{offset:"50%",color:"#eab308"},{offset:"75%",color:"#f97316"},{offset:"100%",color:"#ef4444"}]},steel:{id:"gradient-steel",stops:[{offset:"0%",color:"#94a3b8"},{offset:"30%",color:"#cbd5e1"},{offset:"50%",color:"#f1f5f9"},{offset:"70%",color:"#cbd5e1"},{offset:"100%",color:"#64748b"}]},gold:{id:"gradient-gold",stops:[{offset:"0%",color:"#92400e"},{offset:"30%",color:"#f59e0b"},{offset:"50%",color:"#fcd34d"},{offset:"70%",color:"#f59e0b"},{offset:"100%",color:"#78350f"}]}};function st(t){let e=t.select("defs");return e.empty()&&(e=t.append("defs")),e}function bt(t,e){const a=st(t);a.select(`#${e.id}`).remove();const n=a.append("linearGradient").attr("id",e.id).attr("x1",e.x1||"0%").attr("y1",e.y1||"0%").attr("x2",e.x2||"100%").attr("y2",e.y2||"0%");return e.stops.forEach(d=>{n.append("stop").attr("offset",d.offset).attr("stop-color",d.color).attr("stop-opacity",d.opacity??1)}),`url(#${e.id})`}function Fe(t,e){const a=st(t);a.select(`#${e.id}`).remove();const n=a.append("radialGradient").attr("id",e.id).attr("cx",e.cx||"50%").attr("cy",e.cy||"50%").attr("r",e.r||"50%");return e.fx&&n.attr("fx",e.fx),e.fy&&n.attr("fy",e.fy),e.stops.forEach(d=>{n.append("stop").attr("offset",d.offset).attr("stop-color",d.color).attr("stop-opacity",d.opacity??1)}),`url(#${e.id})`}function Oe(t,e={}){const{id:a="glow-filter",color:n="#3b82f6",blur:d=10,intensity:h=3}=e,x=st(t);x.select(`#${a}`).remove();const m=x.append("filter").attr("id",a).attr("x","-50%").attr("y","-50%").attr("width","200%").attr("height","200%");m.append("feFlood").attr("result","flood").attr("flood-color",n).attr("flood-opacity","1"),m.append("feComposite").attr("in","flood").attr("in2","SourceGraphic").attr("operator","in").attr("result","mask"),m.append("feGaussianBlur").attr("in","mask").attr("stdDeviation",d).attr("result","blur");const v=m.append("feMerge");for(let w=0;w<h;w++)v.append("feMergeNode").attr("in","blur");return v.append("feMergeNode").attr("in","SourceGraphic"),`url(#${a})`}function Ie(t,e={}){const{id:a="drop-shadow",dx:n=2,dy:d=4,blur:h=6,opacity:x=.3,color:m="#000000"}=e,v=st(t);return v.select(`#${a}`).remove(),v.append("filter").attr("id",a).attr("x","-50%").attr("y","-50%").attr("width","200%").attr("height","200%").append("feDropShadow").attr("dx",n).attr("dy",d).attr("stdDeviation",h).attr("flood-color",m).attr("flood-opacity",x),`url(#${a})`}function _e(t,e={}){const{id:a="glass-filter",blur:n=10,saturation:d=1.5}=e,h=st(t);h.select(`#${a}`).remove();const x=h.append("filter").attr("id",a).attr("x","-10%").attr("y","-10%").attr("width","120%").attr("height","120%");return x.append("feGaussianBlur").attr("in","SourceGraphic").attr("stdDeviation",n).attr("result","blur"),x.append("feColorMatrix").attr("in","blur").attr("type","saturate").attr("values",d).attr("result","saturated"),x.append("feBlend").attr("in","saturated").attr("in2","SourceGraphic").attr("mode","normal"),`url(#${a})`}function ae(){return At(Rt(["#3b82f6","#22c55e","#eab308","#f97316","#ef4444"]))}function qe(t="#3b82f6"){const e=tt(t),a=tt(e.h,e.s*.6,e.l*.4),n=tt(e.h,e.s,Math.min(e.l*1.4,.9));return nt().domain([0,50,100]).range([a.formatHsl(),t,n.formatHsl()])}function Be(t,e=6){const a=tt(t),n=[];for(let d=0;d<e;d++){const h=(a.h+360/e*d)%360;n.push(tt(h,a.s,a.l).formatHex())}return n}function Ze(t){const e=tt(t);return tt((e.h+180)%360,e.s,e.l).formatHex()}function He(t,e=.2){const a=tt(t);return a.l=Math.min(1,a.l+e),a.formatHex()}function We(t,e=.2){const a=tt(t);return a.l=Math.max(0,a.l-e),a.formatHex()}function Ue(t,e){const a=Et(t);return`rgba(${a.r}, ${a.g}, ${a.b}, ${e})`}const oe={front:{"sternocleidomastoid-left":{id:"sternocleidomastoid-left",name:"Sternocleidomastoid",group:"neck",path:"M 145 90 Q 140 100 138 115 Q 136 130 140 140 L 145 138 Q 147 125 148 110 Q 149 95 145 90 Z",labelPosition:{x:130,y:115}},"sternocleidomastoid-right":{id:"sternocleidomastoid-right",name:"Sternocleidomastoid",group:"neck",path:"M 155 90 Q 160 100 162 115 Q 164 130 160 140 L 155 138 Q 153 125 152 110 Q 151 95 155 90 Z",labelPosition:{x:170,y:115}},"deltoid-anterior-left":{id:"deltoid-anterior-left",name:"Deltoid (Anterior)",group:"shoulders",path:"M 108 145 Q 95 150 88 165 Q 82 180 85 195 L 100 190 Q 105 175 108 160 Q 112 150 108 145 Z",labelPosition:{x:85,y:170}},"deltoid-anterior-right":{id:"deltoid-anterior-right",name:"Deltoid (Anterior)",group:"shoulders",path:"M 192 145 Q 205 150 212 165 Q 218 180 215 195 L 200 190 Q 195 175 192 160 Q 188 150 192 145 Z",labelPosition:{x:215,y:170}},"pectoralis-major-left":{id:"pectoralis-major-left",name:"Pectoralis Major",group:"chest",path:"M 110 150 Q 125 148 145 150 Q 148 165 148 185 Q 145 200 130 205 Q 105 200 100 185 Q 98 170 110 150 Z",labelPosition:{x:120,y:175}},"pectoralis-major-right":{id:"pectoralis-major-right",name:"Pectoralis Major",group:"chest",path:"M 190 150 Q 175 148 155 150 Q 152 165 152 185 Q 155 200 170 205 Q 195 200 200 185 Q 202 170 190 150 Z",labelPosition:{x:180,y:175}},"biceps-brachii-left":{id:"biceps-brachii-left",name:"Biceps Brachii",group:"arms",path:"M 85 200 Q 78 210 75 230 Q 73 250 76 270 Q 80 280 88 280 Q 95 275 95 260 Q 94 240 92 220 Q 90 205 85 200 Z",labelPosition:{x:70,y:240}},"biceps-brachii-right":{id:"biceps-brachii-right",name:"Biceps Brachii",group:"arms",path:"M 215 200 Q 222 210 225 230 Q 227 250 224 270 Q 220 280 212 280 Q 205 275 205 260 Q 206 240 208 220 Q 210 205 215 200 Z",labelPosition:{x:230,y:240}},"brachioradialis-left":{id:"brachioradialis-left",name:"Brachioradialis",group:"forearms",path:"M 76 280 Q 70 295 68 320 Q 67 345 70 360 L 80 358 Q 82 340 82 315 Q 82 295 76 280 Z",labelPosition:{x:55,y:320}},"brachioradialis-right":{id:"brachioradialis-right",name:"Brachioradialis",group:"forearms",path:"M 224 280 Q 230 295 232 320 Q 233 345 230 360 L 220 358 Q 218 340 218 315 Q 218 295 224 280 Z",labelPosition:{x:245,y:320}},"rectus-abdominis":{id:"rectus-abdominis",name:"Rectus Abdominis",group:"core",path:"M 135 210 Q 145 208 155 208 Q 165 210 165 210 L 168 280 Q 165 320 160 340 L 155 340 L 150 340 L 145 340 L 140 340 Q 135 320 132 280 L 135 210 Z",labelPosition:{x:150,y:275}},"external-oblique-left":{id:"external-oblique-left",name:"External Oblique",group:"core",path:"M 100 210 Q 108 220 118 230 Q 125 250 128 280 L 132 280 Q 128 250 122 220 Q 115 200 100 195 Z",labelPosition:{x:100,y:245}},"external-oblique-right":{id:"external-oblique-right",name:"External Oblique",group:"core",path:"M 200 210 Q 192 220 182 230 Q 175 250 172 280 L 168 280 Q 172 250 178 220 Q 185 200 200 195 Z",labelPosition:{x:200,y:245}},"quadriceps-left":{id:"quadriceps-left",name:"Quadriceps",group:"legs",path:"M 118 350 Q 108 380 105 420 Q 103 460 108 490 Q 115 500 125 500 Q 135 495 140 480 Q 142 440 138 400 Q 134 370 130 350 Z",labelPosition:{x:100,y:420}},"quadriceps-right":{id:"quadriceps-right",name:"Quadriceps",group:"legs",path:"M 182 350 Q 192 380 195 420 Q 197 460 192 490 Q 185 500 175 500 Q 165 495 160 480 Q 158 440 162 400 Q 166 370 170 350 Z",labelPosition:{x:200,y:420}},"adductors-left":{id:"adductors-left",name:"Adductors",group:"legs",path:"M 130 355 Q 138 370 142 400 Q 145 430 142 460 L 135 455 Q 132 425 132 395 Q 132 370 130 355 Z",labelPosition:{x:138,y:410}},"adductors-right":{id:"adductors-right",name:"Adductors",group:"legs",path:"M 170 355 Q 162 370 158 400 Q 155 430 158 460 L 165 455 Q 168 425 168 395 Q 168 370 170 355 Z",labelPosition:{x:162,y:410}},"tibialis-anterior-left":{id:"tibialis-anterior-left",name:"Tibialis Anterior",group:"calves",path:"M 112 510 Q 108 540 108 580 Q 109 620 115 650 L 125 648 Q 125 615 124 580 Q 123 545 118 510 Z",labelPosition:{x:95,y:580}},"tibialis-anterior-right":{id:"tibialis-anterior-right",name:"Tibialis Anterior",group:"calves",path:"M 188 510 Q 192 540 192 580 Q 191 620 185 650 L 175 648 Q 175 615 176 580 Q 177 545 182 510 Z",labelPosition:{x:205,y:580}}},back:{"trapezius-upper":{id:"trapezius-upper",name:"Trapezius (Upper)",group:"back",path:"M 150 95 Q 130 100 115 115 Q 108 130 112 145 L 150 140 L 188 145 Q 192 130 185 115 Q 170 100 150 95 Z",labelPosition:{x:150,y:120}},"deltoid-posterior-left":{id:"deltoid-posterior-left",name:"Deltoid (Posterior)",group:"shoulders",path:"M 112 145 Q 98 155 90 175 Q 85 195 90 210 L 105 205 Q 110 185 112 165 Q 115 150 112 145 Z",labelPosition:{x:85,y:178}},"deltoid-posterior-right":{id:"deltoid-posterior-right",name:"Deltoid (Posterior)",group:"shoulders",path:"M 188 145 Q 202 155 210 175 Q 215 195 210 210 L 195 205 Q 190 185 188 165 Q 185 150 188 145 Z",labelPosition:{x:215,y:178}},"trapezius-middle":{id:"trapezius-middle",name:"Trapezius (Middle)",group:"back",path:"M 120 150 Q 135 155 150 155 Q 165 155 180 150 L 182 175 Q 165 180 150 180 Q 135 180 118 175 Z",labelPosition:{x:150,y:165}},"latissimus-dorsi-left":{id:"latissimus-dorsi-left",name:"Latissimus Dorsi",group:"back",path:"M 105 180 Q 95 200 92 230 Q 90 260 95 290 Q 105 310 120 320 Q 130 310 135 290 Q 140 260 138 230 Q 135 200 130 175 Q 118 178 105 180 Z",labelPosition:{x:100,y:250}},"latissimus-dorsi-right":{id:"latissimus-dorsi-right",name:"Latissimus Dorsi",group:"back",path:"M 195 180 Q 205 200 208 230 Q 210 260 205 290 Q 195 310 180 320 Q 170 310 165 290 Q 160 260 162 230 Q 165 200 170 175 Q 182 178 195 180 Z",labelPosition:{x:200,y:250}},"erector-spinae":{id:"erector-spinae",name:"Erector Spinae",group:"back",path:"M 140 180 Q 145 175 150 175 Q 155 175 160 180 L 162 290 Q 158 320 155 340 L 150 345 L 145 340 Q 142 320 138 290 Z",labelPosition:{x:150,y:260}},"triceps-brachii-left":{id:"triceps-brachii-left",name:"Triceps Brachii",group:"arms",path:"M 90 210 Q 82 225 78 250 Q 76 275 80 295 Q 88 305 96 300 Q 102 285 102 260 Q 100 235 95 215 Q 92 210 90 210 Z",labelPosition:{x:70,y:255}},"triceps-brachii-right":{id:"triceps-brachii-right",name:"Triceps Brachii",group:"arms",path:"M 210 210 Q 218 225 222 250 Q 224 275 220 295 Q 212 305 204 300 Q 198 285 198 260 Q 200 235 205 215 Q 208 210 210 210 Z",labelPosition:{x:230,y:255}},"gluteus-maximus-left":{id:"gluteus-maximus-left",name:"Gluteus Maximus",group:"glutes",path:"M 115 330 Q 100 340 95 365 Q 92 390 100 410 Q 115 420 130 415 Q 145 405 148 380 Q 150 355 145 335 Q 135 325 115 330 Z",labelPosition:{x:110,y:375}},"gluteus-maximus-right":{id:"gluteus-maximus-right",name:"Gluteus Maximus",group:"glutes",path:"M 185 330 Q 200 340 205 365 Q 208 390 200 410 Q 185 420 170 415 Q 155 405 152 380 Q 150 355 155 335 Q 165 325 185 330 Z",labelPosition:{x:190,y:375}},"hamstrings-left":{id:"hamstrings-left",name:"Hamstrings",group:"legs",path:"M 105 420 Q 100 450 100 490 Q 102 530 110 560 Q 120 570 130 565 Q 140 550 140 510 Q 138 470 132 430 Q 125 415 105 420 Z",labelPosition:{x:95,y:490}},"hamstrings-right":{id:"hamstrings-right",name:"Hamstrings",group:"legs",path:"M 195 420 Q 200 450 200 490 Q 198 530 190 560 Q 180 570 170 565 Q 160 550 160 510 Q 162 470 168 430 Q 175 415 195 420 Z",labelPosition:{x:205,y:490}},"gastrocnemius-left":{id:"gastrocnemius-left",name:"Gastrocnemius",group:"calves",path:"M 110 570 Q 105 590 105 620 Q 106 650 115 680 Q 122 690 130 685 Q 138 670 138 640 Q 136 605 128 575 Q 120 565 110 570 Z",labelPosition:{x:95,y:625}},"gastrocnemius-right":{id:"gastrocnemius-right",name:"Gastrocnemius",group:"calves",path:"M 190 570 Q 195 590 195 620 Q 194 650 185 680 Q 178 690 170 685 Q 162 670 162 640 Q 164 605 172 575 Q 180 565 190 570 Z",labelPosition:{x:205,y:625}}}},ht={neck:"#9333ea",shoulders:"#f59e0b",chest:"#ef4444",arms:"#3b82f6",forearms:"#22c55e",core:"#ec4899",back:"#8b5cf6",glutes:"#f97316",legs:"#06b6d4",calves:"#14b8a6"};function Ye({activations:t=[],onMuscleClick:e,onMuscleHover:a,view:n="front",showLabels:d=!1,interactive:h=!0,animated:x=!0,height:m=700,className:v=""}){const w=f.useRef(null),[k,A]=f.useState(null),R=f.useMemo(()=>{const Q={};return t.forEach(_=>{Q[_.muscleId]={activation:_.activation,isPrimary:_.isPrimary||!1}}),Q},[t]),M=f.useMemo(()=>{const Q=oe[n];return Object.values(Q).map(_=>({..._,activation:R[_.id]?.activation||0,isPrimary:R[_.id]?.isPrimary||!1}))},[n,R]),P=f.useMemo(()=>ae(),[]),C=f.useCallback((Q,_)=>{h&&(_==="hover"?(A(Q.id),a?.(Q)):e?.(Q))},[h,e,a]);return f.useEffect(()=>{if(!w.current)return;const Q=H(w.current),_=300,U=m;Q.selectAll("*").remove(),Q.attr("viewBox",`0 0 ${_} ${U}`).attr("preserveAspectRatio","xMidYMid meet");const q=Q.append("defs");[.25,.5,.75,1].forEach(u=>{const b=q.append("filter").attr("id",`muscle-glow-${u*100}`).attr("x","-50%").attr("y","-50%").attr("width","200%").attr("height","200%");b.append("feGaussianBlur").attr("in","SourceGraphic").attr("stdDeviation",3+u*5).attr("result","blur");const j=b.append("feMerge");for(let r=0;r<Math.ceil(u*3);r++)j.append("feMergeNode").attr("in","blur");j.append("feMergeNode").attr("in","SourceGraphic")}),bt(Q,{id:"body-outline-gradient",y1:"0%",y2:"100%",stops:[{offset:"0%",color:"#475569",opacity:.6},{offset:"100%",color:"#1e293b",opacity:.4}]}),Q.append("rect").attr("width",_).attr("height",U).attr("fill","transparent"),Q.append("path").attr("d","M 150 30 Q 130 35 125 55 Q 120 70 125 85 Q 130 95 140 100 L 140 105 Q 115 115 105 140 Q 85 145 78 165 Q 68 195 70 230 Q 72 280 75 320 Q 78 365 85 400 L 95 400 Q 100 360 102 320 Q 105 345 100 360 L 110 365 Q 120 345 115 320 Q 112 290 112 260 Q 115 320 115 350 Q 95 355 90 400 Q 88 460 95 510 Q 98 560 95 620 Q 92 680 105 720 L 120 720 Q 128 680 125 630 Q 122 580 125 530 Q 130 480 135 440 L 140 360 L 145 360 L 150 440 L 155 360 L 160 360 L 165 440 Q 170 480 175 530 Q 178 580 175 630 Q 172 680 180 720 L 195 720 Q 208 680 205 620 Q 202 560 205 510 Q 212 460 210 400 Q 205 355 185 350 Q 185 320 188 260 Q 188 290 185 320 Q 180 345 190 365 L 200 360 Q 195 345 198 320 Q 200 360 205 400 L 215 400 Q 222 365 225 320 Q 228 280 230 230 Q 232 195 222 165 Q 215 145 195 140 Q 185 115 160 105 L 160 100 Q 170 95 175 85 Q 180 70 175 55 Q 170 35 150 30 Z").attr("fill","url(#body-outline-gradient)").attr("stroke","rgba(100, 116, 139, 0.3)").attr("stroke-width",1);const g=Q.append("g").attr("class","muscles").selectAll("path.muscle").data(M).enter().append("path").attr("class","muscle").attr("d",u=>u.path).attr("fill",u=>u.activation>0?P(u.activation):ht[u.group]||"#4b5563").attr("fill-opacity",u=>u.activation>0?.7+u.activation*.3:.3).attr("stroke",u=>u.activation>0?P(u.activation):ht[u.group]||"#6b7280").attr("stroke-width",u=>u.isPrimary?2:1).attr("stroke-opacity",.8).style("cursor",h?"pointer":"default").style("filter",u=>u.activation>.75?"url(#muscle-glow-100)":u.activation>.5?"url(#muscle-glow-75)":u.activation>.25?"url(#muscle-glow-50)":u.activation>0?"url(#muscle-glow-25)":"none");if(x&&g.attr("opacity",0).attr("transform","scale(0.95)").transition().duration(500).delay((u,b)=>b*30).ease(E.cubic).attr("opacity",1).attr("transform","scale(1)"),h&&g.on("mouseenter",function(u,b){H(this).transition().duration(200).attr("fill-opacity",1).attr("stroke-width",3).style("filter","url(#muscle-glow-100)"),C(b,"hover")}).on("mouseleave",function(u,b){H(this).transition().duration(200).attr("fill-opacity",b.activation>0?.7+b.activation*.3:.3).attr("stroke-width",b.isPrimary?2:1).style("filter",()=>b.activation>.75?"url(#muscle-glow-100)":b.activation>.5?"url(#muscle-glow-75)":b.activation>.25?"url(#muscle-glow-50)":b.activation>0?"url(#muscle-glow-25)":"none"),A(null),a?.(null)}).on("click",function(u,b){H(this).transition().duration(100).attr("transform","scale(1.05)").transition().duration(100).attr("transform","scale(1)"),C(b,"click")}),d){const u=Q.append("g").attr("class","labels");M.forEach(b=>{(b.activation>0||k===b.id)&&u.append("text").attr("x",b.labelPosition.x).attr("y",b.labelPosition.y).attr("fill","white").attr("font-size","8px").attr("font-weight","bold").attr("text-anchor","middle").attr("dominant-baseline","middle").attr("opacity",0).text(b.name).transition().duration(300).attr("opacity",.9)})}if(x&&M.filter(b=>b.activation>.5).length>0){const b=()=>{g.filter(j=>j.activation>.5).transition().duration(1e3).ease(E.sin).attr("fill-opacity",j=>.6+j.activation*.2).transition().duration(1e3).ease(E.sin).attr("fill-opacity",j=>.8+j.activation*.2).on("end",b)};b()}},[M,n,P,d,h,x,m,k,C,a]),i.jsxs(et,{height:m,className:v,noPadding:!0,glassmorphism:!1,children:[i.jsx("svg",{ref:w,className:"w-full h-full",style:{maxHeight:m}}),k&&h&&i.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 px-4 py-2 rounded-xl bg-black/80 backdrop-blur-sm border border-white/20 shadow-xl",children:[i.jsx("div",{className:"text-white font-semibold text-sm",children:M.find(Q=>Q.id===k)?.name}),R[k]?.activation>0&&i.jsxs("div",{className:"text-xs mt-1",children:[i.jsx("span",{className:"text-gray-400",children:"Activation: "}),i.jsxs("span",{style:{color:P(R[k].activation)},className:"font-bold",children:[Math.round(R[k].activation*100),"%"]})]})]})]})}const se={core:"#3b82f6",community:"#22c55e",account:"#f59e0b",health:"#ec4899",docs:"#8b5cf6",issues:"#ef4444",admin:"#dc2626",default:"#64748b"},mt={core:"M13 10V3L4 14h7v7l9-11h-7z",community:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2M9 7a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM23 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75",account:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2M12 3a4 4 0 1 0 0 8 4 4 0 0 0 0-8z",health:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z",docs:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z",issues:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z",admin:"M12 15v2m-6 4h12a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2zm10-10V7a4 4 0 0 0-8 0v4h8z",default:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"},ne=t=>({dashboard:"hexagon",workout:"rounded-square",profile:"hexagon",settings:"diamond",community:"hexagon",docs:"rounded-square",landing:"hexagon",issues:"diamond",roadmap:"rounded-square"})[t]||"circle";function ie({nodes:t,edges:e,onNodeClick:a,onNodeHover:n,height:d=600,width:h="100%",className:x="",nodeRadius:m=20,linkDistance:v=100,chargeStrength:w=-300,centerStrength:k=.05,clusterStrength:A=.5,showLabels:R=!0,animated:M=!0,interactive:P=!0,categoryColors:C=se}){const Q=f.useRef(null),_=f.useRef(null),U=f.useRef(null),[q,l]=f.useState(null),[c,g]=f.useState({width:800,height:600}),u=f.useCallback(r=>r.color?r.color:C[r.category||"default"]||C.default,[C]),b=f.useMemo(()=>{const r=new Set;return t.forEach(G=>{G.category&&r.add(G.category)}),Array.from(r)},[t]),j=f.useMemo(()=>{const r={},G=2*Math.PI/b.length,I=Math.min(c.width,c.height)*.3;return b.forEach((Y,z)=>{const Z=G*z-Math.PI/2;r[Y]={x:c.width/2+I*Math.cos(Z),y:c.height/2+I*Math.sin(Z)}}),r},[b,c]);return f.useEffect(()=>{if(!Q.current)return;const r=new ResizeObserver(G=>{for(const I of G)g({width:I.contentRect.width,height:I.contentRect.height})});return r.observe(Q.current),()=>r.disconnect()},[]),f.useEffect(()=>{if(!_.current||c.width===0)return;const r=H(_.current),{width:G,height:I}=c;r.selectAll("*").remove(),r.attr("width",G).attr("height",I).attr("viewBox",`0 0 ${G} ${I}`);const Y=r.append("defs");["blue","green","amber","pink","purple","red"].forEach((s,y)=>{const $={blue:"#3b82f6",green:"#22c55e",amber:"#f59e0b",pink:"#ec4899",purple:"#8b5cf6",red:"#ef4444"},O=Y.append("filter").attr("id",`node-glow-${s}`).attr("x","-100%").attr("y","-100%").attr("width","300%").attr("height","300%");O.append("feGaussianBlur").attr("in","SourceGraphic").attr("stdDeviation",8).attr("result","blur"),O.append("feFlood").attr("flood-color",$[s]).attr("flood-opacity","0.5").attr("result","color"),O.append("feComposite").attr("in","color").attr("in2","blur").attr("operator","in").attr("result","glow");const N=O.append("feMerge");N.append("feMergeNode").attr("in","glow"),N.append("feMergeNode").attr("in","glow"),N.append("feMergeNode").attr("in","SourceGraphic")}),bt(r,{id:"edge-gradient",stops:[{offset:"0%",color:"#6366f1",opacity:.6},{offset:"100%",color:"#8b5cf6",opacity:.3}]});const z=gt().scaleExtent([.3,3]).on("zoom",s=>{Z.attr("transform",s.transform)});r.call(z);const Z=r.append("g").attr("class","graph-container"),T=t.map(s=>({...s})),B=e.map(s=>({source:s.source,target:s.target,weight:s.weight,label:s.label,style:s.style})),D=Ct(T).force("link",zt(B).id(s=>s.id).distance(v)).force("charge",Gt().strength(w)).force("center",Tt(G/2,I/2).strength(k)).force("collision",Dt().radius(s=>(s.size||m)+10)).force("cluster",s=>{T.forEach(y=>{if(y.category&&j[y.category]){const $=j[y.category],O=$.x-(y.x||0),N=$.y-(y.y||0);y.vx=(y.vx||0)+O*s*A,y.vy=(y.vy||0)+N*s*A}})});U.current=D;const L=Z.append("g").attr("class","edges").selectAll("line").data(B).enter().append("line").attr("stroke","url(#edge-gradient)").attr("stroke-width",s=>(s.weight||1)*1.5).attr("stroke-dasharray",s=>{switch(s.style){case"dashed":return"8 4";case"dotted":return"2 4";default:return"none"}}).attr("opacity",0);M?L.transition().duration(500).delay(300).attr("opacity",1):L.attr("opacity",1);const o=Z.append("g").attr("class","nodes").selectAll("g.node").data(T).enter().append("g").attr("class","node").style("cursor",P?"pointer":"default");if((s=>{s.each(function(y){const $=H(this),O=y.size||m,N=u(y),S=rt(N)?.brighter(.5)?.formatHex()||"#fff",V=ne(y.id);switch($.append("circle").attr("r",O*1.3).attr("fill",N).attr("opacity",.15).attr("class","node-glow"),V){case"hexagon":{const K=[];for(let at=0;at<6;at++){const dt=(at*60-30)*Math.PI/180;K.push([O*Math.cos(dt),O*Math.sin(dt)])}$.append("polygon").attr("points",K.map(at=>at.join(",")).join(" ")).attr("fill",N).attr("stroke",S).attr("stroke-width",2).attr("class","node-shape").attr("opacity",0);break}case"rounded-square":{$.append("rect").attr("x",-O*.8).attr("y",-O*.8).attr("width",O*1.6).attr("height",O*1.6).attr("rx",O*.3).attr("ry",O*.3).attr("fill",N).attr("stroke",S).attr("stroke-width",2).attr("class","node-shape").attr("opacity",0);break}case"diamond":{const K=O*1.1;$.append("polygon").attr("points",`0,${-K} ${K},0 0,${K} ${-K},0`).attr("fill",N).attr("stroke",S).attr("stroke-width",2).attr("class","node-shape").attr("opacity",0);break}default:$.append("circle").attr("r",O).attr("fill",N).attr("stroke",S).attr("stroke-width",2).attr("class","node-shape").attr("opacity",0)}const W=mt[y.category||"default"]||mt.default,J=O*.8;$.append("g").attr("class","node-icon").attr("transform",`translate(${-J/2}, ${-J/2}) scale(${J/24})`).append("path").attr("d",W).attr("fill","none").attr("stroke","white").attr("stroke-width",2).attr("stroke-linecap","round").attr("stroke-linejoin","round").attr("opacity",0)})})(o),M?(o.select(".node-shape").transition().duration(500).delay((s,y)=>y*20).ease(E.back).attr("opacity",1),o.select(".node-icon path").transition().duration(400).delay((s,y)=>150+y*20).attr("opacity",.9)):(o.select(".node-shape").attr("opacity",1),o.select(".node-icon path").attr("opacity",.9)),R){const s=o.append("text").text(y=>y.label).attr("text-anchor","middle").attr("dy",y=>(y.size||m)+15).attr("fill","white").attr("font-size","11px").attr("font-weight","500").attr("opacity",0).attr("pointer-events","none").style("text-shadow","0 2px 4px rgba(0,0,0,0.5)");M?s.transition().duration(500).delay((y,$)=>200+$*20).attr("opacity",.9):s.attr("opacity",.9)}if(P){let s=null,y=!1;const $=5,O=Ft().on("start",(N,S)=>{s={x:N.x,y:N.y},y=!1,N.active||D.alphaTarget(.3).restart(),S.fx=S.x,S.fy=S.y}).on("drag",(N,S)=>{if(s){const V=N.x-s.x,W=N.y-s.y;Math.sqrt(V*V+W*W)>$&&(y=!0)}S.fx=N.x,S.fy=N.y}).on("end",(N,S)=>{N.active||D.alphaTarget(0),S.fx=null,S.fy=null,!y&&a&&a(S),s=null,y=!1});o.call(O),o.on("mouseenter",function(N,S){const V=le(u(S));S.size,H(this).transition().duration(200).attr("transform",function(){const W=H(this).attr("transform"),J=W?.match(/translate\(([^,]+),\s*([^)]+)\)/);return J?`translate(${J[1]}, ${J[2]}) scale(1.15)`:W}),H(this).select(".node-shape").style("filter",`url(#node-glow-${V})`),H(this).select(".node-glow").transition().duration(200).attr("opacity",.3),L.transition().duration(200).attr("opacity",W=>{const J=typeof W.source=="object"?W.source.id:W.source,K=typeof W.target=="object"?W.target.id:W.target;return J===S.id||K===S.id?1:.2}).attr("stroke-width",W=>{const J=typeof W.source=="object"?W.source.id:W.source,K=typeof W.target=="object"?W.target.id:W.target;return J===S.id||K===S.id?3:1}),l(S.id),n?.(S)}).on("mouseleave",function(N,S){H(this).transition().duration(200).attr("transform",`translate(${S.x||0}, ${S.y||0})`),H(this).select(".node-shape").style("filter","none"),H(this).select(".node-glow").transition().duration(200).attr("opacity",.15),L.transition().duration(200).attr("opacity",1).attr("stroke-width",V=>(V.weight||1)*1.5),l(null),n?.(null)}).on("click",(N,S)=>{N.sourceEvent?.type?.startsWith("touch")||(N.stopPropagation(),a?.(S))})}return D.on("tick",()=>{L.attr("x1",s=>s.source.x||0).attr("y1",s=>s.source.y||0).attr("x2",s=>s.target.x||0).attr("y2",s=>s.target.y||0),o.attr("transform",s=>`translate(${s.x||0}, ${s.y||0})`)}),D.alpha(1).restart(),()=>{D.stop()}},[t,e,c,m,v,w,k,A,j,R,M,P,u,a,n]),i.jsxs(et,{height:d,className:x,noPadding:!0,children:[i.jsx("div",{ref:Q,className:"w-full h-full",style:{height:d},children:i.jsx("svg",{ref:_,className:"w-full h-full"})}),q&&P&&i.jsxs("div",{className:"absolute top-4 right-4 px-4 py-3 rounded-xl bg-black/80 backdrop-blur-sm border border-white/20 shadow-xl max-w-xs",children:[i.jsx("div",{className:"text-white font-semibold",children:t.find(r=>r.id===q)?.label}),t.find(r=>r.id===q)?.description&&i.jsx("p",{className:"text-sm text-gray-400 mt-1",children:t.find(r=>r.id===q)?.description}),i.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Click to navigate"})]})]})}function le(t){return{"#3b82f6":"blue","#22c55e":"green","#f59e0b":"amber","#ec4899":"pink","#8b5cf6":"purple","#ef4444":"red"}[t]||"blue"}const ce={strength:"#FF3366",constitution:"#00CC66",dexterity:"#FFB800",power:"#FF6B00",endurance:"#0066FF",vitality:"#9333EA"};function Xe({axes:t,series:e,onAxisClick:a,onAxisHover:n,height:d=400,width:h="100%",className:x="",levels:m=5,maxValue:v=100,showLegend:w=!0,showValues:k=!0,animated:A=!0,interactive:R=!0,pulsing:M=!0}){const P=f.useRef(null),C=f.useRef(null),[Q,_]=f.useState(null),[U,q]=f.useState({width:400,height:400});f.useEffect(()=>{if(!C.current)return;const c=new ResizeObserver(g=>{for(const u of g){const b=Math.min(u.contentRect.width,u.contentRect.height);q({width:b,height:b})}});return c.observe(C.current),()=>c.disconnect()},[]);const l=f.useMemo(()=>{let c=v;return e.forEach(g=>{t.forEach(u=>{const b=g.data[u.key]||0;b>c&&(c=b)})}),Math.ceil(c/10)*10},[e,t,v]);return f.useEffect(()=>{if(!P.current||U.width===0)return;const c=H(P.current),{width:g,height:u}=U,b=g/2,j=u/2,r=Math.min(g,u)*.35;c.selectAll("*").remove(),c.attr("width",g).attr("height",u).attr("viewBox",`0 0 ${g} ${u}`);const G=c.append("defs");e.forEach((L,F)=>{const o=G.append("radialGradient").attr("id",`radar-gradient-${F}`).attr("cx","50%").attr("cy","50%").attr("r","70%");o.append("stop").attr("offset","0%").attr("stop-color",L.color).attr("stop-opacity",(L.fillOpacity||.4)*1.5),o.append("stop").attr("offset","100%").attr("stop-color",L.color).attr("stop-opacity",L.fillOpacity||.4)});const I=G.append("filter").attr("id","radar-glow").attr("x","-50%").attr("y","-50%").attr("width","200%").attr("height","200%");I.append("feGaussianBlur").attr("in","SourceGraphic").attr("stdDeviation",4).attr("result","blur");const Y=I.append("feMerge");Y.append("feMergeNode").attr("in","blur"),Y.append("feMergeNode").attr("in","SourceGraphic");const z=c.append("g").attr("transform",`translate(${b}, ${j})`),Z=2*Math.PI/t.length,T=nt().domain([0,l]).range([0,r]),B=z.append("g").attr("class","levels");for(let L=1;L<=m;L++){const F=r/m*L,o=l/m*L,p=[];t.forEach((s,y)=>{const $=Z*y-Math.PI/2,O=F*Math.cos($),N=F*Math.sin($);p.push(`${O},${N}`)}),B.append("polygon").attr("points",p.join(" ")).attr("fill","none").attr("stroke",`rgba(255, 255, 255, ${.05+L/m*.1})`).attr("stroke-width",1),k&&B.append("text").attr("x",5).attr("y",-F).attr("fill","rgba(255, 255, 255, 0.4)").attr("font-size","10px").text(Math.round(o))}const D=z.append("g").attr("class","axes");t.forEach((L,F)=>{const o=Z*F-Math.PI/2,p=r*Math.cos(o),s=r*Math.sin(o),y=L.color||ce[L.key]||"#6366f1",$=D.append("line").attr("x1",0).attr("y1",0).attr("x2",p).attr("y2",s).attr("stroke","rgba(255, 255, 255, 0.15)").attr("stroke-width",1),O=r+30,N=O*Math.cos(o),S=O*Math.sin(o),V=D.append("text").attr("x",N).attr("y",S).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("fill",y).attr("font-size","12px").attr("font-weight","bold").attr("cursor",R?"pointer":"default").text(L.label);R&&D.append("circle").attr("cx",N).attr("cy",S).attr("r",20).attr("fill","transparent").attr("cursor","pointer").on("mouseenter",()=>{V.transition().duration(200).attr("font-size","14px").attr("fill",rt(y)?.brighter(.5)?.formatHex()||y),$.transition().duration(200).attr("stroke",y).attr("stroke-width",2),_(L.key),n?.(L)}).on("mouseleave",()=>{V.transition().duration(200).attr("font-size","12px").attr("fill",y),$.transition().duration(200).attr("stroke","rgba(255, 255, 255, 0.15)").attr("stroke-width",1),_(null),n?.(null)}).on("click",()=>{a?.(L)})});const X=z.append("g").attr("class","data");e.forEach((L,F)=>{const o=t.map(($,O)=>{const N=L.data[$.key]||0,S=Z*O-Math.PI/2,V=T(N);return{x:V*Math.cos(S),y:V*Math.sin(S),value:N}}),s=Ot().radius($=>T($.value)).angle(($,O)=>O*Z).curve(It)(o.map($=>({value:$.value}))),y=X.append("path").attr("d",s||"").attr("fill",`url(#radar-gradient-${F})`).attr("stroke",L.color).attr("stroke-width",2).style("filter","url(#radar-glow)");if(A&&y.attr("opacity",0).attr("transform","scale(0.5)").transition().duration(800).delay(F*200).ease(E.elastic).attr("opacity",1).attr("transform","scale(1)"),M&&A){const $=()=>{y.transition().duration(2e3).ease(E.sin).attr("stroke-width",3).style("filter","url(#radar-glow)").transition().duration(2e3).ease(E.sin).attr("stroke-width",2).on("end",$)};setTimeout($,F*200+800)}o.forEach(($,O)=>{const N=X.append("circle").attr("cx",$.x).attr("cy",$.y).attr("r",5).attr("fill",L.color).attr("stroke","white").attr("stroke-width",2);if(A&&N.attr("r",0).transition().duration(400).delay(F*200+O*50).ease(E.back).attr("r",5),k&&$.value>0){const S=X.append("text").attr("x",$.x).attr("y",$.y-12).attr("text-anchor","middle").attr("fill","white").attr("font-size","10px").attr("font-weight","bold").style("text-shadow","0 2px 4px rgba(0,0,0,0.5)").text(Math.round($.value));A&&S.attr("opacity",0).transition().duration(300).delay(F*200+O*50+200).attr("opacity",1)}R&&N.on("mouseenter",function(){H(this).transition().duration(200).attr("r",8)}).on("mouseleave",function(){H(this).transition().duration(200).attr("r",5)})})})},[t,e,U,m,l,k,A,R,M,a,n]),i.jsxs(et,{height:d,className:x,noPadding:!0,children:[i.jsx("div",{ref:C,className:"w-full h-full flex items-center justify-center",style:{height:d},children:i.jsx("svg",{ref:P})}),w&&e.length>1&&i.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-4 px-4 py-2 rounded-xl bg-black/50 backdrop-blur-sm",children:e.map((c,g)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:c.color}}),i.jsx("span",{className:"text-sm text-white",children:c.name})]},g))}),Q&&R&&i.jsxs("div",{className:"absolute top-4 right-4 px-3 py-2 rounded-lg bg-black/70 backdrop-blur-sm border border-white/20",children:[i.jsx("div",{className:"text-white font-semibold text-sm",children:t.find(c=>c.key===Q)?.label}),i.jsx("div",{className:"text-xs text-gray-400 mt-1",children:e.map((c,g)=>i.jsxs("div",{className:"flex justify-between gap-4",children:[i.jsxs("span",{children:[c.name,":"]}),i.jsx("span",{style:{color:c.color},className:"font-bold",children:Math.round(c.data[Q]||0)})]},g))})]})]})}const de={features:[{type:"Feature",properties:{name:"North America"},geometry:{type:"Polygon",coordinates:[[[-168,65],[-140,70],[-100,75],[-60,60],[-50,45],[-65,45],[-75,35],[-80,25],[-95,20],[-105,20],[-120,35],[-125,40],[-130,55],[-145,60],[-168,65]]]}},{type:"Feature",properties:{name:"South America"},geometry:{type:"Polygon",coordinates:[[[-80,10],[-60,5],[-35,-5],[-40,-20],[-55,-25],[-65,-40],[-70,-55],[-75,-50],[-80,-40],[-75,-20],[-80,-5],[-80,10]]]}},{type:"Feature",properties:{name:"Europe"},geometry:{type:"Polygon",coordinates:[[[-10,35],[0,38],[5,43],[10,45],[20,40],[25,42],[30,45],[40,45],[50,50],[60,55],[50,60],[30,70],[10,70],[-5,60],[-10,50],[-10,35]]]}},{type:"Feature",properties:{name:"Africa"},geometry:{type:"Polygon",coordinates:[[[-15,35],[10,37],[25,32],[35,30],[45,12],[50,2],[40,-10],[35,-25],[25,-35],[15,-35],[10,-30],[5,-5],[-5,5],[-15,15],[-20,20],[-15,35]]]}},{type:"Feature",properties:{name:"Asia"},geometry:{type:"Polygon",coordinates:[[[25,42],[40,45],[60,55],[80,70],[100,75],[140,70],[170,65],[180,60],[145,45],[130,35],[120,25],[110,20],[100,10],[95,5],[80,8],[75,15],[70,25],[65,25],[55,25],[45,35],[35,37],[25,42]]]}},{type:"Feature",properties:{name:"Australia"},geometry:{type:"Polygon",coordinates:[[[115,-20],[120,-18],[130,-12],[140,-12],[150,-25],[155,-30],[150,-38],[140,-40],[130,-35],[120,-35],[115,-30],[115,-20]]]}}]},ue=["#3b82f6","#8b5cf6","#ec4899","#f59e0b","#22c55e"];function Ve({locations:t,connections:e=[],onLocationClick:a,onLocationHover:n,height:d=500,className:h="",projection:x="naturalEarth",showConnections:m=!0,animated:v=!0,interactive:w=!0,markerSizeRange:k=[5,30],colorScheme:A=ue}){const R=f.useRef(null),M=f.useRef(null),[P,C]=f.useState(null),[Q,_]=f.useState({width:800,height:500});f.useEffect(()=>{if(!M.current)return;const l=new ResizeObserver(c=>{for(const g of c)_({width:g.contentRect.width,height:g.contentRect.height})});return l.observe(M.current),()=>l.disconnect()},[]);const U=f.useMemo(()=>{const l=Math.max(...t.map(c=>c.value),1);return _t().domain([0,l]).range(k)},[t,k]),q=f.useMemo(()=>ct().range(A),[A]);return f.useEffect(()=>{if(!R.current||Q.width===0)return;const l=H(R.current),{width:c,height:g}=Q;l.selectAll("*").remove(),l.attr("width",c).attr("height",g).attr("viewBox",`0 0 ${c} ${g}`);let u;switch(x){case"mercator":u=Ht();break;case"orthographic":u=Zt();break;case"equirectangular":u=Bt();break;default:u=qt()}u.scale(c/5.5).translate([c/2,g/2]);const b=Wt().projection(u),j=l.append("defs"),r=j.append("radialGradient").attr("id","ocean-gradient").attr("cx","30%").attr("cy","30%");r.append("stop").attr("offset","0%").attr("stop-color","#1e3a5f").attr("stop-opacity","0.3"),r.append("stop").attr("offset","100%").attr("stop-color","#0a0a1a").attr("stop-opacity","0.8");const G=j.append("filter").attr("id","marker-glow").attr("x","-100%").attr("y","-100%").attr("width","300%").attr("height","300%");G.append("feGaussianBlur").attr("in","SourceGraphic").attr("stdDeviation",5).attr("result","blur");const I=G.append("feMerge");I.append("feMergeNode").attr("in","blur"),I.append("feMergeNode").attr("in","blur"),I.append("feMergeNode").attr("in","SourceGraphic");const Y=l.append("g"),z=gt().scaleExtent([.5,8]).on("zoom",D=>{Y.attr("transform",D.transform)});l.call(z),Y.append("rect").attr("width",c*3).attr("height",g*3).attr("x",-c).attr("y",-g).attr("fill","url(#ocean-gradient)");const Z=Y.append("g").attr("class","land");if(Z.selectAll("path").data(de.features).enter().append("path").attr("d",D=>b(D)||"").attr("fill","rgba(30, 41, 59, 0.8)").attr("stroke","rgba(71, 85, 105, 0.5)").attr("stroke-width",.5),v&&Z.selectAll("path").attr("opacity",0).transition().duration(800).delay((D,X)=>X*100).attr("opacity",1),m&&e.length>0){const D=Y.append("g").attr("class","connections");e.forEach((X,L)=>{const F=t.find(V=>V.id===X.from),o=t.find(V=>V.id===X.to);if(!F||!o)return;const p=u([F.lng,F.lat]),s=u([o.lng,o.lat]);if(!p||!s)return;const y=(p[0]+s[0])/2,$=(p[1]+s[1])/2,N=Math.sqrt(Math.pow(s[0]-p[0],2)+Math.pow(s[1]-p[1],2))*.2,S=D.append("path").attr("d",`M ${p[0]} ${p[1]} Q ${y} ${$-N} ${s[0]} ${s[1]}`).attr("fill","none").attr("stroke","rgba(139, 92, 246, 0.5)").attr("stroke-width",Math.max(1,(X.weight||1)*.5)).attr("stroke-dasharray","4 2");if(v){const V=S.node();if(V){const W=V.getTotalLength();S.attr("stroke-dasharray",`${W} ${W}`).attr("stroke-dashoffset",W).transition().duration(1500).delay(800+L*100).ease(E.smooth).attr("stroke-dashoffset",0).on("end",function(){H(this).attr("stroke-dasharray","4 2")})}}})}const T=Y.append("g").attr("class","markers");[...t].sort((D,X)=>X.value-D.value).forEach((D,X)=>{const L=u([D.lng,D.lat]);if(!L)return;const F=q(D.category||"default"),o=U(D.value),p=T.append("circle").attr("cx",L[0]).attr("cy",L[1]).attr("r",o*1.5).attr("fill",F).attr("opacity",.2).style("filter","url(#marker-glow)"),s=T.append("circle").attr("cx",L[0]).attr("cy",L[1]).attr("r",o).attr("fill",F).attr("stroke","white").attr("stroke-width",2).attr("cursor",w?"pointer":"default").style("filter","url(#marker-glow)");if(D.value>U.domain()[1]*.3&&T.append("text").attr("x",L[0]).attr("y",L[1]+o+15).attr("text-anchor","middle").attr("fill","white").attr("font-size","10px").attr("font-weight","bold").style("text-shadow","0 2px 4px rgba(0,0,0,0.8)").text(D.name),v&&(s.attr("r",0).attr("opacity",0).transition().duration(500).delay(1e3+X*50).ease(E.elastic).attr("r",o).attr("opacity",1),p.attr("r",0).attr("opacity",0).transition().duration(500).delay(1e3+X*50).ease(E.elastic).attr("r",o*1.5).attr("opacity",.2)),v){const y=()=>{p.transition().duration(1500).ease(E.sin).attr("r",o*2).attr("opacity",.1).transition().duration(1500).ease(E.sin).attr("r",o*1.5).attr("opacity",.2).on("end",y)};setTimeout(y,1500+X*50)}w&&s.on("mouseenter",function(){H(this).transition().duration(200).attr("r",o*1.3).attr("stroke-width",3),p.transition().duration(200).attr("r",o*2).attr("opacity",.4),C(D.id),n?.(D)}).on("mouseleave",function(){H(this).transition().duration(200).attr("r",o).attr("stroke-width",2),p.transition().duration(200).attr("r",o*1.5).attr("opacity",.2),C(null),n?.(null)}).on("click",()=>{a?.(D)})})},[t,e,Q,x,m,v,w,U,q,a,n]),i.jsxs(et,{height:d,className:h,noPadding:!0,children:[i.jsx("div",{ref:M,className:"w-full h-full",style:{height:d},children:i.jsx("svg",{ref:R,className:"w-full h-full"})}),P&&w&&i.jsxs("div",{className:"absolute top-4 right-4 px-4 py-3 rounded-xl bg-black/80 backdrop-blur-sm border border-white/20 shadow-xl",children:[i.jsx("div",{className:"text-white font-semibold",children:t.find(l=>l.id===P)?.name}),i.jsxs("div",{className:"text-sm mt-1",children:[i.jsx("span",{className:"text-gray-400",children:"Active: "}),i.jsx("span",{className:"text-purple-400 font-bold",children:t.find(l=>l.id===P)?.value})]})]}),i.jsx("div",{className:"absolute bottom-4 left-4 px-3 py-2 rounded-lg bg-black/60 backdrop-blur-sm",children:i.jsx("div",{className:"text-xs text-gray-400",children:"Scroll to zoom, drag to pan"})})]})}const pe=["#8b5cf6","#6366f1","#ec4899","#f59e0b","#10b981","#06b6d4","#ef4444","#84cc16"];function Je({data:t,onBarClick:e,onBarHover:a,height:n=300,className:d="",layout:h="vertical",showValues:x=!0,showGrid:m=!0,animated:v=!0,interactive:w=!0,barPadding:k=.3,cornerRadius:A=4,colorScheme:R=pe,gradientFill:M=!0}){const P=f.useRef(null),C=f.useRef(null),[Q,_]=f.useState(null),[U,q]=f.useState({width:600,height:300}),l=f.useMemo(()=>({top:20,right:20,bottom:h==="vertical"?60:20,left:h==="horizontal"?120:50}),[h]);f.useEffect(()=>{if(!C.current)return;const g=new ResizeObserver(u=>{for(const b of u)q({width:b.contentRect.width,height:b.contentRect.height})});return g.observe(C.current),()=>g.disconnect()},[]);const c=f.useMemo(()=>ct().range(R),[R]);return f.useEffect(()=>{if(!P.current||U.width===0||t.length===0)return;const g=H(P.current),{width:u,height:b}=U,j=u-l.left-l.right,r=b-l.top-l.bottom;g.selectAll("*").remove(),g.attr("width",u).attr("height",b).attr("viewBox",`0 0 ${u} ${b}`);const G=g.append("defs");M&&t.forEach((o,p)=>{const s=o.color||c(o.category||String(p)),y=G.append("linearGradient").attr("id",`bar-gradient-${p}`).attr("x1",h==="horizontal"?"0%":"50%").attr("y1",h==="horizontal"?"50%":"100%").attr("x2",h==="horizontal"?"100%":"50%").attr("y2",h==="horizontal"?"50%":"0%");y.append("stop").attr("offset","0%").attr("stop-color",rt(s)?.darker(.3)?.formatHex()||s),y.append("stop").attr("offset","100%").attr("stop-color",rt(s)?.brighter(.3)?.formatHex()||s)});const I=G.append("filter").attr("id","bar-glow").attr("x","-50%").attr("y","-50%").attr("width","200%").attr("height","200%");I.append("feGaussianBlur").attr("in","SourceGraphic").attr("stdDeviation",3).attr("result","blur");const Y=I.append("feMerge");Y.append("feMergeNode").attr("in","blur"),Y.append("feMergeNode").attr("in","SourceGraphic");const z=g.append("g").attr("transform",`translate(${l.left}, ${l.top})`),Z=Ut(t,o=>o.value)||0;let T,B;if(h==="vertical"?(T=ut().domain(t.map(o=>o.label)).range([0,j]).padding(k),B=nt().domain([0,Z*1.1]).nice().range([r,0])):(T=nt().domain([0,Z*1.1]).nice().range([0,j]),B=ut().domain(t.map(o=>o.label)).range([0,r]).padding(k)),m){const o=z.append("g").attr("class","grid");h==="vertical"?B.ticks(5).forEach(s=>{o.append("line").attr("x1",0).attr("x2",j).attr("y1",B(s)).attr("y2",B(s)).attr("stroke","rgba(255, 255, 255, 0.05)").attr("stroke-dasharray","4 2")}):T.ticks(5).forEach(s=>{o.append("line").attr("x1",T(s)).attr("x2",T(s)).attr("y1",0).attr("y2",r).attr("stroke","rgba(255, 255, 255, 0.05)").attr("stroke-dasharray","4 2")})}const D=z.append("g").attr("class","x-axis").attr("transform",`translate(0, ${r})`),X=z.append("g").attr("class","y-axis");h==="vertical"?(D.call(pt(T)).selectAll("text").attr("fill","rgba(255, 255, 255, 0.7)").attr("font-size","11px").attr("transform","rotate(-45)").attr("text-anchor","end"),X.call(ft(B).ticks(5)).selectAll("text").attr("fill","rgba(255, 255, 255, 0.7)").attr("font-size","11px")):(D.call(pt(T).ticks(5)).selectAll("text").attr("fill","rgba(255, 255, 255, 0.7)").attr("font-size","11px"),X.call(ft(B)).selectAll("text").attr("fill","rgba(255, 255, 255, 0.7)").attr("font-size","11px")),z.selectAll(".domain").attr("stroke","rgba(255, 255, 255, 0.2)"),z.selectAll(".tick line").attr("stroke","rgba(255, 255, 255, 0.1)");const L=z.append("g").attr("class","bars"),F=L.selectAll("rect").data(t).enter().append("rect").attr("rx",A).attr("ry",A).attr("fill",(o,p)=>M?`url(#bar-gradient-${p})`:o.color||c(o.category||String(p))).attr("cursor",w?"pointer":"default");if(h==="vertical"?(F.attr("x",o=>T(o.label)||0).attr("width",T.bandwidth()).attr("y",r).attr("height",0),v?F.transition().duration(800).delay((o,p)=>p*50).ease(E.elastic).attr("y",o=>B(o.value)).attr("height",o=>r-B(o.value)):F.attr("y",o=>B(o.value)).attr("height",o=>r-B(o.value))):(F.attr("x",0).attr("y",o=>B(o.label)||0).attr("height",B.bandwidth()).attr("width",0),v?F.transition().duration(800).delay((o,p)=>p*50).ease(E.elastic).attr("width",o=>T(o.value)):F.attr("width",o=>T(o.value))),x){const o=L.selectAll("text").data(t).enter().append("text").attr("fill","white").attr("font-size","11px").attr("font-weight","bold").style("text-shadow","0 2px 4px rgba(0,0,0,0.5)").text(p=>p.value.toLocaleString());h==="vertical"?(o.attr("x",p=>(T(p.label)||0)+T.bandwidth()/2).attr("y",p=>B(p.value)-8).attr("text-anchor","middle").attr("opacity",0),v?o.transition().duration(300).delay((p,s)=>500+s*50).attr("opacity",1):o.attr("opacity",1)):(o.attr("x",p=>T(p.value)+8).attr("y",p=>(B(p.label)||0)+B.bandwidth()/2).attr("dominant-baseline","middle").attr("opacity",0),v?o.transition().duration(300).delay((p,s)=>500+s*50).attr("opacity",1):o.attr("opacity",1))}w&&F.on("mouseenter",function(o,p){H(this).transition().duration(200).style("filter","url(#bar-glow)").attr("opacity",1),F.filter((s,y,$)=>$[y]!==this).transition().duration(200).attr("opacity",.5),_(p.label),a?.(p)}).on("mouseleave",function(){H(this).transition().duration(200).style("filter","none"),F.transition().duration(200).attr("opacity",1),_(null),a?.(null)}).on("click",(o,p)=>{e?.(p)})},[t,U,l,h,x,m,v,w,k,A,c,M,e,a]),i.jsxs(et,{height:n,className:d,noPadding:!0,children:[i.jsx("div",{ref:C,className:"w-full h-full",style:{height:n},children:i.jsx("svg",{ref:P,className:"w-full h-full"})}),Q&&w&&i.jsxs("div",{className:"absolute top-4 right-4 px-3 py-2 rounded-lg bg-black/80 backdrop-blur-sm border border-white/20",children:[i.jsx("div",{className:"text-white font-semibold text-sm",children:Q}),i.jsx("div",{className:"text-purple-400 font-bold",children:t.find(g=>g.label===Q)?.value.toLocaleString()})]})]})}const fe=["#8b5cf6","#6366f1","#ec4899","#f59e0b","#10b981","#06b6d4","#ef4444","#84cc16"];function Ke({data:t,onSegmentClick:e,onSegmentHover:a,height:n=400,className:d="",innerRadius:h=0,showLabels:x=!0,showValues:m=!1,showPercentages:v=!0,animated:w=!0,interactive:k=!0,colorScheme:A=fe,centerContent:R}){const M=f.useRef(null),P=f.useRef(null),[C,Q]=f.useState(null),[_,U]=f.useState({width:400,height:400});f.useEffect(()=>{if(!P.current)return;const c=new ResizeObserver(g=>{for(const u of g){const b=Math.min(u.contentRect.width,u.contentRect.height);U({width:b,height:b})}});return c.observe(P.current),()=>c.disconnect()},[]);const q=f.useMemo(()=>ct().range(A),[A]),l=f.useMemo(()=>Yt(t,c=>c.value),[t]);return f.useEffect(()=>{if(!M.current||_.width===0||t.length===0)return;const c=H(M.current),g=Math.min(_.width,_.height),u=g/2,b=g/2,j=g*.4,r=h*j;c.selectAll("*").remove(),c.attr("width",g).attr("height",g).attr("viewBox",`0 0 ${g} ${g}`);const G=c.append("defs");t.forEach((o,p)=>{const s=o.color||q(String(p)),y=G.append("linearGradient").attr("id",`pie-gradient-${p}`).attr("x1","0%").attr("y1","0%").attr("x2","100%").attr("y2","100%");y.append("stop").attr("offset","0%").attr("stop-color",rt(s)?.brighter(.3)?.formatHex()||s),y.append("stop").attr("offset","100%").attr("stop-color",rt(s)?.darker(.3)?.formatHex()||s)});const I=G.append("filter").attr("id","pie-glow").attr("x","-50%").attr("y","-50%").attr("width","200%").attr("height","200%");I.append("feGaussianBlur").attr("in","SourceGraphic").attr("stdDeviation",5).attr("result","blur");const Y=I.append("feMerge");Y.append("feMergeNode").attr("in","blur"),Y.append("feMergeNode").attr("in","SourceGraphic");const z=c.append("g").attr("transform",`translate(${u}, ${b})`),Z=Xt().value(o=>o.value).sort(null).padAngle(.02),T=ot().innerRadius(r).outerRadius(j).cornerRadius(4),B=ot().innerRadius(r).outerRadius(j*1.08).cornerRadius(4),D=ot().innerRadius(j*.7).outerRadius(j*.7),X=ot().innerRadius(j*1.15).outerRadius(j*1.15),L=Z(t),F=z.selectAll("path").data(L).enter().append("path").attr("fill",(o,p)=>`url(#pie-gradient-${p})`).attr("stroke","rgba(255, 255, 255, 0.1)").attr("stroke-width",1).attr("cursor",k?"pointer":"default");if(w?F.attr("d",o=>ot().innerRadius(r).outerRadius(r).cornerRadius(4)(o)||"").transition().duration(800).delay((o,p)=>p*100).ease(E.elastic).attrTween("d",function(o){const p=Vt({startAngle:o.startAngle,endAngle:o.startAngle},o);return s=>T(p(s))||""}):F.attr("d",T),v||m){const o=z.selectAll("text.inner-label").data(L).enter().append("text").attr("class","inner-label").attr("transform",p=>`translate(${D.centroid(p)})`).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("fill","white").attr("font-size","12px").attr("font-weight","bold").style("text-shadow","0 2px 4px rgba(0,0,0,0.5)").text(p=>{const s=(p.data.value/l*100).toFixed(0);return m&&v?`${p.data.value} (${s}%)`:m?p.data.value.toString():`${s}%`});w&&o.attr("opacity",0).transition().duration(300).delay((p,s)=>600+s*100).attr("opacity",1)}x&&L.forEach((o,p)=>{const s=X.centroid(o),$=(o.startAngle+o.endAngle)/2<Math.PI?"start":"end",O=T.centroid(o),N=D.centroid(o),S=z.append("polyline").attr("points",`${O[0]},${O[1]} ${N[0]},${N[1]} ${s[0]},${s[1]}`).attr("fill","none").attr("stroke","rgba(255, 255, 255, 0.3)").attr("stroke-width",1),V=z.append("text").attr("x",s[0]).attr("y",s[1]).attr("text-anchor",$).attr("dominant-baseline","middle").attr("fill","rgba(255, 255, 255, 0.8)").attr("font-size","11px").text(o.data.label);w&&(S.attr("opacity",0).transition().duration(300).delay(800+p*50).attr("opacity",1),V.attr("opacity",0).transition().duration(300).delay(800+p*50).attr("opacity",1))}),k&&F.on("mouseenter",function(o,p){H(this).transition().duration(200).attr("d",B).style("filter","url(#pie-glow)"),F.filter((s,y,$)=>$[y]!==this).transition().duration(200).attr("opacity",.5),Q(p.data.label),a?.(p.data)}).on("mouseleave",function(o,p){H(this).transition().duration(200).attr("d",T).style("filter","none"),F.transition().duration(200).attr("opacity",1),Q(null),a?.(null)}).on("click",(o,p)=>{e?.(p.data)})},[t,_,h,x,m,v,w,k,q,l,e,a]),i.jsxs(et,{height:n,className:d,noPadding:!0,children:[i.jsxs("div",{ref:P,className:"w-full h-full flex items-center justify-center relative",style:{height:n},children:[i.jsx("svg",{ref:M}),h>0&&R&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:i.jsx("div",{className:"text-center",children:R})})]}),C&&k&&i.jsxs("div",{className:"absolute top-4 right-4 px-4 py-3 rounded-xl bg-black/80 backdrop-blur-sm border border-white/20 shadow-xl",children:[i.jsx("div",{className:"text-white font-semibold",children:C}),i.jsxs("div",{className:"text-sm mt-1",children:[i.jsx("span",{className:"text-gray-400",children:"Value: "}),i.jsx("span",{className:"text-purple-400 font-bold",children:t.find(c=>c.label===C)?.value.toLocaleString()})]}),i.jsxs("div",{className:"text-xs text-gray-500",children:[((t.find(c=>c.label===C)?.value||0)/l*100).toFixed(1),"%"]})]})]})}const he=["#3b82f6","#8b5cf6","#ec4899","#22c55e"];function tr({particleCount:t=80,connectionDistance:e=120,mouseInfluence:a=100,speed:n=.5,colorScheme:d=he,backgroundColor:h="transparent",className:x="",style:m,showConnections:v=!0,glowIntensity:w=1,interactive:k=!0}){const A=f.useRef(null),R=f.useRef(null),M=f.useRef([]),P=f.useRef({x:-1e3,y:-1e3}),C=f.useRef(),[Q,_]=f.useState({width:800,height:600}),U=f.useCallback(()=>{const q=[],{width:l,height:c}=Q;for(let g=0;g<t;g++){const u=Math.random()<.1?"glow":Math.random()<.05?"star":"normal";q.push({x:Math.random()*l,y:Math.random()*c,vx:(Math.random()-.5)*n*2,vy:(Math.random()-.5)*n*2,radius:u==="star"?Math.random()*3+2:Math.random()*2+1,color:d[Math.floor(Math.random()*d.length)],opacity:u==="glow"?.8:Math.random()*.5+.3,type:u})}M.current=q},[t,n,d,Q]);return f.useEffect(()=>{if(!R.current)return;const q=new ResizeObserver(l=>{for(const c of l)_({width:c.contentRect.width,height:c.contentRect.height})});return q.observe(R.current),()=>q.disconnect()},[]),f.useEffect(()=>{U()},[U]),f.useEffect(()=>{if(!k)return;const q=c=>{const g=A.current;if(!g)return;const u=g.getBoundingClientRect();P.current={x:c.clientX-u.left,y:c.clientY-u.top}},l=()=>{P.current={x:-1e3,y:-1e3}};return window.addEventListener("mousemove",q),window.addEventListener("mouseleave",l),()=>{window.removeEventListener("mousemove",q),window.removeEventListener("mouseleave",l)}},[k]),f.useEffect(()=>{const q=A.current;if(!q)return;const l=q.getContext("2d");if(!l)return;q.width=Q.width,q.height=Q.height;const c=()=>{const g=M.current,{width:u,height:b}=Q,j=P.current;l.fillStyle=h,l.fillRect(0,0,u,b),g.forEach((r,G)=>{if(k){const z=j.x-r.x,Z=j.y-r.y,T=Math.sqrt(z*z+Z*Z);if(T<a){const B=(a-T)/a;r.vx-=z/T*B*.5,r.vy-=Z/T*B*.5}}r.x+=r.vx,r.y+=r.vy,r.vx*=.99,r.vy*=.99,r.vx+=(Math.random()-.5)*.1,r.vy+=(Math.random()-.5)*.1;const I=n*2,Y=Math.sqrt(r.vx**2+r.vy**2);if(Y>I&&(r.vx=r.vx/Y*I,r.vy=r.vy/Y*I),r.x<-50&&(r.x=u+50),r.x>u+50&&(r.x=-50),r.y<-50&&(r.y=b+50),r.y>b+50&&(r.y=-50),v)for(let z=G+1;z<g.length;z++){const Z=g[z],T=Z.x-r.x,B=Z.y-r.y,D=Math.sqrt(T*T+B*B);if(D<e){const X=(1-D/e)*.2;l.beginPath(),l.strokeStyle=`rgba(139, 92, 246, ${X})`,l.lineWidth=.5,l.moveTo(r.x,r.y),l.lineTo(Z.x,Z.y),l.stroke()}}if(l.beginPath(),r.type==="glow"&&w>0){const z=l.createRadialGradient(r.x,r.y,0,r.x,r.y,r.radius*4);z.addColorStop(0,r.color),z.addColorStop(.4,`${r.color}80`),z.addColorStop(1,"transparent"),l.fillStyle=z,l.arc(r.x,r.y,r.radius*4*w,0,Math.PI*2),l.fill()}else r.type==="star"?(l.fillStyle=r.color,me(l,r.x,r.y,5,r.radius,r.radius*.5),l.fill()):(l.fillStyle=`rgba(${ge(r.color)}, ${r.opacity})`,l.arc(r.x,r.y,r.radius,0,Math.PI*2),l.fill())}),C.current=requestAnimationFrame(c)};return c(),()=>{C.current&&cancelAnimationFrame(C.current)}},[Q,h,e,a,n,v,w,k]),i.jsx("div",{ref:R,className:`absolute inset-0 overflow-hidden ${x}`,style:{...m,zIndex:0,pointerEvents:k?"auto":"none"},children:i.jsx("canvas",{ref:A,className:"w-full h-full",style:{display:"block"}})})}function me(t,e,a,n,d,h){let x=Math.PI/2*3,m=e,v=a;const w=Math.PI/n;t.beginPath(),t.moveTo(e,a-d);for(let k=0;k<n;k++)m=e+Math.cos(x)*d,v=a+Math.sin(x)*d,t.lineTo(m,v),x+=w,m=e+Math.cos(x)*h,v=a+Math.sin(x)*h,t.lineTo(m,v),x+=w;t.lineTo(e,a-d),t.closePath()}function ge(t){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?`${parseInt(e[1],16)}, ${parseInt(e[2],16)}, ${parseInt(e[3],16)}`:"255, 255, 255"}const be={version:"1.0.0",generated:"static",categories:[{id:"core",label:"Core",color:"#3b82f6",icon:"activity",routes:[{id:"dashboard",path:"/dashboard",label:"Dashboard",description:"Your personal training hub",protection:"protected"},{id:"workout",path:"/workout",label:"Workout",description:"Log training sessions",protection:"protected"},{id:"exercises",path:"/exercises",label:"Exercises",description:"65+ exercises with muscle data",protection:"protected"},{id:"journey",path:"/journey",label:"Journey",description:"Personalized training path",protection:"protected"},{id:"progression",path:"/progression",label:"Progression",description:"Track strength gains",protection:"protected"},{id:"skills",path:"/skills",label:"Skills",description:"7 skill trees with 45+ skills",protection:"public"},{id:"martial-arts",path:"/martial-arts",label:"Martial Arts",description:"10 disciplines, 60+ techniques",protection:"public"}]},{id:"community",label:"Community",color:"#22c55e",icon:"users",routes:[{id:"community",path:"/community",label:"Community Hub",description:"Feed, map, and stats",protection:"protected"},{id:"crews",path:"/crews",label:"Crews",description:"Team up with others",protection:"protected"},{id:"rivals",path:"/rivals",label:"Rivals",description:"Friendly competition",protection:"protected"},{id:"competitions",path:"/competitions",label:"Competitions",description:"Compete for rewards",protection:"protected"},{id:"highfives",path:"/highfives",label:"High Fives",description:"Celebrate achievements",protection:"protected"},{id:"messages",path:"/messages",label:"Messages",description:"Connect with others",protection:"protected"}]},{id:"account",label:"Account",color:"#f59e0b",icon:"wallet",routes:[{id:"profile",path:"/profile",label:"Profile",description:"Your public profile",protection:"protected"},{id:"settings",path:"/settings",label:"Settings",description:"App preferences",protection:"protected"},{id:"credits",path:"/credits",label:"Credits",description:"Credit balance and history",protection:"protected"},{id:"wallet",path:"/wallet",label:"Wallet",description:"Manage payments",protection:"protected"},{id:"stats",path:"/stats",label:"Stats",description:"Character stats",protection:"protected"}]},{id:"health",label:"Health",color:"#ec4899",icon:"heart",routes:[{id:"wellness",path:"/wellness",label:"Wellness",description:"Wearable integrations",protection:"protected"},{id:"goals",path:"/goals",label:"Goals",description:"Set and track goals",protection:"protected"},{id:"limitations",path:"/limitations",label:"Limitations",description:"Injury accommodations",protection:"protected"},{id:"pt-tests",path:"/pt-tests",label:"PT Tests",description:"Military fitness tests",protection:"protected"}]},{id:"docs",label:"Documentation",color:"#8b5cf6",icon:"book-open",routes:[{id:"landing",path:"/",label:"Home",description:"Welcome to MuscleMap",protection:"public"},{id:"features",path:"/features",label:"Features",description:"Feature overview",protection:"public"},{id:"technology",path:"/technology",label:"Technology",description:"Tech stack",protection:"public"},{id:"science",path:"/science",label:"Science",description:"The methodology",protection:"public"},{id:"design",path:"/design",label:"Design",description:"Design system",protection:"public"},{id:"docs",path:"/docs",label:"Docs",description:"Full documentation",protection:"public"}]},{id:"issues",label:"Issue Tracker",color:"#ef4444",icon:"bug",routes:[{id:"issues",path:"/issues",label:"Issues",description:"Report and track bugs",protection:"public"},{id:"roadmap",path:"/roadmap",label:"Roadmap",description:"Feature roadmap",protection:"public"},{id:"updates",path:"/updates",label:"Dev Updates",description:"Latest changes",protection:"public"}]}]};function er({manifest:t=be,height:e=600,className:a="",showSearch:n=!0,showLegend:d=!0,onRouteSelect:h}){const x=xt(),m=yt(),{user:v}=Jt(),[w,k]=f.useState(""),[A,R]=f.useState([]),M=!!v,{nodes:P,edges:C,categoryColors:Q}=f.useMemo(()=>{const l=[],c=[],g={},u=A.length>0?t.categories.filter(j=>A.includes(j.id)):t.categories;u.forEach(j=>{g[j.id]=j.color,j.routes.forEach(r=>{if(!M&&r.protection==="protected")return;if(w){const I=w.toLowerCase();if(!(r.label.toLowerCase().includes(I)||r.description.toLowerCase().includes(I)||r.path.toLowerCase().includes(I)))return}const G=r.path===m.pathname;l.push({id:r.id,label:r.label,category:j.id,description:r.description,size:G?28:22,color:j.color,data:{route:r,category:j,isCurrentRoute:G}})})});const b=new Set(l.map(j=>j.id));return u.forEach(j=>{const r=j.routes.filter(G=>b.has(G.id)).map(G=>G.id);for(let G=0;G<r.length;G++)for(let I=G+1;I<r.length;I++)Math.random()<.3&&(c.find(z=>z.source===r[G]&&z.target===r[I]||z.source===r[I]&&z.target===r[G])||c.push({source:r[G],target:r[I],weight:.5,style:"dashed"}))}),{nodes:l,edges:c,categoryColors:g}},[t,m.pathname,w,A,M]),_=f.useMemo(()=>t.categories.filter(l=>l.routes.some(c=>!(!M&&c.protection==="protected"))).map(l=>l.id),[t,M]),U=f.useCallback(l=>{const c=l.data?.route;c&&(h?h(c):x(c.path))},[x,h]),q=f.useCallback(l=>{R(c=>c.includes(l)?c.filter(g=>g!==l):[...c,l])},[]);return i.jsxs(et,{height:e,className:a,glassmorphism:!0,children:[i.jsxs("div",{className:"absolute top-4 left-4 right-4 z-20 flex flex-wrap gap-3",children:[n&&i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",value:w,onChange:l=>k(l.target.value),placeholder:"Search routes...",className:"w-48 px-4 py-2 pl-10 rounded-xl bg-black/40 backdrop-blur-sm border border-white/10 text-white text-sm placeholder-gray-500 focus:outline-none focus:border-purple-500/50"}),i.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),w&&i.jsxs("div",{className:"px-3 py-2 rounded-xl bg-purple-500/20 border border-purple-500/30 text-sm text-purple-300",children:[P.length," result",P.length!==1?"s":""]})]}),d&&i.jsxs("div",{className:"absolute bottom-4 left-4 z-20 flex flex-wrap gap-2",children:[t.categories.filter(l=>_.includes(l.id)).map(l=>i.jsx("button",{onClick:()=>q(l.id),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-all ${A.length===0||A.includes(l.id)?"opacity-100":"opacity-40"}`,style:{backgroundColor:`${l.color}20`,borderColor:`${l.color}40`,borderWidth:1,color:l.color},children:l.label},l.id)),A.length>0&&i.jsx("button",{onClick:()=>R([]),className:"px-3 py-1.5 rounded-lg text-xs font-medium bg-white/10 border border-white/20 text-gray-400 hover:text-white transition-colors",children:"Clear"})]}),i.jsxs("div",{className:"absolute bottom-4 right-4 z-20 px-3 py-1.5 bg-black/50 backdrop-blur-sm border border-white/10 rounded-lg text-xs text-gray-400",children:[i.jsx("span",{className:"text-pink-400 mr-1",children:"●"}),"Current: ",i.jsx("span",{className:"text-white font-medium",children:m.pathname})]}),i.jsx(ie,{nodes:P,edges:C,onNodeClick:U,height:e-100,categoryColors:Q,showLabels:!0,animated:!0,interactive:!0,nodeRadius:22,linkDistance:80,chargeStrength:-400,clusterStrength:.6})]})}export{Je as BarChartD3,et as D3Container,ie as ForceGraph,Ye as MuscleMapD3,tr as ParticleField,Ke as PieChartD3,Xe as RadarChartD3,er as RouteAtlasD3,Ve as WorldMapD3,Ee as animateColor,Ae as animatePathDraw,Le as applyTransition,Ze as complementary,Ie as createDropShadow,_e as createGlassFilter,Oe as createGlowFilter,bt as createLinearGradient,ae as createMuscleActivationScale,Fe as createRadialGradient,qe as createStatColorScale,We as darken,te as debounce,E as easings,st as ensureDefs,Be as generatePalette,Se as glowAnimation,De as gradientPresets,Ge as interpolateObject,Te as interpolatePoints,He as lighten,Re as morphPath,Pe as pulseAnimation,Ce as rainbowCycle,ze as springAnimation,re as springPresets,Ne as staggeredEntrance,je as transitions,$e as useD3,Ue as withOpacity};
