import{r as c,j as e,c as M}from"./react-vendor-D1NxaRNd.js";import{c as E}from"./recharts-vendor-BziRPEEi.js";import{m as T,q as z,A as F}from"./index-ChmNk_hk.js";import{C as I}from"./chevron-left-B6t1J4yN.js";import{C as W}from"./chevron-right-Dx87uuEk.js";import"./leaflet-vendor-DZbo3Ov0.js";import"./d3-vendor-mcDw60ct.js";import"./apollo-vendor-BMQ75Ycx.js";import"./reactflow-vendor-Dz2P_-Qa.js";const k=16,P=16,Y={top:{position:"bottom-0 left-1/2 -translate-x-1/2 translate-y-full",border:"border-l-transparent border-r-transparent border-b-transparent border-t-[rgba(255,255,255,0.1)]",shadow:"0 2px 8px rgba(0, 102, 255, 0.2)"},bottom:{position:"top-0 left-1/2 -translate-x-1/2 -translate-y-full",border:"border-l-transparent border-r-transparent border-t-transparent border-b-[rgba(255,255,255,0.1)]",shadow:"0 -2px 8px rgba(0, 102, 255, 0.2)"},left:{position:"right-0 top-1/2 -translate-y-1/2 translate-x-full",border:"border-t-transparent border-b-transparent border-r-transparent border-l-[rgba(255,255,255,0.1)]",shadow:"2px 0 8px rgba(0, 102, 255, 0.2)"},right:{position:"left-0 top-1/2 -translate-y-1/2 -translate-x-full",border:"border-t-transparent border-b-transparent border-l-transparent border-r-[rgba(255,255,255,0.1)]",shadow:"-2px 0 8px rgba(0, 102, 255, 0.2)"}};function B(t,l,o="auto"){if(!t)return"bottom";const i={width:window.innerWidth,height:window.innerHeight};if(o!=="auto")return o;const p={top:t.top,bottom:i.height-t.bottom,left:t.left,right:i.width-t.right},g=["bottom","top","right","left"],s={top:l.height+k,bottom:l.height+k,left:l.width+k,right:l.width+k};for(const a of g)if(p[a]>=s[a])return a;return"bottom"}function D(t,l,o){if(!t)return{left:"50%",top:"50%",transform:"translate(-50%, -50%)"};const i={position:"fixed"};switch(l){case"top":i.left=t.left+t.width/2-o.width/2,i.top=t.top-o.height-k;break;case"bottom":i.left=t.left+t.width/2-o.width/2,i.top=t.bottom+k;break;case"left":i.left=t.left-o.width-k,i.top=t.top+t.height/2-o.height/2;break;case"right":i.left=t.right+k,i.top=t.top+t.height/2-o.height/2;break;default:i.left=t.left+t.width/2-o.width/2,i.top=t.bottom+k}const p=window.innerWidth-o.width-P,g=window.innerHeight-o.height-P;return i.left=Math.max(P,Math.min(i.left,p)),i.top=Math.max(P,Math.min(i.top,g)),i}const H={initial:t=>({opacity:0,scale:.95,y:t==="top"?10:t==="bottom"?-10:0,x:t==="left"?10:t==="right"?-10:0}),animate:{opacity:1,scale:1,y:0,x:0},exit:t=>({opacity:0,scale:.95,y:t==="top"?10:t==="bottom"?-10:0,x:t==="left"?10:t==="right"?-10:0})};function O({step:t,targetRect:l,currentStep:o,totalSteps:i,showProgress:p=!0,showSkip:g=!0,onNext:s,onPrev:a,onSkip:u}){const y=c.useRef(null),[h,m]=c.useState({width:320,height:200});c.useEffect(()=>{if(y.current){const d=y.current.getBoundingClientRect();m({width:d.width,height:d.height})}},[t,o]);const b=c.useMemo(()=>B(l,h,t?.placement),[l,h,t?.placement]),f=c.useMemo(()=>D(l,b,h),[l,b,h]);if(!t)return null;const j=o===0,C=o===i-1;return e.jsxs(T.div,{ref:y,className:"fixed z-[10000] w-80 max-w-[calc(100vw-32px)]",style:f,custom:b,variants:H,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.25,ease:[.4,0,.2,1],delay:.1},role:"dialog","aria-modal":"true","aria-labelledby":"tour-step-title","aria-describedby":"tour-step-body",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl",style:{background:"rgba(15, 15, 20, 0.85)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:`
            0 8px 32px rgba(0, 0, 0, 0.4),
            0 0 0 1px rgba(255, 255, 255, 0.05),
            inset 0 1px 0 0 rgba(255, 255, 255, 0.1),
            0 0 60px -20px rgba(0, 102, 255, 0.3)
          `},children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-0.5",style:{background:"linear-gradient(90deg, transparent, rgba(0, 102, 255, 0.5), rgba(139, 92, 246, 0.5), transparent)"}}),e.jsxs("div",{className:"p-5",children:[p&&i>1&&e.jsxs("div",{className:"flex items-center gap-1.5 mb-3",children:[Array.from({length:i}).map((d,x)=>e.jsx(T.div,{className:E("h-1.5 rounded-full transition-all duration-300",x===o?"bg-blue-500":x<o?"bg-blue-400/50":"bg-white/20"),initial:{width:x===o?8:6},animate:{width:x===o?24:6},transition:{duration:.3},"aria-hidden":"true"},x)),e.jsxs("span",{className:"ml-auto text-xs text-white/40",children:[o+1," / ",i]})]}),e.jsx("h3",{id:"tour-step-title",className:"text-lg font-semibold text-white mb-2",children:t.title}),e.jsx("p",{id:"tour-step-body",className:"text-sm text-white/70 leading-relaxed mb-5",children:t.body}),t.content&&e.jsx("div",{className:"mb-5",children:t.content}),t.action&&t.action.label&&e.jsx("div",{className:"mb-4",children:e.jsx(T.button,{onClick:()=>{t.action.onClick&&t.action.onClick()},className:E("w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium","bg-purple-500/20 hover:bg-purple-500/30 text-purple-300 hover:text-purple-200","border border-purple-500/30 hover:border-purple-500/50","transition-all duration-200"),whileHover:{scale:1.01},whileTap:{scale:.99},children:t.action.label})}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g?e.jsx("button",{onClick:u,className:"text-sm text-white/40 hover:text-white/70 transition-colors px-2 py-1 rounded","aria-label":"Skip tour",children:"Skip tour"}):e.jsx("div",{}),e.jsxs("div",{className:"flex items-center gap-2",children:[!j&&e.jsxs("button",{onClick:a,className:E("flex items-center gap-1 px-3 py-2 rounded-lg text-sm font-medium","bg-white/5 hover:bg-white/10 text-white/70 hover:text-white","transition-colors min-h-[40px]"),"aria-label":"Previous step",children:[e.jsx(I,{className:"w-4 h-4"}),"Back"]}),e.jsxs(T.button,{onClick:s,className:E("flex items-center gap-1 px-4 py-2 rounded-lg text-sm font-medium","bg-blue-500 hover:bg-blue-400 text-white","transition-colors min-h-[40px]"),whileHover:{scale:1.02},whileTap:{scale:.98},"aria-label":C?"Finish tour":"Next step",children:[C?"Done":"Next",!C&&e.jsx(W,{className:"w-4 h-4"})]})]})]})]}),e.jsx("div",{className:"px-5 py-2 border-t border-white/5",style:{background:"rgba(255, 255, 255, 0.02)"},children:e.jsxs("p",{className:"text-xs text-white/30 flex items-center gap-3",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-white/10 text-white/60 font-mono text-[10px]",children:"Enter"}),e.jsx("span",{children:"next"})]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-white/10 text-white/60 font-mono text-[10px]",children:"Esc"}),e.jsx("span",{children:"skip"})]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-white/10 text-white/60 font-mono text-[10px]",children:e.jsxs("span",{className:"inline-flex gap-0.5",children:[e.jsx("span",{children:"←"}),e.jsx("span",{children:"→"})]})}),e.jsx("span",{children:"navigate"})]})]})})]}),e.jsx("div",{className:E("absolute w-0 h-0","border-8",Y[b]?.position),style:{borderTopColor:b==="bottom"?"rgba(15, 15, 20, 0.85)":"transparent",borderBottomColor:b==="top"?"rgba(15, 15, 20, 0.85)":"transparent",borderLeftColor:b==="right"?"rgba(15, 15, 20, 0.85)":"transparent",borderRightColor:b==="left"?"rgba(15, 15, 20, 0.85)":"transparent",filter:"drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2))"},"aria-hidden":"true"})]})}const q={id:"onboarding",name:"Welcome Tour",description:"Introduction to MuscleMap for new users",steps:[{target:'[data-tour="welcome"], .welcome-message, h1.dashboard-title',title:"Welcome to MuscleMap!",body:"Let me show you around. This quick tour will help you get started on your fitness journey.",position:"bottom"},{target:'[data-tour="muscle-map"], .muscle-visualization, .body-muscle-map, #muscle-model',title:"Your Muscle Map",body:"This 3D visualization shows which muscles you've trained. The brighter the color, the more recently you worked that muscle.",position:"right"},{target:'[data-tour="start-workout"], .start-workout-btn, [href="/workout"], button[data-action="start-workout"]',title:"Quick Start Workout",body:"Tap here to begin a new workout. Choose from templates or create your own custom routine.",position:"bottom"},{target:'[data-tour="stats-card"], .stats-overview, .character-stats, .stats-summary',title:"Track Your Progress",body:"Watch your stats grow as you train. Your strength, endurance, and other attributes level up with each workout.",position:"left"},{target:'[data-tour="profile"], .profile-menu, [href="/profile"], .user-avatar',title:"Your Profile",body:"View your stats, achievements, and customize your character. This is your fitness identity.",position:"left"},{target:'[data-tour="settings"], .settings-btn, [href="/settings"], [aria-label="Settings"]',title:"Settings",body:"Customize your experience here. Set preferences, connect devices, and manage notifications.",position:"left"}]},G={id:"workout-intro",name:"Workout Guide",description:"Learn how to log your first workout",steps:[{target:'[data-tour="exercise-search"], .exercise-search, input[placeholder*="Search"], input[name="exercise-search"]',title:"Find Exercises",body:"Search for any exercise by name, muscle group, or equipment. We have hundreds of exercises to choose from.",position:"bottom"},{target:'[data-tour="add-exercise"], .add-exercise-btn, [aria-label*="add exercise"], button[data-action="add-exercise"]',title:"Add to Workout",body:"Tap to add an exercise to your workout. You can add as many exercises as you want.",position:"bottom"},{target:'[data-tour="set-logger"], .set-logger, .set-input, [data-component="set-row"]',title:"Log Your Sets",body:"Enter the weight and reps for each set. Swipe left to delete a set, or tap the + to add more.",position:"top"},{target:'[data-tour="rest-timer"], .rest-timer, .timer-control, [data-component="rest-timer"]',title:"Rest Timer",body:"The rest timer starts automatically between sets. Adjust the time or skip it if you're ready to go.",position:"left"},{target:'[data-tour="muscle-preview"], .muscle-preview, .exercise-muscles, [data-component="muscle-indicator"]',title:"Muscle Activation",body:"See which muscles each exercise targets. Primary muscles are highlighted in blue, secondary in purple.",position:"right"},{target:'[data-tour="finish-workout"], .finish-workout, button[type="submit"], [data-action="finish-workout"]',title:"Finish Workout",body:"When you're done, tap Finish to save your workout. You'll see a summary of what you accomplished.",position:"top"}]},_={id:"community-intro",name:"Community Guide",description:"Discover social features",steps:[{target:'[data-tour="activity-feed"], .activity-feed, [href="/community"], [data-component="feed"]',title:"Activity Feed",body:"See what your friends and the community are up to. Celebrate their achievements with high fives!",position:"right"},{target:'[data-tour="high-five"], .high-five-btn, [aria-label*="high five"], button[data-action="high-five"]',title:"Send High Fives",body:"Tap to send encouragement! High fives boost motivation and earn you both credits.",position:"bottom",action:{label:"Try it!",onClick:null}},{target:'[data-tour="leaderboard"], .leaderboard, [href="/leaderboard"], [data-component="leaderboard"]',title:"Leaderboards",body:"Compete with others on various leaderboards. Filter by friends, your archetype, or go global.",position:"left"},{target:'[data-tour="crews"], .crews-section, [href="/crews"], [data-component="crews"]',title:"Join a Crew",body:"Teams that train together, gain together. Join a crew to participate in group challenges.",position:"bottom"},{target:'[data-tour="challenges"], .challenges, [href="/challenges"], [data-component="challenges"]',title:"Challenges",body:"Take on solo or group challenges. Complete them to earn badges, credits, and bragging rights.",position:"top"}]},U={id:"economy-intro",name:"Credits Guide",description:"Learn about the MuscleMap economy",steps:[{target:'[data-tour="credit-balance"], .credit-balance, .credits-widget, [data-component="credit-display"]',title:"Your Credit Balance",body:"Credits are MuscleMap's currency. You earn them by training and helping the community.",position:"bottom"},{target:'[data-tour="earn-credits"], .earn-section, [href="/credits/earn"], [data-action="view-earning"]',title:"Ways to Earn",body:"Complete workouts, hit milestones, send high fives, and participate in challenges to earn credits.",position:"right"},{target:'[data-tour="spend-credits"], .spend-section, [href="/credits/store"], [data-action="open-store"]',title:"Premium Features",body:"Use credits to unlock premium workout programs, custom themes, and exclusive badges.",position:"left"},{target:'[data-tour="bonus-events"], .bonus-events, [data-component="bonus-banner"]',title:"Bonus Events",body:"Keep an eye out for special events that offer double credits, rare rewards, and limited-time challenges.",position:"bottom"}]},V={id:"dashboard",name:"Dashboard Tour",description:"Learn about your dashboard",steps:[{target:'[data-tour="muscle-map"], .muscle-visualization, .body-muscle-map',title:"Your Muscle Map",body:"This 3D visualization shows which muscles you've trained. The brighter the color, the more recently you worked that muscle.",position:"right"},{target:'[data-tour="start-workout"], .start-workout-btn, [href="/workout"]',title:"Quick Start",body:"Tap here to begin a new workout. Choose from templates or create your own custom routine.",position:"bottom"},{target:'[data-tour="stats-card"], .stats-overview, .character-stats',title:"Track Your Progress",body:"Watch your stats grow as you train. Your strength, endurance, and other attributes level up with each workout.",position:"left"},{target:'[data-tour="achievements"], .achievements-section, [href="/achievements"]',title:"Earn Achievements",body:"Complete challenges and milestones to unlock achievements. Each one earns you credits and XP.",position:"bottom"},{target:'[data-tour="credits"], .credit-balance, .credits-display',title:"Your Credits",body:"Earn credits by working out, completing challenges, and helping others. Use them to unlock premium features.",position:"left"}]},J={id:"archetype",name:"Archetype Guide",description:"Understand the archetype system",steps:[{target:'[data-tour="archetype-select"], .archetype-selector, .archetype-grid',title:"Choose Your Path",body:"Select an archetype that matches your fitness goals. Each one has unique bonuses and progression tracks.",position:"bottom"},{target:'[data-tour="archetype-stats"], .archetype-stats, .stat-bonuses',title:"Archetype Bonuses",body:"Your archetype provides stat bonuses and unlocks special abilities as you level up.",position:"right"},{target:'[data-tour="progression"], .progression-path, .journey-progress',title:"Your Journey",body:"Follow your archetype's progression path to unlock new titles, abilities, and rewards.",position:"left"}]},K={onboarding:q,"workout-intro":G,"community-intro":_,"economy-intro":U,dashboard:V,archetype:J};function Q(t){return K[t]||null}const N={backdropColor:"rgba(0, 0, 0, 0.75)",spotlightPadding:12,scrollBehavior:"smooth"};function st({steps:t,preset:l,isOpen:o,tourId:i,onComplete:p,onSkip:g,onChange:s,currentStep:a,showProgress:u=!0,showSkip:y=!0,maskPadding:h,backdropColor:m=N.backdropColor,spotlightPadding:b=N.spotlightPadding,scrollBehavior:f=N.scrollBehavior,allowBackdropClick:j=!0,autoStart:C=!0,delay:d=500}){const{startTour:x,endTour:r,goToStep:n,isActive:v}=z(),w=l?Q(l):null,S=t||(w?w.steps:[]),L=i||(w?w.id:null),$=h!==void 0?h:b;return c.useEffect(()=>{if(o!==void 0){o&&S.length>0&&!v?x(S,{tourId:L,onComplete:p,onSkip:g,onStepChange:s,showProgress:u,showSkip:y,backdropColor:m,spotlightPadding:$,scrollBehavior:f,allowBackdropClick:j,force:!0}):!o&&v&&r();return}if(C&&S.length>0&&!v){const A=setTimeout(()=>{x(S,{tourId:L,onComplete:p,onSkip:g,onStepChange:s,showProgress:u,showSkip:y,backdropColor:m,spotlightPadding:$,scrollBehavior:f,allowBackdropClick:j})},d);return()=>clearTimeout(A)}},[o,C,S,L,d,x,r,v,s,$]),c.useEffect(()=>{a!==void 0&&v&&n(a)},[a,v,n]),null}function nt(){const{isActive:t,steps:l,currentStep:o,config:i,nextStep:p,prevStep:g,skipTour:s}=z(),[a,u]=c.useState(null),[y,h]=c.useState(!1),m=c.useRef(null),b=c.useRef(null),f=l[o];c.useEffect(()=>{if(!t)return;const r=b.current,n=l[o];if(r&&r!==n&&r.afterHide)try{r.afterHide()}catch{}if(n?.beforeShow)try{n.beforeShow()}catch{}b.current=n},[t,o,l]);const j=c.useCallback(()=>{if(!f?.target){u(null);return}const r=document.querySelector(f.target);if(r){const n=r.getBoundingClientRect();u({top:n.top,left:n.left,right:n.right,bottom:n.bottom,width:n.width,height:n.height}),n.top>=0&&n.left>=0&&n.bottom<=window.innerHeight&&n.right<=window.innerWidth||(r.scrollIntoView({behavior:i.scrollBehavior||"smooth",block:"center",inline:"center"}),setTimeout(()=>{const w=r.getBoundingClientRect();u({top:w.top,left:w.left,right:w.right,bottom:w.bottom,width:w.width,height:w.height})},350))}else setTimeout(()=>p(),100)},[f?.target,i.scrollBehavior,p]);c.useEffect(()=>{if(!t||!f?.target)return;j();const r=()=>j();window.addEventListener("resize",r),window.addEventListener("scroll",r,!0);const n=document.querySelector(f.target);return n&&typeof ResizeObserver<"u"&&(m.current=new ResizeObserver(r),m.current.observe(n)),()=>{window.removeEventListener("resize",r),window.removeEventListener("scroll",r,!0),m.current?.disconnect()}},[t,f?.target,o,j]),c.useEffect(()=>{if(t){h(!0);const r=setTimeout(()=>h(!1),300);return()=>clearTimeout(r)}},[o,t]),c.useEffect(()=>{if(!t)return;const r=n=>{switch(n.key){case"Escape":n.preventDefault(),s();break;case"Enter":case"ArrowRight":n.preventDefault(),p();break;case"ArrowLeft":n.preventDefault(),g();break}};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[t,p,g,s]);const C=c.useCallback(()=>{i.allowBackdropClick&&p()},[i.allowBackdropClick,p]);if(!t||l.length===0)return null;const d=i.spotlightPadding||N.spotlightPadding,x=a?`polygon(
        0% 0%,
        0% 100%,
        ${a.left-d}px 100%,
        ${a.left-d}px ${a.top-d}px,
        ${a.right+d}px ${a.top-d}px,
        ${a.right+d}px ${a.bottom+d}px,
        ${a.left-d}px ${a.bottom+d}px,
        ${a.left-d}px 100%,
        100% 100%,
        100% 0%
      )`:"none";return M.createPortal(e.jsx(F,{mode:"wait",children:t&&e.jsxs(e.Fragment,{children:[e.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-[9998] cursor-pointer",style:{backgroundColor:i.backdropColor||N.backdropColor,clipPath:x},onClick:C,"aria-hidden":"true"},"backdrop"),a&&e.jsxs(T.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.25,delay:.05},className:"fixed z-[9999] pointer-events-none",style:{left:a.left-d,top:a.top-d,width:a.width+d*2,height:a.height+d*2,borderRadius:"12px"},children:[e.jsx(T.div,{className:"absolute inset-0 rounded-xl",style:{boxShadow:`
                    0 0 0 2px rgba(0, 102, 255, 0.6),
                    0 0 20px 4px rgba(0, 102, 255, 0.4),
                    0 0 40px 8px rgba(0, 102, 255, 0.2),
                    inset 0 0 15px 2px rgba(0, 102, 255, 0.1)
                  `},animate:{boxShadow:["0 0 0 2px rgba(0, 102, 255, 0.6), 0 0 20px 4px rgba(0, 102, 255, 0.4), 0 0 40px 8px rgba(0, 102, 255, 0.2), inset 0 0 15px 2px rgba(0, 102, 255, 0.1)","0 0 0 3px rgba(0, 102, 255, 0.8), 0 0 30px 6px rgba(0, 102, 255, 0.5), 0 0 50px 10px rgba(0, 102, 255, 0.3), inset 0 0 20px 3px rgba(0, 102, 255, 0.15)","0 0 0 2px rgba(0, 102, 255, 0.6), 0 0 20px 4px rgba(0, 102, 255, 0.4), 0 0 40px 8px rgba(0, 102, 255, 0.2), inset 0 0 15px 2px rgba(0, 102, 255, 0.1)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),["top-left","top-right","bottom-left","bottom-right"].map(r=>e.jsxs("div",{className:E("absolute w-4 h-4",r==="top-left"&&"-top-0.5 -left-0.5",r==="top-right"&&"-top-0.5 -right-0.5",r==="bottom-left"&&"-bottom-0.5 -left-0.5",r==="bottom-right"&&"-bottom-0.5 -right-0.5"),children:[e.jsx("div",{className:E("absolute w-3 h-0.5 bg-blue-400",r.includes("top")&&"top-0",r.includes("bottom")&&"bottom-0",r.includes("left")&&"left-0",r.includes("right")&&"right-0")}),e.jsx("div",{className:E("absolute h-3 w-0.5 bg-blue-400",r.includes("top")&&"top-0",r.includes("bottom")&&"bottom-0",r.includes("left")&&"left-0",r.includes("right")&&"right-0")})]},r))]},"spotlight"),e.jsx(F,{mode:"wait",children:!y&&f&&e.jsx(O,{step:f,targetRect:a,currentStep:o,totalSteps:l.length,showProgress:i.showProgress,showSkip:i.showSkip,onNext:p,onPrev:g,onSkip:s},o)})]})}),document.body)}function lt({target:t,children:l,onDismiss:o,backdropColor:i=N.backdropColor,spotlightPadding:p=N.spotlightPadding,placement:g="auto"}){const[s,a]=c.useState(null);if(c.useEffect(()=>{const h=document.querySelector(t);if(h){const m=()=>{const b=h.getBoundingClientRect();a(b)};return m(),window.addEventListener("resize",m),window.addEventListener("scroll",m,!0),()=>{window.removeEventListener("resize",m),window.removeEventListener("scroll",m,!0)}}},[t]),c.useEffect(()=>{const h=m=>{m.key==="Escape"&&o?.()};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[o]),!s)return null;const u=p,y=`polygon(
    0% 0%,
    0% 100%,
    ${s.left-u}px 100%,
    ${s.left-u}px ${s.top-u}px,
    ${s.right+u}px ${s.top-u}px,
    ${s.right+u}px ${s.bottom+u}px,
    ${s.left-u}px ${s.bottom+u}px,
    ${s.left-u}px 100%,
    100% 100%,
    100% 0%
  )`;return M.createPortal(e.jsxs(e.Fragment,{children:[e.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9998]",style:{backgroundColor:i,clipPath:y},onClick:o}),e.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed z-[10000]",style:{left:s.left+s.width/2,top:s.bottom+16,transform:"translateX(-50%)"},children:l})]}),document.body)}export{lt as Spotlight,nt as SpotlightTourRenderer,st as default};
