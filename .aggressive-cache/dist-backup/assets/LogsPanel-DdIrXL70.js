import{r as c,j as e}from"./react-vendor-D847gc3Q.js";import{G as P}from"./GlassSurface-DZwHl8aR.js";import{T as E}from"./terminal-CFQfgcUq.js";import{R as Q}from"./refresh-cw-BlL42zdN.js";import{L as X}from"./layers-Cgk6oxxF.js";import{c as G,o as T,aF as Y,x as ee,J as te,Z as se}from"./index-C9UYgovZ.js";import{L as re}from"./loader-circle-C8DGvtTi.js";import{P as ae}from"./pause-7XyUv2OB.js";import{D as ne}from"./download-C7DIkDWt.js";import{I as oe}from"./info-BTThZzFl.js";import{T as le}from"./triangle-alert-VfNCqVZ_.js";import{C as M}from"./circle-alert-CUAKfpAQ.js";import{F as ce}from"./funnel-BuF0V4p3.js";import{C as ie}from"./chevron-down-Co_pN3je.js";import{C as de}from"./chevron-right-BjkLm8zf.js";import"./leaflet-vendor-DZbo3Ov0.js";import"./recharts-vendor-d8oTApeF.js";import"./d3-vendor-DkU_Wy0v.js";import"./apollo-vendor-BNHFeEEc.js";import"./reactflow-vendor-5ig9bY2l.js";const xe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],me=G("file-braces",xe);const he=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],ue=G("file-spreadsheet",he),pe="/api/admin/logs",R=[{id:"info",label:"Info",color:"#3b82f6",bgColor:"bg-blue-500/20",textColor:"text-blue-400",icon:oe},{id:"warn",label:"Warn",color:"#f59e0b",bgColor:"bg-yellow-500/20",textColor:"text-yellow-400",icon:le},{id:"error",label:"Error",color:"#ef4444",bgColor:"bg-red-500/20",textColor:"text-red-400",icon:M}],J=[{id:"hour",label:"Last Hour",ms:60*60*1e3},{id:"day",label:"Last 24 Hours",ms:24*60*60*1e3},{id:"week",label:"Last Week",ms:7*24*60*60*1e3},{id:"custom",label:"Custom Range",ms:null}];function ge(t){return t?new Date(t).toLocaleString():"N/A"}function W(t){if(!t)return"";const r=Date.now()-new Date(t).getTime();return r<6e4?"just now":r<36e5?`${Math.floor(r/6e4)}m ago`:r<864e5?`${Math.floor(r/36e5)}h ago`:`${Math.floor(r/864e5)}d ago`}function fe(t){return R.find(i=>i.id===t?.toLowerCase())||R[0]}function H(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function V(t,i,r){const a=new Blob([t],{type:r}),s=URL.createObjectURL(a),o=document.createElement("a");o.href=s,o.download=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(s)}function be({value:t,onChange:i,isRegex:r,onRegexToggle:a,placeholder:s}){const[o,d]=c.useState(null),l=u=>{const f=u.target.value;if(r&&f)try{new RegExp(f),d(null)}catch{d("Invalid regex")}else d(null);i(f)};return e.jsxs("div",{className:"relative flex-1",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ee,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:t,onChange:l,placeholder:s||"Search logs...",className:`
            w-full pl-10 pr-20 py-2 rounded-lg
            bg-white/5 border transition-colors
            text-white placeholder-gray-500 text-sm
            focus:outline-none focus:ring-2 focus:ring-cyan-500/50
            ${o?"border-red-500/50":"border-white/10 hover:border-white/20"}
          `}),e.jsx("button",{onClick:a,className:`
            absolute right-2 top-1/2 -translate-y-1/2
            px-2 py-1 rounded text-xs font-mono transition-colors
            ${r?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30":"bg-white/5 text-gray-400 border border-white/10 hover:bg-white/10"}
          `,title:r?"Regex mode enabled":"Enable regex mode",children:".*"})]}),o&&e.jsx("div",{className:"absolute top-full left-0 mt-1 text-xs text-red-400",children:o})]})}function we({selectedLevels:t,onToggle:i}){return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"w-4 h-4 text-gray-400"}),R.map(r=>{const a=r.icon,s=t.includes(r.id);return e.jsxs("button",{onClick:()=>i(r.id),className:`
              flex items-center gap-1.5 px-2 py-1 rounded-lg text-xs font-medium transition-colors
              ${s?`${r.bgColor} ${r.textColor} border border-current/30`:"bg-white/5 text-gray-400 border border-white/10 hover:bg-white/10"}
            `,children:[e.jsx(a,{className:"w-3 h-3"}),r.label]},r.id)})]})}function je({selected:t,onSelect:i,customRange:r,onCustomRangeChange:a}){const[s,o]=c.useState(!1),d=l=>{o(l==="custom"),i(l)};return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{className:"w-4 h-4 text-gray-400"}),e.jsx("div",{className:"flex items-center gap-1",children:J.map(l=>e.jsx("button",{onClick:()=>d(l.id),className:`
              px-2 py-1 rounded text-xs font-medium transition-colors
              ${t===l.id?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30":"bg-white/5 text-gray-400 border border-white/10 hover:bg-white/10"}
            `,children:l.label},l.id))}),s&&t==="custom"&&e.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[e.jsx("input",{type:"datetime-local",value:r.start,onChange:l=>a({...r,start:l.target.value}),className:"px-2 py-1 rounded bg-white/5 border border-white/10 text-white text-xs"}),e.jsx("span",{className:"text-gray-400 text-xs",children:"to"}),e.jsx("input",{type:"datetime-local",value:r.end,onChange:l=>a({...r,end:l.target.value}),className:"px-2 py-1 rounded bg-white/5 border border-white/10 text-white text-xs"})]})]})}function ye({log:t,expanded:i,onToggle:r,searchTerm:a,isRegex:s}){const o=fe(t.level),d=o.icon,l=c.useMemo(()=>{if(!a||!t.message)return t.message;try{const u=s?new RegExp(`(${a})`,"gi"):new RegExp(`(${H(a)})`,"gi");return t.message.replace(u,'<mark class="bg-yellow-500/30 text-yellow-200 rounded px-0.5">$1</mark>')}catch{return t.message}},[t.message,a,s]);return e.jsxs("div",{className:`
      border-b border-white/5 last:border-0
      ${i?"bg-white/5":"hover:bg-white/[0.02]"}
    `,children:[e.jsxs("button",{onClick:r,className:"w-full flex items-start gap-3 p-3 text-left",children:[e.jsx("div",{className:`
          w-6 h-6 rounded flex items-center justify-center flex-shrink-0 mt-0.5
          ${o.bgColor}
        `,children:e.jsx(d,{className:`w-3.5 h-3.5 ${o.textColor}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:`text-xs font-medium ${o.textColor}`,children:t.level?.toUpperCase()}),e.jsx("span",{className:"text-xs text-gray-500",children:ge(t.timestamp)}),e.jsxs("span",{className:"text-xs text-gray-600",children:["(",W(t.timestamp),")"]}),t.source&&e.jsx("span",{className:"text-xs bg-white/5 text-gray-400 px-1.5 py-0.5 rounded",children:t.source})]}),e.jsx("div",{className:"text-sm text-gray-300 truncate font-mono",dangerouslySetInnerHTML:{__html:l}})]}),e.jsx("div",{className:"flex-shrink-0",children:i?e.jsx(ie,{className:"w-4 h-4 text-gray-400"}):e.jsx(de,{className:"w-4 h-4 text-gray-400"})})]}),i&&e.jsx("div",{className:"px-3 pb-3 ml-9",children:e.jsxs("div",{className:"bg-black/40 rounded-lg p-3 font-mono text-xs space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Timestamp: "}),e.jsx("span",{className:"text-gray-300",children:t.timestamp})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Level: "}),e.jsx("span",{className:o.textColor,children:t.level})]}),t.source&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Source: "}),e.jsx("span",{className:"text-gray-300",children:t.source})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Message: "}),e.jsx("pre",{className:"text-gray-300 whitespace-pre-wrap mt-1",children:t.message})]}),t.stack&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Stack Trace: "}),e.jsx("pre",{className:"text-red-400 whitespace-pre-wrap mt-1 text-[10px]",children:t.stack})]}),t.metadata&&Object.keys(t.metadata).length>0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Metadata: "}),e.jsx("pre",{className:"text-cyan-400 whitespace-pre-wrap mt-1",children:JSON.stringify(t.metadata,null,2)})]})]})})]})}function Ne({errors:t,onSelectError:i}){const r=c.useMemo(()=>{const a={};return t.forEach(s=>{const o=s.message?.match(/^(\w+Error|Error|Exception):/),d=o?o[1]:"Unknown Error",l=d+(s.message?.substring(0,50)||"");a[l]||(a[l]={type:d,message:s.message?.substring(0,100),count:0,lastSeen:s.timestamp,logs:[]}),a[l].count++,a[l].logs.push(s),new Date(s.timestamp)>new Date(a[l].lastSeen)&&(a[l].lastSeen=s.timestamp)}),Object.values(a).sort((s,o)=>o.count-s.count)},[t]);return r.length===0?e.jsxs("div",{className:"text-center text-gray-500 py-8",children:[e.jsx(M,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No errors in selected time range"})]}):e.jsx("div",{className:"space-y-2",children:r.map((a,s)=>e.jsxs("button",{onClick:()=>i(a.logs[0]),className:"w-full p-3 rounded-lg bg-red-500/10 border border-red-500/20 hover:bg-red-500/20 transition-colors text-left",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-red-400",children:a.type}),e.jsxs("span",{className:"text-xs bg-red-500/20 text-red-400 px-2 py-0.5 rounded-full",children:[a.count," occurrence",a.count!==1?"s":""]})]}),e.jsx("div",{className:"text-xs text-gray-400 truncate font-mono",children:a.message}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Last seen: ",W(a.lastSeen)]})]},s))})}function ve({logs:t}){const i=c.useMemo(()=>{const s=[],o=t.filter(m=>m.level==="error").length,d=t.length,l=d>0?o/d*100:0;l>10&&s.push({type:"high_error_rate",severity:"critical",message:`High error rate detected: ${l.toFixed(1)}% of logs are errors`,icon:M});const u=t.filter(m=>m.level==="error").map(m=>m.message?.substring(0,50)),f={};u.forEach(m=>{m&&(f[m]=(f[m]||0)+1)});const h=Object.entries(f).filter(([,m])=>m>5).sort((m,p)=>p[1]-m[1]);if(h.length>0&&s.push({type:"repeated_errors",severity:"warning",message:`${h.length} error patterns repeating frequently`,icon:T}),t.length>10){const m=t.map(j=>new Date(j.timestamp).getTime()).sort();let p=0;for(let j=0;j<m.length-10;j++)m[j+10]-m[j]<1e3&&(p=Math.max(p,10));p>0&&s.push({type:"burst",severity:"info",message:"Log burst detected: 10+ logs within 1 second",icon:se})}return s},[t]);if(i.length===0)return e.jsxs("div",{className:"text-center text-gray-500 py-4",children:[e.jsx(T,{className:"w-6 h-6 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No anomalous patterns detected"})]});const r={critical:"border-red-500/30 bg-red-500/10",warning:"border-yellow-500/30 bg-yellow-500/10",info:"border-blue-500/30 bg-blue-500/10"},a={critical:"text-red-400",warning:"text-yellow-400",info:"text-blue-400"};return e.jsx("div",{className:"space-y-2",children:i.map((s,o)=>{const d=s.icon;return e.jsx("div",{className:`p-3 rounded-lg border ${r[s.severity]}`,children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(d,{className:`w-4 h-4 mt-0.5 ${a[s.severity]}`}),e.jsxs("div",{children:[e.jsx("div",{className:`text-sm font-medium ${a[s.severity]}`,children:s.severity.charAt(0).toUpperCase()+s.severity.slice(1)}),e.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:s.message})]})]})},o)})})}function Se({logs:t,disabled:i}){const[r,a]=c.useState(!1),s=()=>{const d=JSON.stringify(t,null,2),l=`logs-${new Date().toISOString().split("T")[0]}.json`;V(d,l,"application/json"),a(!1)},o=()=>{const d=["timestamp","level","source","message"],l=t.map(h=>[h.timestamp,h.level,h.source||"",`"${(h.message||"").replace(/"/g,'""')}"`]),u=[d.join(","),...l.map(h=>h.join(","))].join(`
`),f=`logs-${new Date().toISOString().split("T")[0]}.csv`;V(u,f,"text/csv"),a(!1)};return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>a(!r),disabled:i||t.length===0,className:`
          flex items-center gap-2 px-3 py-2 rounded-lg transition-colors
          ${i||t.length===0?"bg-white/5 text-gray-500 cursor-not-allowed":"bg-white/5 hover:bg-white/10 text-gray-300 border border-white/10"}
        `,children:[e.jsx(ne,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Export"})]}),r&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>a(!1)}),e.jsxs("div",{className:"absolute right-0 top-full mt-1 z-20 bg-gray-800 border border-white/10 rounded-lg shadow-xl overflow-hidden",children:[e.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 hover:bg-white/10 w-full text-left",children:[e.jsx(me,{className:"w-4 h-4 text-cyan-400"}),e.jsx("span",{className:"text-sm text-white",children:"Export as JSON"})]}),e.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-4 py-2 hover:bg-white/10 w-full text-left",children:[e.jsx(ue,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{className:"text-sm text-white",children:"Export as CSV"})]})]})]})]})}function Ce({enabled:t,onToggle:i,connected:r}){return e.jsx("button",{onClick:i,className:`
        flex items-center gap-2 px-3 py-2 rounded-lg transition-colors
        ${t?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-white/5 text-gray-300 border border-white/10 hover:bg-white/10"}
      `,children:t?e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Stop Live"}),r&&e.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Go Live"})]})})}function He(){const[t,i]=c.useState([]),[r,a]=c.useState(!0),[s,o]=c.useState(""),[d,l]=c.useState(!1),[u,f]=c.useState(["info","warn","error"]),[h,m]=c.useState("hour"),[p,j]=c.useState({start:"",end:""}),[I,D]=c.useState(null),[v,S]=c.useState("list"),[b,O]=c.useState(!1),[_,C]=c.useState(!1),y=c.useRef(null),k=c.useRef(null),A=c.useCallback(()=>{try{const n=localStorage.getItem("musclemap-auth");if(n){const g=JSON.parse(n);if(g?.state?.token)return{Authorization:`Bearer ${g.state.token}`}}const x=localStorage.getItem("musclemap_token");return x?{Authorization:`Bearer ${x}`}:{}}catch{return{}}},[]),L=c.useCallback(async()=>{a(!0);try{const n=new URLSearchParams,x=J.find(w=>w.id===h);x?.ms?n.set("since",new Date(Date.now()-x.ms).toISOString()):h==="custom"&&p.start&&p.end&&(n.set("since",new Date(p.start).toISOString()),n.set("until",new Date(p.end).toISOString())),u.length<3&&n.set("levels",u.join(",")),s&&(n.set("search",s),d&&n.set("regex","true"));const g=await fetch(`${pe}?${n.toString()}`,{headers:A()});if(g.ok){const w=await g.json();i(w.logs||[])}}catch{}finally{a(!1)}},[h,p,u,s,d,A]),F=c.useCallback(()=>{const n=localStorage.getItem("auth_token")||localStorage.getItem("token");if(!n)return;const g=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/api/admin/logs/stream?token=${encodeURIComponent(n)}`,w=new WebSocket(g);y.current=w,w.onopen=()=>{C(!0)},w.onmessage=B=>{try{const $=JSON.parse(B.data);$.type==="log"&&$.data&&i(K=>[$.data,...K].slice(0,1e3))}catch{}},w.onerror=B=>{C(!1)},w.onclose=()=>{C(!1),y.current=null}},[]),U=c.useCallback(()=>{y.current&&(y.current.close(),y.current=null),C(!1)},[]),Z=c.useCallback(()=>{b?(U(),O(!1)):(O(!0),F())},[b,F,U]),N=c.useMemo(()=>t.filter(n=>{if(!u.includes(n.level?.toLowerCase()))return!1;if(s)try{if(!(d?new RegExp(s,"i"):new RegExp(H(s),"i")).test(n.message||""))return!1}catch{}return!0}),[t,u,s,d]),z=c.useMemo(()=>t.filter(n=>n.level?.toLowerCase()==="error"),[t]),q=c.useCallback(n=>{f(x=>x.includes(n)?x.length===1?x:x.filter(g=>g!==n):[...x,n])},[]);return c.useEffect(()=>()=>{y.current&&y.current.close()},[]),c.useEffect(()=>{b||L()},[L,b]),c.useEffect(()=>{b&&k.current&&(k.current.scrollTop=0)},[t,b]),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(E,{className:"w-6 h-6 text-cyan-400"}),"Log Analysis"]}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Search, filter, and analyze application logs"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ce,{enabled:b,onToggle:Z,connected:_}),e.jsx(Se,{logs:N,disabled:r}),!b&&e.jsxs("button",{onClick:L,disabled:r,className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/5 hover:bg-white/10 border border-white/10 transition-colors",children:[e.jsx(Q,{className:`w-4 h-4 text-gray-400 ${r?"animate-spin":""}`}),e.jsx("span",{className:"text-sm text-gray-300",children:"Refresh"})]})]})]}),e.jsxs(P,{className:"p-4 space-y-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsx(be,{value:s,onChange:o,isRegex:d,onRegexToggle:()=>l(!d),placeholder:d?"Search with regex...":"Search logs..."}),e.jsx(we,{selectedLevels:u,onToggle:q})]}),e.jsx(je,{selected:h,onSelect:m,customRange:p,onCustomRangeChange:j})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>S("list"),className:`
            flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors
            ${v==="list"?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30":"bg-white/5 text-gray-400 border border-white/10 hover:bg-white/10"}
          `,children:[e.jsx(E,{className:"w-4 h-4"}),"Log List",e.jsx("span",{className:"text-xs bg-white/10 px-1.5 py-0.5 rounded",children:N.length})]}),e.jsxs("button",{onClick:()=>S("errors"),className:`
            flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors
            ${v==="errors"?"bg-red-500/20 text-red-400 border border-red-500/30":"bg-white/5 text-gray-400 border border-white/10 hover:bg-white/10"}
          `,children:[e.jsx(X,{className:"w-4 h-4"}),"Error Groups",e.jsx("span",{className:"text-xs bg-red-500/20 text-red-400 px-1.5 py-0.5 rounded",children:z.length})]}),e.jsxs("button",{onClick:()=>S("patterns"),className:`
            flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors
            ${v==="patterns"?"bg-purple-500/20 text-purple-400 border border-purple-500/30":"bg-white/5 text-gray-400 border border-white/10 hover:bg-white/10"}
          `,children:[e.jsx(T,{className:"w-4 h-4"}),"Patterns"]})]}),e.jsx(P,{padding:!1,className:"overflow-hidden",children:r&&!b?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(re,{className:"w-8 h-8 animate-spin text-cyan-400"})}):v==="list"?e.jsx("div",{ref:k,className:"max-h-[600px] overflow-auto",children:N.length===0?e.jsxs("div",{className:"text-center text-gray-500 py-16",children:[e.jsx(E,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No logs match your filters"}),e.jsx("p",{className:"text-xs mt-1",children:"Try adjusting your search or time range"})]}):N.map((n,x)=>e.jsx(ye,{log:n,expanded:I===x,onToggle:()=>D(I===x?null:x),searchTerm:s,isRegex:d},n.id||`${n.timestamp}-${x}`))}):v==="errors"?e.jsx("div",{className:"p-4",children:e.jsx(Ne,{errors:z,onSelectError:n=>{const x=N.findIndex(g=>g.id===n.id||g.timestamp===n.timestamp);D(x),S("list")}})}):e.jsx("div",{className:"p-4",children:e.jsx(ve,{logs:t})})}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{children:["Showing ",N.length," of ",t.length," logs"]}),b&&_&&e.jsxs("span",{className:"flex items-center gap-1 text-green-400",children:[e.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),"Live streaming"]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full"}),"Info: ",t.filter(n=>n.level==="info").length]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),"Warn: ",t.filter(n=>n.level==="warn").length]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-2 h-2 bg-red-400 rounded-full"}),"Error: ",t.filter(n=>n.level==="error").length]})]})]})]})}export{He as default};
