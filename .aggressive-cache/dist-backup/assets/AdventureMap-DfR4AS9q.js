import{d as g,a as b,r as f,j as t}from"./react-vendor-D1NxaRNd.js";import{A as w,a as j}from"./AdventureHUD-YQ0d176g.js";import{u as y,a as N,b as M,g as k,R as E,c as L,d as A}from"./adventureMapStore-DcGzzcPh.js";import{m as n,a as C}from"./index-Ttza9pip.js";import"./leaflet-vendor-DZbo3Ov0.js";import"./apollo-vendor-BMQ75Ycx.js";import"./reactflow-vendor-Dz2P_-Qa.js";import"./d3-vendor-mcDw60ct.js";import"./recharts-vendor-BziRPEEi.js";function R(){const{user:e}=C();return{level:e?.level||1,xp:e?.xp||0,xpToNextLevel:e?.xpToNextLevel||1e3,credits:e?.creditBalance||0,wealthTier:e?.wealthTier||0,characterStats:{strength:e?.stats?.strength||10,dexterity:e?.stats?.dexterity||10,endurance:e?.stats?.endurance||10,constitution:e?.stats?.constitution||10,power:e?.stats?.power||10,vitality:e?.stats?.vitality||10}}}function S(){return{stage:3,name:"Buddy",equipped:{aura:"aura-cosmic"}}}function G(){const e=g(),r=R(),o=S(),{position:c}=y(),{visited:d}=N(),{hudExpanded:l,toggleHud:u}=M(),p=k(c,40),a=E[L(s=>s.currentRegion)],[i,m]=b.useState(!1);f.useEffect(()=>{const s=()=>m(window.innerWidth<768);return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const x=window.matchMedia("(prefers-reduced-motion: reduce)").matches,h=(s,v)=>{e(v)};return t.jsxs("div",{className:"adventure-map-page min-h-screen bg-[#0a0a12]",children:[t.jsx("div",{className:`w-full ${i?"h-[calc(100vh-50px)]":"h-[calc(100vh-80px)]"}`,children:t.jsx(w,{className:"w-full h-full",onLocationEnter:h,reducedMotion:x})}),t.jsx(j,{stats:r,companionData:o,currentLocation:p,onMinimapClick:()=>{},onMenuClick:()=>{e("/settings")},isMobile:i,isExpanded:l,onToggleExpand:u}),t.jsxs(n.div,{className:"fixed top-4 left-4 z-50 flex items-center gap-3",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:[t.jsx("button",{onClick:()=>e("/dashboard"),className:"w-10 h-10 rounded-full bg-black/60 backdrop-blur-sm border border-white/20 text-white hover:bg-white/10 transition-colors flex items-center justify-center","aria-label":"Back to dashboard",children:"‚Üê"}),t.jsxs("div",{className:"bg-black/60 backdrop-blur-sm rounded-lg border border-white/20 px-4 py-2",children:[t.jsx("h1",{className:"text-white font-bold text-lg",children:"Adventure Map"}),t.jsxs("p",{className:"text-white/50 text-sm",children:[d.length," / ",A().filter(s=>!s.requiredRole).length," locations discovered"]})]})]}),t.jsx(n.div,{className:"fixed top-4 right-4 z-50 bg-black/60 backdrop-blur-sm rounded-lg border border-white/20 px-4 py-2",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1},children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-2xl",children:a?.theme.icon||"üè∞"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-white font-medium text-sm",children:a?.name||"Unknown"}),t.jsxs("div",{className:"text-white/50 text-xs",children:[a?.description?.slice(0,30),"..."]})]})]})})]})}export{G as default};
