import{u as C,r as l,j as e,L as A}from"./react-vendor-D847gc3Q.js";import{e as B,G as D,H as L,A as h,m as i,f as u}from"./index-MC6c9alI.js";import{A as z}from"./ArchetypeSelector-Cw-FM1w9.js";import{L as b}from"./Logo-u5Pq-Syc.js";import{S as P}from"./skip-forward-DNUhynQb.js";import"./leaflet-vendor-DZbo3Ov0.js";import"./apollo-vendor-BNHFeEEc.js";import"./reactflow-vendor-5ig9bY2l.js";import"./d3-vendor-DkU_Wy0v.js";import"./recharts-vendor-d8oTApeF.js";import"./arrow-left-BeHOdKOt.js";import"./use-transform-Dg-7PwVn.js";import"./refresh-cw-DPxeal0t.js";const E=[{id:"pullupBar",name:"Pull-up Bar",icon:"ðŸ”©",desc:"Pull-ups, chin-ups, hanging"},{id:"dipBars",name:"Dip Bars",icon:"â¬œ",desc:"Dips, leg raises, rows"},{id:"rings",name:"Gym Rings",icon:"â­•",desc:"Ring rows, muscle-ups"},{id:"bench",name:"Bench",icon:"ðŸª‘",desc:"Step-ups, elevated pushups"}];function Q(){const o=C(),{login:g}=B(),{user:n,token:r}=D(),[m,x]=l.useState(1),[y,f]=l.useState(null),[s,c]=l.useState({type:"bodyweight",kettlebellCount:1,extras:[]}),[j,N]=l.useState(!1),[v,d]=l.useState(!1);l.useEffect(()=>{async function t(){if(r)try{const a=await u("/api/onboarding/status",{headers:{Authorization:`Bearer ${r}`}});a.ok&&((await a.json())?.data?.completed||n?.archetype)&&N(!0)}catch{}}t()},[r,n?.archetype]);const k=(t,a)=>{f({id:t,...a}),g({...n,archetype:t},r),x(2)},w=()=>{o("/dashboard")},S=async()=>{try{await u("/api/onboarding/skip",{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}}),o("/dashboard")}catch{o("/dashboard")}};return e.jsxs("div",{className:"min-h-screen text-white",style:{backgroundColor:"#0a0a0f",backgroundImage:"radial-gradient(circle at 50% 0%, rgba(99, 102, 241, 0.15), transparent 50%), radial-gradient(circle at 50% 100%, rgba(168, 85, 247, 0.1), transparent 50%)"},children:[j&&e.jsxs("div",{className:"fixed top-4 right-4 z-50 flex gap-2",children:[e.jsxs(A,{to:"/dashboard",className:"flex items-center gap-2 px-3 py-2 bg-gray-800/80 backdrop-blur-sm border border-gray-700 rounded-lg text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors",children:[e.jsx(L,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Dashboard"})]}),e.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-3 py-2 bg-blue-600/80 backdrop-blur-sm border border-blue-500 rounded-lg text-sm text-white hover:bg-blue-500 transition-colors",children:[e.jsx(P,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Skip Setup"})]})]}),e.jsx(h,{children:v&&e.jsx(i.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>d(!1),children:e.jsxs(i.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-gray-800 border border-gray-700 rounded-xl p-6 max-w-md w-full",onClick:t=>t.stopPropagation(),children:[e.jsx("h3",{className:"text-xl font-bold mb-2",children:"Skip Onboarding?"}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"You can always come back to personalize your experience later from Settings."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg font-medium",children:"Continue Setup"}),e.jsx("button",{onClick:S,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg font-medium",children:"Go to Dashboard"})]})]})})}),e.jsxs(h,{mode:"wait",children:[m===1&&e.jsxs(i.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,x:-50},transition:{duration:.3},className:"min-h-screen",children:[e.jsxs("div",{className:"text-center pt-8 pb-4 px-4",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-3 rounded-xl shadow-lg shadow-purple-500/20 overflow-hidden",children:e.jsx(b,{size:"lg",priority:!0,className:"rounded-xl"})}),e.jsx("h1",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500",children:"Welcome to MuscleMap"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Let's personalize your experience"})]}),e.jsx(z,{onComplete:k})]},"archetype-selector"),m===2&&e.jsx(i.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0},transition:{duration:.3},className:"min-h-screen p-4",children:e.jsxs("div",{className:"max-w-2xl mx-auto pt-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-3 rounded-xl shadow-lg shadow-purple-500/20 overflow-hidden",children:e.jsx(b,{size:"lg",priority:!0,className:"rounded-xl"})}),e.jsx("h1",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500",children:"Almost There"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:y?.name?"Great choice! Now let's set up your equipment.":"Let's set up your equipment."})]}),e.jsxs("div",{className:"flex gap-2 mb-8",children:[e.jsx("div",{className:"h-2 flex-1 rounded-full bg-blue-500"}),e.jsx("div",{className:"h-2 flex-1 rounded-full bg-blue-500"})]}),e.jsx("h1",{className:"text-3xl font-black mb-2",children:"Your Equipment"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"What do you have access to?"}),e.jsx("div",{className:"space-y-3 mb-6",children:[{id:"bodyweight",name:"Bodyweight Only",icon:"ðŸ¤¸",desc:"No equipment needed"},{id:"kettlebell",name:"Kettlebells",icon:"ðŸ””",desc:"Kettlebells + bodyweight"},{id:"freeweight",name:"Full Gym",icon:"ðŸ‹ï¸",desc:"Barbells, dumbbells, machines"}].map(t=>e.jsxs("button",{onClick:()=>c({...s,type:t.id}),className:`w-full p-4 rounded-xl text-left flex items-center gap-4 ${s.type===t.id?"bg-blue-600 ring-2 ring-blue-400":"bg-gray-800 hover:bg-gray-700"}`,children:[e.jsx("span",{className:"text-3xl",children:t.icon}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold",children:t.name}),e.jsx("div",{className:"text-sm text-gray-400",children:t.desc})]})]},t.id))}),s.type==="kettlebell"&&e.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 mb-4",children:[e.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"How many kettlebells do you have?"}),e.jsx("div",{className:"flex gap-2",children:[1,2].map(t=>e.jsxs("button",{onClick:()=>c({...s,kettlebellCount:t}),className:`flex-1 p-3 rounded-lg font-bold ${s.kettlebellCount===t?"bg-blue-600":"bg-gray-700 hover:bg-gray-600"}`,children:[t," Kettlebell",t>1?"s":""]},t))})]}),(s.type==="bodyweight"||s.type==="kettlebell")&&e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Do you have access to any of these? (optional)"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:E.map(t=>{const a=s.extras.includes(t.id);return e.jsxs("button",{onClick:()=>c({...s,extras:a?s.extras.filter(p=>p!==t.id):[...s.extras,t.id]}),className:`p-3 rounded-xl text-left transition-all ${a?"bg-green-600 ring-2 ring-green-400":"bg-gray-800 hover:bg-gray-700"}`,children:[e.jsx("div",{className:"text-2xl mb-1",children:t.icon}),e.jsx("div",{className:"font-bold text-sm",children:t.name}),e.jsx("div",{className:"text-xs text-gray-400",children:t.desc})]},t.id)})}),s.extras.length===0&&e.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"No extras? No problem! We'll work with what you have."})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>x(1),className:"flex-1 p-4 bg-gray-700 hover:bg-gray-600 rounded-xl font-bold",children:"Back"}),e.jsx("button",{onClick:w,className:"flex-1 p-4 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl font-bold",children:"Start Training"})]})]})},"equipment-selector")]})]})}export{Q as default};
