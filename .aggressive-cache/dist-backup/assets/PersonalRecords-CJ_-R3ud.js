const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-ismleJIi.js","assets/react-vendor-D1NxaRNd.js","assets/index-Cs03wjNs.js","assets/leaflet-vendor-CIGW-MKW.css","assets/reactflow-vendor-B5DZHykP.css","assets/index-Ddt6Z7BF.css"])))=>i.map(i=>d[i]);
import{i as k,V as T,A as M,m as b,_ as L}from"./index-Cs03wjNs.js";import{r as a,j as e,L as C}from"./react-vendor-D1NxaRNd.js";import{G as x}from"./GlassSurface-BMiMerMg.js";import"./GlassButton-BG0ngJoB.js";import{G as S,A as P,d as E}from"./GlassNav-Zc8njgm6.js";import{M as A}from"./MeshBackground-5ZvDS217.js";import"./apollo-vendor-CxjqjKUq.js";import"./reactflow-vendor-Dz2P_-Qa.js";import"./d3-vendor-mcDw60ct.js";import"./recharts-vendor-BziRPEEi.js";import"./leaflet-vendor-DZbo3Ov0.js";a.lazy(()=>L(()=>import("./index-ismleJIi.js"),__vite__mapDeps([0,1,2,3,4,5])).then(t=>({default:t.LineChartD3})));const i={Trophy:({className:t="w-5 h-5"})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),TrendingUp:({className:t="w-5 h-5"})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),Weight:({className:t="w-5 h-5"})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 12h18M3 12a9 9 0 0118 0M3 12a9 9 0 0018 0M12 3v18"})}),Target:({className:t="w-5 h-5"})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),Search:({className:t="w-5 h-5"})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})};function W(){const[t,m]=a.useState(""),[d,p]=a.useState(""),[n,g]=a.useState(null),h=a.useCallback(()=>{const l=parseFloat(t),c=parseInt(d);if(l>0&&c>0&&c<=30){const w=T(l,c);g({estimated1RM:w,percentages:[{pct:100,reps:1},{pct:95,reps:2},{pct:90,reps:4},{pct:85,reps:6},{pct:80,reps:8},{pct:75,reps:10},{pct:70,reps:12},{pct:65,reps:15}].map(u=>({...u,weight:Math.round(w*(u.pct/100))}))})}else g(null)},[t,d]);return a.useEffect(()=>{h()},[h]),e.jsxs(x,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(i.Target,{className:"w-5 h-5 text-blue-400"}),"1RM Calculator"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Weight (lbs)"}),e.jsx("input",{type:"number",value:t,onChange:l=>m(l.target.value),placeholder:"Enter weight",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white focus:border-blue-400 focus:ring-1 focus:ring-blue-400 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Reps (1-30)"}),e.jsx("input",{type:"number",value:d,onChange:l=>p(l.target.value),placeholder:"Enter reps",min:"1",max:"30",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white focus:border-blue-400 focus:ring-1 focus:ring-blue-400 outline-none"})]})]}),e.jsx(M,{children:n&&e.jsxs(b.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[e.jsxs("div",{className:"text-center py-4 border-t border-white/10",children:[e.jsx("p",{className:"text-sm text-white/60 mb-1",children:"Estimated 1RM"}),e.jsxs("p",{className:"text-4xl font-black text-blue-400",children:[n.estimated1RM," lbs"]})]}),e.jsx("div",{className:"grid grid-cols-4 gap-2 mt-4",children:n.percentages.map(l=>e.jsxs("div",{className:"text-center p-2 rounded-lg bg-white/5",children:[e.jsxs("p",{className:"text-xs text-white/50",children:[l.pct,"%"]}),e.jsx("p",{className:"text-sm font-semibold text-white",children:l.weight}),e.jsxs("p",{className:"text-xs text-white/40",children:[l.reps," rep",l.reps!==1?"s":""]})]},l.pct))})]})})]})}function B({record:t}){const[m,d]=a.useState(!1),p={weight:"Heaviest Weight",volume:"Highest Volume",reps:"Most Reps",e1rm:"Best Estimated 1RM"},n={weight:e.jsx(i.Weight,{className:"w-4 h-4"}),volume:e.jsx(i.TrendingUp,{className:"w-4 h-4"}),reps:e.jsx(i.Target,{className:"w-4 h-4"}),e1rm:e.jsx(i.Trophy,{className:"w-4 h-4"})};return e.jsx(b.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"group",children:e.jsxs(x,{className:"p-4 cursor-pointer hover:bg-white/10 transition-colors",onClick:()=>d(!m),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-yellow-500/20 text-yellow-400",children:n[t.recordType]||e.jsx(i.Trophy,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white",children:t.exerciseName}),e.jsx("p",{className:"text-sm text-white/60",children:p[t.recordType]||t.recordType})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-bold text-white",children:[t.value," ",t.unit||"lbs"]}),e.jsx("p",{className:"text-xs text-white/50",children:new Date(t.achievedAt).toLocaleDateString()})]})]}),e.jsx(M,{children:m&&e.jsxs(b.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 pt-4 border-t border-white/10",children:[t.details&&e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[t.details.weight&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/50",children:"Weight"}),e.jsxs("p",{className:"font-semibold text-white",children:[t.details.weight," lbs"]})]}),t.details.reps&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/50",children:"Reps"}),e.jsx("p",{className:"font-semibold text-white",children:t.details.reps})]}),t.details.estimated1RM&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/50",children:"Est. 1RM"}),e.jsxs("p",{className:"font-semibold text-white",children:[t.details.estimated1RM," lbs"]})]})]}),t.previousValue&&e.jsxs("p",{className:"text-sm text-green-400 mt-2 text-center",children:["+",t.value-t.previousValue," improvement from previous PR"]})]})})]})})}function q(){const[t,m]=a.useState([]),[d,p]=a.useState(!0),[n,g]=a.useState("all"),[h,l]=a.useState(""),[c,w]=a.useState("date");a.useEffect(()=>{N()},[]);const N=async()=>{try{p(!0);const s=await k.get("/progression/records?limit=100");m(s.data||[])}catch{}finally{p(!1)}},u=a.useMemo(()=>{let s=[...t];if(n!=="all"&&(s=s.filter(r=>r.recordType===n)),h){const r=h.toLowerCase();s=s.filter(o=>o.exerciseName?.toLowerCase().includes(r))}return c==="date"?s.sort((r,o)=>new Date(o.achievedAt)-new Date(r.achievedAt)):c==="value"?s.sort((r,o)=>o.value-r.value):c==="name"&&s.sort((r,o)=>(r.exerciseName||"").localeCompare(o.exerciseName||"")),s},[t,n,h,c]),v=a.useMemo(()=>{const s=t.length,r=t.filter(j=>{const f=new Date(j.achievedAt),y=new Date;return f.getMonth()===y.getMonth()&&f.getFullYear()===y.getFullYear()}).length,o=t.filter(j=>j.recordType==="e1rm"),R=o.length>0?Math.max(...o.map(j=>j.value)):0;return{totalPRs:s,thisMonth:r,heaviest:R}},[t]);return e.jsxs("div",{className:"min-h-screen relative",children:[e.jsx(A,{intensity:"subtle"}),e.jsx(S,{brandSlot:e.jsxs(C,{to:"/dashboard",className:"flex items-center gap-3",children:[e.jsx(P,{size:32,breathing:!0}),e.jsx("span",{className:"font-bold text-lg text-white hidden sm:block",children:"MuscleMap"})]})}),e.jsxs("div",{className:"pt-20 px-4 pb-24 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-3xl font-black text-white tracking-tight flex items-center gap-3",children:[e.jsx(i.Trophy,{className:"w-8 h-8 text-yellow-400"}),"Personal Records"]}),e.jsx("p",{className:"text-white/60 mt-1",children:"Track your PRs and estimated 1RMs across all exercises"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[e.jsxs(x,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-white",children:v.totalPRs}),e.jsx("p",{className:"text-sm text-white/60",children:"Total PRs"})]}),e.jsxs(x,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-green-400",children:v.thisMonth}),e.jsx("p",{className:"text-sm text-white/60",children:"This Month"})]}),e.jsxs(x,{className:"p-4 text-center",children:[e.jsxs("p",{className:"text-3xl font-bold text-yellow-400",children:[v.heaviest," lbs"]}),e.jsx("p",{className:"text-sm text-white/60",children:"Highest 1RM"})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx(W,{})}),e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[e.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[e.jsx(i.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40"}),e.jsx("input",{type:"text",placeholder:"Search exercises...",value:h,onChange:s=>l(s.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-xl text-white placeholder-white/40 focus:border-blue-400 outline-none"})]}),e.jsxs("select",{value:n,onChange:s=>g(s.target.value),className:"px-4 py-2 bg-white/5 border border-white/10 rounded-xl text-white focus:border-blue-400 outline-none",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"e1rm",children:"Estimated 1RM"}),e.jsx("option",{value:"weight",children:"Max Weight"}),e.jsx("option",{value:"volume",children:"Volume"}),e.jsx("option",{value:"reps",children:"Max Reps"})]}),e.jsxs("select",{value:c,onChange:s=>w(s.target.value),className:"px-4 py-2 bg-white/5 border border-white/10 rounded-xl text-white focus:border-blue-400 outline-none",children:[e.jsx("option",{value:"date",children:"Most Recent"}),e.jsx("option",{value:"value",children:"Highest Value"}),e.jsx("option",{value:"name",children:"Exercise Name"})]})]}),d?e.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(s=>e.jsx(x,{className:"h-24 animate-pulse"},s))}):u.length===0?e.jsxs(x,{className:"p-8 text-center",children:[e.jsx(i.Trophy,{className:"w-12 h-12 text-white/20 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white/60 mb-2",children:"No PRs Found"}),e.jsx("p",{className:"text-white/40",children:h?"Try adjusting your search":"Complete some workouts to start setting PRs!"})]}):e.jsx("div",{className:"space-y-3",children:u.map(s=>e.jsx(B,{record:s},s.id))})]})]})]}),e.jsx(E,{items:[{to:"/dashboard",icon:i.Target,label:"Home"},{to:"/stats",icon:i.TrendingUp,label:"Stats"},{to:"/personal-records",icon:i.Trophy,label:"PRs",active:!0},{to:"/profile",icon:i.Target,label:"Profile"}]})]})}export{q as default};
