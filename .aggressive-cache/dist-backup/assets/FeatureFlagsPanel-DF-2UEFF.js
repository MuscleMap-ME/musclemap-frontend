import{r as n,j as e}from"./react-vendor-D847gc3Q.js";import{G as F}from"./GlassSurface-CuHevRGA.js";import{L}from"./loader-circle-wW3GxeP2.js";import{c as q,P as V,U as G,x as Z,aJ as ee,X as U}from"./index-DKki0iq-.js";import{R as te}from"./refresh-cw-dgRqKDkN.js";import{C as H}from"./check-9ikoG6PU.js";import{F as se}from"./funnel-DfajN3Hz.js";import{C as ae}from"./chevron-down-BzotTXGK.js";import{C as le}from"./chevron-right-CDEgFRYP.js";import{P as re}from"./pen-BXFJx-i7.js";import{T as B}from"./trash-2-CowQJ2ju.js";import{T as K}from"./triangle-alert-CyIOe9S2.js";import"./leaflet-vendor-DZbo3Ov0.js";import"./recharts-vendor-CxtoZpzE.js";import"./d3-vendor-mcDw60ct.js";import"./apollo-vendor-BNHFeEEc.js";import"./reactflow-vendor-CYb5nRwM.js";const ne=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],E=q("flag",ne);const oe=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Q=q("percent",oe);const ie=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],ce=q("sliders-vertical",ie),R="/api/admin/features/flags",I=[{id:"all",label:"All Flags"},{id:"enabled",label:"Enabled"},{id:"disabled",label:"Disabled"},{id:"rollout",label:"In Rollout"}];function W(t){return t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(1)}K`:t?.toString()||"0"}function de(t){return t.enabled?t.rolloutPercentage<100?{bg:"bg-yellow-500/20",text:"text-yellow-400",dot:"bg-yellow-400"}:{bg:"bg-green-500/20",text:"text-green-400",dot:"bg-green-400"}:{bg:"bg-gray-500/20",text:"text-gray-400",dot:"bg-gray-400"}}function X({enabled:t,onChange:d,disabled:x}){return e.jsx("button",{onClick:()=>d(!t),disabled:x,className:`
        relative w-12 h-6 rounded-full transition-colors duration-200
        ${t?"bg-green-500":"bg-gray-600"}
        ${x?"opacity-50 cursor-not-allowed":"cursor-pointer"}
      `,children:e.jsx("div",{className:`
          absolute top-1 w-4 h-4 rounded-full bg-white shadow-md transition-transform duration-200
          ${t?"translate-x-7":"translate-x-1"}
        `})})}function Y({value:t,onChange:d,disabled:x}){return e.jsxs("div",{className:"flex items-center gap-3 w-full",children:[e.jsx("input",{type:"range",min:"0",max:"100",value:t,onChange:h=>d(Number(h.target.value)),disabled:x,className:`
          flex-1 h-2 rounded-full appearance-none cursor-pointer
          bg-white/10
          [&::-webkit-slider-thumb]:appearance-none
          [&::-webkit-slider-thumb]:w-4
          [&::-webkit-slider-thumb]:h-4
          [&::-webkit-slider-thumb]:rounded-full
          [&::-webkit-slider-thumb]:bg-cyan-400
          [&::-webkit-slider-thumb]:cursor-pointer
          [&::-webkit-slider-thumb]:transition-transform
          [&::-webkit-slider-thumb]:hover:scale-110
          ${x?"opacity-50 cursor-not-allowed":""}
        `,style:{background:`linear-gradient(to right, #22c55e ${t}%, rgba(255,255,255,0.1) ${t}%)`}}),e.jsxs("div",{className:"flex items-center gap-1 min-w-[60px] justify-end",children:[e.jsx(Q,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-sm font-mono text-white",children:t})]})]})}function xe({flag:t,onToggle:d,onEdit:x,onDelete:h,loading:b}){const o=de(t),[m,N]=n.useState(!1);return e.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-white/20 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(E,{className:`w-4 h-4 ${o.text}`}),e.jsx("span",{className:"font-medium text-white truncate",children:t.name}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${o.bg} ${o.text}`,children:t.enabled?t.rolloutPercentage<100?"Rollout":"Enabled":"Disabled"})]}),t.description&&e.jsx("p",{className:"text-xs text-gray-400 line-clamp-2",children:t.description})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(X,{enabled:t.enabled,onChange:u=>d(t.id,u),disabled:b})})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-3 pt-3 border-t border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-400",children:[e.jsx(Q,{className:"w-3.5 h-3.5"}),e.jsxs("span",{children:[t.rolloutPercentage,"% rollout"]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-400",children:[e.jsx(G,{className:"w-3.5 h-3.5"}),e.jsxs("span",{children:[W(t.usersAffected)," users"]})]}),t.targetingRules&&Object.keys(t.targetingRules).length>0&&e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-cyan-400",children:[e.jsx(ee,{className:"w-3.5 h-3.5"}),e.jsxs("span",{children:[Object.keys(t.targetingRules).length," rules"]})]})]}),e.jsx("button",{onClick:()=>N(!m),className:"w-full flex items-center justify-center gap-1 mt-3 pt-2 text-xs text-gray-400 hover:text-gray-300 transition-colors",children:m?e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"w-3 h-3"}),e.jsx("span",{children:"Hide details"})]}):e.jsxs(e.Fragment,{children:[e.jsx(le,{className:"w-3 h-3"}),e.jsx("span",{children:"Show details"})]})}),m&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10 space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-400 mb-2 block",children:"Rollout Percentage"}),e.jsx(Y,{value:t.rolloutPercentage,onChange:u=>x(t.id,{rolloutPercentage:u}),disabled:b||!t.enabled})]}),t.targetingRules&&Object.keys(t.targetingRules).length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-400 mb-2 block",children:"Targeting Rules"}),e.jsx("div",{className:"bg-black/40 rounded-lg p-2 font-mono text-xs text-gray-300 overflow-auto max-h-32",children:JSON.stringify(t.targetingRules,null,2)})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[e.jsxs("button",{onClick:()=>x(t.id),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-cyan-500/20 hover:bg-cyan-500/30 text-cyan-400 text-xs transition-colors",children:[e.jsx(re,{className:"w-3.5 h-3.5"}),"Edit"]}),e.jsxs("button",{onClick:()=>h(t.id),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-red-500/20 hover:bg-red-500/30 text-red-400 text-xs transition-colors",children:[e.jsx(B,{className:"w-3.5 h-3.5"}),"Delete"]})]})]})]})}function he({flag:t,onSave:d,onClose:x,loading:h}){const b=!!t?.id,[o,m]=n.useState({name:t?.name||"",description:t?.description||"",enabled:t?.enabled??!1,rolloutPercentage:t?.rolloutPercentage??100,targetingRules:t?.targetingRules||{}}),[N,u]=n.useState("form"),[S,A]=n.useState(null),[v,k]=n.useState(JSON.stringify(o.targetingRules,null,2)),[p,f]=n.useState(()=>{const a=t?.targetingRules||{};return Object.entries(a).map(([i,r])=>({key:i,operator:"equals",value:String(r)}))}),j=(a,i)=>{m(r=>({...r,[a]:i}))},D=a=>{k(a);try{const i=JSON.parse(a);m(r=>({...r,targetingRules:i})),A(null)}catch{A("Invalid JSON")}},T=a=>{f(a);const i={};a.forEach(r=>{r.key&&(i[r.key]=r.value)}),m(r=>({...r,targetingRules:i})),k(JSON.stringify(i,null,2))},g=()=>{T([...p,{key:"",operator:"equals",value:""}])},$=a=>{T(p.filter((i,r)=>r!==a))},P=(a,i,r)=>{const y=[...p];y[a]={...y[a],[i]:r},T(y)},J=()=>{o.name.trim()&&d(o)};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:e.jsxs("div",{className:"w-full max-w-lg bg-gray-900/95 border border-white/10 rounded-2xl shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[e.jsx(E,{className:"w-5 h-5 text-cyan-400"}),b?"Edit Flag":"Create New Flag"]}),e.jsx("button",{onClick:x,className:"p-1.5 rounded-lg hover:bg-white/10 transition-colors",children:e.jsx(U,{className:"w-5 h-5 text-gray-400"})})]}),e.jsxs("div",{className:"p-4 space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-300 mb-1.5 block",children:["Flag Name ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",value:o.name,onChange:a=>j("name",a.target.value),placeholder:"e.g., new_dashboard_beta",className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500/50 transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-300 mb-1.5 block",children:"Description"}),e.jsx("textarea",{value:o.description,onChange:a=>j("description",a.target.value),placeholder:"What does this flag control?",rows:2,className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500/50 transition-colors resize-none"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-white",children:"Enabled"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Turn this flag on or off"})]}),e.jsx(X,{enabled:o.enabled,onChange:a=>j("enabled",a),disabled:h})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-300 mb-1.5 block",children:"Rollout Percentage"}),e.jsx(Y,{value:o.rolloutPercentage,onChange:a=>j("rolloutPercentage",a),disabled:h}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Percentage of users who will see this feature when enabled"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Targeting Rules"}),e.jsxs("div",{className:"flex items-center gap-1 bg-white/5 rounded-lg p-0.5",children:[e.jsx("button",{onClick:()=>u("form"),className:`px-2 py-1 text-xs rounded transition-colors ${N==="form"?"bg-cyan-500/20 text-cyan-400":"text-gray-400 hover:text-gray-300"}`,children:"Form"}),e.jsx("button",{onClick:()=>u("json"),className:`px-2 py-1 text-xs rounded transition-colors ${N==="json"?"bg-cyan-500/20 text-cyan-400":"text-gray-400 hover:text-gray-300"}`,children:"JSON"})]})]}),N==="form"?e.jsxs("div",{className:"space-y-2",children:[p.map((a,i)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:a.key,onChange:r=>P(i,"key",r.target.value),placeholder:"Key (e.g., userTier)",className:"flex-1 px-2 py-1.5 rounded bg-white/5 border border-white/10 text-white text-sm placeholder-gray-500 focus:outline-none focus:border-cyan-500/50"}),e.jsxs("select",{value:a.operator,onChange:r=>P(i,"operator",r.target.value),className:"px-2 py-1.5 rounded bg-white/5 border border-white/10 text-white text-sm focus:outline-none focus:border-cyan-500/50",children:[e.jsx("option",{value:"equals",children:"="}),e.jsx("option",{value:"notEquals",children:"!="}),e.jsx("option",{value:"contains",children:"contains"}),e.jsx("option",{value:"greaterThan",children:">"}),e.jsx("option",{value:"lessThan",children:"<"})]}),e.jsx("input",{type:"text",value:a.value,onChange:r=>P(i,"value",r.target.value),placeholder:"Value",className:"flex-1 px-2 py-1.5 rounded bg-white/5 border border-white/10 text-white text-sm placeholder-gray-500 focus:outline-none focus:border-cyan-500/50"}),e.jsx("button",{onClick:()=>$(i),className:"p-1.5 rounded hover:bg-red-500/20 text-red-400 transition-colors",children:e.jsx(U,{className:"w-4 h-4"})})]},i)),e.jsxs("button",{onClick:g,className:"flex items-center gap-1.5 text-xs text-cyan-400 hover:text-cyan-300 transition-colors",children:[e.jsx(V,{className:"w-3.5 h-3.5"}),"Add Rule"]})]}):e.jsxs("div",{children:[e.jsx("textarea",{value:v,onChange:a=>D(a.target.value),placeholder:'{"userTier": "premium", "country": "US"}',rows:4,className:`w-full px-3 py-2 rounded-lg bg-black/40 border font-mono text-sm text-gray-300 placeholder-gray-600 focus:outline-none transition-colors resize-none ${S?"border-red-500/50":"border-white/10 focus:border-cyan-500/50"}`}),S&&e.jsxs("p",{className:"text-xs text-red-400 mt-1 flex items-center gap-1",children:[e.jsx(K,{className:"w-3 h-3"}),S]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-2 p-4 border-t border-white/10",children:[e.jsx("button",{onClick:x,className:"px-4 py-2 rounded-lg bg-white/5 hover:bg-white/10 text-gray-300 text-sm transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:J,disabled:h||!o.name.trim()||S,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500 hover:bg-cyan-600 text-white text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[h?e.jsx(L,{className:"w-4 h-4 animate-spin"}):e.jsx(H,{className:"w-4 h-4"}),b?"Save Changes":"Create Flag"]})]})]})})}function me({flagName:t,onConfirm:d,onClose:x,loading:h}){return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:e.jsxs("div",{className:"w-full max-w-sm bg-gray-900/95 border border-white/10 rounded-2xl shadow-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center",children:e.jsx(K,{className:"w-5 h-5 text-red-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Delete Flag"}),e.jsx("p",{className:"text-sm text-gray-400",children:"This action cannot be undone"})]})]}),e.jsxs("p",{className:"text-sm text-gray-300 mb-6",children:["Are you sure you want to delete the flag"," ",e.jsx("span",{className:"font-mono text-cyan-400",children:t}),"?"]}),e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:x,className:"px-4 py-2 rounded-lg bg-white/5 hover:bg-white/10 text-gray-300 text-sm transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:d,disabled:h,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-red-500 hover:bg-red-600 text-white text-sm font-medium transition-colors disabled:opacity-50",children:[h?e.jsx(L,{className:"w-4 h-4 animate-spin"}):e.jsx(B,{className:"w-4 h-4"}),"Delete"]})]})]})})}function O({icon:t,label:d,value:x,color:h}){return e.jsxs("div",{className:"p-3 rounded-lg bg-white/5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(t,{className:`w-4 h-4 ${h}`}),e.jsx("span",{className:"text-xs text-gray-400",children:d})]}),e.jsx("div",{className:"text-xl font-bold text-white",children:x})]})}function Pe(){const[t,d]=n.useState([]),[x,h]=n.useState(!0),[b,o]=n.useState(!1),[m,N]=n.useState(""),[u,S]=n.useState("all"),[A,v]=n.useState(!1),[k,p]=n.useState(null),[f,j]=n.useState(null),[D,T]=n.useState(null),g=n.useCallback(()=>{try{const s=localStorage.getItem("musclemap-auth");if(s){const c=JSON.parse(s);if(c?.state?.token)return{Authorization:`Bearer ${c.state.token}`}}const l=localStorage.getItem("musclemap_token");return l?{Authorization:`Bearer ${l}`}:{}}catch{return{}}},[]),$=n.useCallback(async()=>{try{const s=await fetch(R,{headers:g()});if(s.ok){const l=await s.json();d(l.flags||[]),T(l.stats||null)}}catch{}finally{h(!1)}},[g]),P=n.useCallback(async(s,l)=>{o(!0);try{(await fetch(`${R}/${s}/toggle`,{method:"PATCH",headers:{"Content-Type":"application/json",...g()},body:JSON.stringify({enabled:l})})).ok&&d(M=>M.map(w=>w.id===s?{...w,enabled:l}:w))}catch{}finally{o(!1)}},[g]);n.useCallback(async(s,l)=>{o(!0);try{const c=await fetch(`${R}/${s}`,{method:"PATCH",headers:{"Content-Type":"application/json",...g()},body:JSON.stringify(l)});if(c.ok){const M=await c.json();d(w=>w.map(C=>C.id===s?{...C,...M}:C))}}catch{}finally{o(!1)}},[g]);const J=n.useCallback(s=>{const l=t.find(c=>c.id===s);l&&(p(l),v(!0))},[t]),a=n.useCallback(async s=>{o(!0);try{const l=!!k?.id,c=l?`${R}/${k.id}`:R,w=await fetch(c,{method:l?"PUT":"POST",headers:{"Content-Type":"application/json",...g()},body:JSON.stringify(s)});if(w.ok){const C=await w.json();d(l?_=>_.map(z=>z.id===C.id?C:z):_=>[C,..._]),v(!1),p(null)}}catch{}finally{o(!1)}},[k,g]),i=n.useCallback(async()=>{if(f){o(!0);try{(await fetch(`${R}/${f.id}`,{method:"DELETE",headers:g()})).ok&&(d(l=>l.filter(c=>c.id!==f.id)),j(null))}catch{}finally{o(!1)}}},[f,g]),r=t.filter(s=>{const l=!m||s.name.toLowerCase().includes(m.toLowerCase())||s.description?.toLowerCase().includes(m.toLowerCase());let c=!0;return u==="enabled"?c=s.enabled&&s.rolloutPercentage===100:u==="disabled"?c=!s.enabled:u==="rollout"&&(c=s.enabled&&s.rolloutPercentage<100),l&&c}),y=D||{total:t.length,enabled:t.filter(s=>s.enabled).length,inRollout:t.filter(s=>s.enabled&&s.rolloutPercentage<100).length,totalUsers:t.reduce((s,l)=>s+(l.usersAffected||0),0)};return n.useEffect(()=>{$()},[$]),x?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(L,{className:"w-8 h-8 animate-spin text-cyan-400"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(E,{className:"w-6 h-6 text-cyan-400"}),"Feature Flags"]}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Manage feature rollouts and targeting rules"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:$,className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/5 hover:bg-white/10 border border-white/10 transition-colors",children:e.jsx(te,{className:"w-4 h-4 text-gray-400"})}),e.jsxs("button",{onClick:()=>{p(null),v(!0)},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500 hover:bg-cyan-600 text-white font-medium transition-colors",children:[e.jsx(V,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"New Flag"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsx(F,{padding:!1,children:e.jsx(O,{icon:E,label:"Total Flags",value:y.total,color:"text-cyan-400"})}),e.jsx(F,{padding:!1,children:e.jsx(O,{icon:H,label:"Enabled",value:y.enabled,color:"text-green-400"})}),e.jsx(F,{padding:!1,children:e.jsx(O,{icon:ce,label:"In Rollout",value:y.inRollout,color:"text-yellow-400"})}),e.jsx(F,{padding:!1,children:e.jsx(O,{icon:G,label:"Users Affected",value:W(y.totalUsers),color:"text-purple-400"})})]}),e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:m,onChange:s=>N(s.target.value),placeholder:"Search flags...",className:"w-full pl-10 pr-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500/50 transition-colors"})]}),e.jsx("div",{className:"flex items-center gap-1 bg-white/5 rounded-lg p-1",children:I.map(s=>e.jsx("button",{onClick:()=>S(s.id),className:`px-3 py-1.5 rounded-md text-sm transition-colors ${u===s.id?"bg-cyan-500/20 text-cyan-400":"text-gray-400 hover:text-gray-300"}`,children:s.label},s.id))})]})}),e.jsxs(F,{className:"p-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h3",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[e.jsx(se,{className:"w-4 h-4 text-cyan-400"}),u==="all"?"All Flags":I.find(s=>s.id===u)?.label,e.jsxs("span",{className:"text-gray-400 font-normal",children:["(",r.length,")"]})]})}),r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(E,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-400",children:m?"No flags match your search":"No feature flags yet"}),!m&&e.jsx("button",{onClick:()=>{p(null),v(!0)},className:"mt-4 text-sm text-cyan-400 hover:text-cyan-300 transition-colors",children:"Create your first flag"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:r.map(s=>e.jsx(xe,{flag:s,onToggle:P,onEdit:J,onDelete:l=>j(t.find(c=>c.id===l)),loading:b},s.id))})]}),A&&e.jsx(he,{flag:k,onSave:a,onClose:()=>{v(!1),p(null)},loading:b}),f&&e.jsx(me,{flagName:f.name,onConfirm:i,onClose:()=>j(null),loading:b})]})}export{Pe as default};
