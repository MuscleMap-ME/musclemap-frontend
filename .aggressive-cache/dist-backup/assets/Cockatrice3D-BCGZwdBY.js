import{r as t,j as e}from"./react-vendor-D847gc3Q.js";import{u as y,C as G}from"./react-three-fiber.esm-BEHpZAxY.js";import{a0 as M,M as v,C as f,G as S}from"./three-vendor-y9bq9ss_.js";import"./leaflet-vendor-DZbo3Ov0.js";const w=t.forwardRef(({children:r,enabled:a=!0,speed:i=1,rotationIntensity:o=1,floatIntensity:h=1,floatingRange:s=[-.1,.1],autoInvalidate:m=!1,...p},n)=>{const l=t.useRef(null);t.useImperativeHandle(n,()=>l.current,[]);const g=t.useRef(Math.random()*1e4);return y(u=>{var d,x;if(!a||i===0)return;m&&u.invalidate();const c=g.current+u.clock.elapsedTime;l.current.rotation.x=Math.cos(c/4*i)/8*o,l.current.rotation.y=Math.sin(c/4*i)/8*o,l.current.rotation.z=Math.sin(c/4*i)/20*o;let j=Math.sin(c/4*i)/10;j=M.mapLinear(j,-.1,.1,(d=s?.[0])!==null&&d!==void 0?d:-.1,(x=s?.[1])!==null&&x!==void 0?x:.1),l.current.position.y=j*h,l.current.updateMatrix()}),t.createElement("group",p,t.createElement("group",{ref:l,matrixAutoUpdate:!1},r))});function R({state:r="idle",color:a="#1a1a1a"}){const i=t.useRef(null),o=t.useRef(null),h=t.useRef(null),s=t.useMemo(()=>new v({color:new f(a),wireframe:!1,roughness:.8,metalness:.1}),[a]);return t.useMemo(()=>new S({color:new f(a),linewidth:2}),[a]),y((m,p)=>{if(!i.current)return;const n=m.clock.elapsedTime;i.current.scale.setScalar(1+Math.sin(n*2)*.02),o.current&&(r==="hunting"?o.current.rotation.z=Math.sin(n*4)*.3:r==="victorious"?o.current.rotation.z=Math.sin(n*6)*.4:o.current.rotation.z=Math.sin(n*1.5)*.1),h.current&&(r==="hunting"?h.current.rotation.y=Math.sin(n*3)*.2:h.current.rotation.y=Math.sin(n*1)*.1),r==="alert"?i.current.rotation.y=Math.sin(n*2)*.1:r==="hunting"&&(i.current.position.x=Math.sin(n*2)*.1)}),e.jsxs("group",{ref:i,children:[e.jsx("mesh",{position:[0,.8,.3],material:s,children:e.jsx("sphereGeometry",{args:[.25,16,16]})}),e.jsx("mesh",{position:[0,1.1,.25],rotation:[.3,0,0],material:s,children:e.jsx("coneGeometry",{args:[.15,.3,4]})}),e.jsx("mesh",{position:[.08,1.05,.25],rotation:[.3,0,.2],material:s,children:e.jsx("coneGeometry",{args:[.1,.2,4]})}),e.jsx("mesh",{position:[-.08,1.05,.25],rotation:[.3,0,-.2],material:s,children:e.jsx("coneGeometry",{args:[.1,.2,4]})}),e.jsx("mesh",{position:[0,.75,.55],rotation:[-.3,0,0],material:s,children:e.jsx("coneGeometry",{args:[.08,.25,4]})}),e.jsx("mesh",{position:[0,.6,.45],material:s,children:e.jsx("sphereGeometry",{args:[.08,8,8]})}),e.jsxs("mesh",{position:[.12,.85,.45],children:[e.jsx("sphereGeometry",{args:[.05,8,8]}),e.jsx("meshStandardMaterial",{color:"#ffffff"})]}),e.jsxs("mesh",{position:[.13,.85,.48],children:[e.jsx("sphereGeometry",{args:[.025,8,8]}),e.jsx("meshStandardMaterial",{color:"#000000"})]}),e.jsxs("mesh",{position:[-.12,.85,.45],children:[e.jsx("sphereGeometry",{args:[.05,8,8]}),e.jsx("meshStandardMaterial",{color:"#ffffff"})]}),e.jsxs("mesh",{position:[-.13,.85,.48],children:[e.jsx("sphereGeometry",{args:[.025,8,8]}),e.jsx("meshStandardMaterial",{color:"#000000"})]}),e.jsx("mesh",{position:[0,.5,.1],rotation:[.5,0,0],material:s,children:e.jsx("cylinderGeometry",{args:[.12,.18,.4,8]})}),e.jsx("mesh",{position:[0,.1,-.1],rotation:[.3,0,0],material:s,children:e.jsx("sphereGeometry",{args:[.35,16,16]})}),e.jsxs("group",{ref:o,position:[.3,.3,-.1],children:[e.jsx("mesh",{rotation:[0,-.5,.3],material:s,children:e.jsx("planeGeometry",{args:[.6,.4]})}),e.jsx("mesh",{position:[.25,.15,0],rotation:[0,0,.8],material:s,children:e.jsx("cylinderGeometry",{args:[.02,.01,.3,4]})}),e.jsx("mesh",{position:[.2,.05,0],rotation:[0,0,.5],material:s,children:e.jsx("cylinderGeometry",{args:[.02,.01,.25,4]})}),e.jsx("mesh",{position:[.15,-.05,0],rotation:[0,0,.3],material:s,children:e.jsx("cylinderGeometry",{args:[.02,.01,.2,4]})})]}),e.jsx("group",{position:[-.3,.3,-.1],scale:[-1,1,1],children:e.jsx("mesh",{rotation:[0,-.5,.3],material:s,children:e.jsx("planeGeometry",{args:[.6,.4]})})}),e.jsx("mesh",{position:[.12,-.3,0],rotation:[.2,0,0],material:s,children:e.jsx("cylinderGeometry",{args:[.03,.02,.4,6]})}),e.jsx("mesh",{position:[-.12,-.3,0],rotation:[.2,0,0],material:s,children:e.jsx("cylinderGeometry",{args:[.03,.02,.4,6]})}),e.jsxs("group",{position:[.12,-.5,.05],children:[e.jsx("mesh",{rotation:[.5,0,0],material:s,children:e.jsx("coneGeometry",{args:[.02,.1,4]})}),e.jsx("mesh",{rotation:[.5,.4,0],position:[.03,0,0],material:s,children:e.jsx("coneGeometry",{args:[.015,.08,4]})}),e.jsx("mesh",{rotation:[.5,-.4,0],position:[-.03,0,0],material:s,children:e.jsx("coneGeometry",{args:[.015,.08,4]})})]}),e.jsxs("group",{position:[-.12,-.5,.05],children:[e.jsx("mesh",{rotation:[.5,0,0],material:s,children:e.jsx("coneGeometry",{args:[.02,.1,4]})}),e.jsx("mesh",{rotation:[.5,.4,0],position:[.03,0,0],material:s,children:e.jsx("coneGeometry",{args:[.015,.08,4]})}),e.jsx("mesh",{rotation:[.5,-.4,0],position:[-.03,0,0],material:s,children:e.jsx("coneGeometry",{args:[.015,.08,4]})})]}),e.jsxs("group",{ref:h,position:[0,-.1,-.4],children:[e.jsx("mesh",{position:[0,0,0],rotation:[1.2,0,0],material:s,children:e.jsx("cylinderGeometry",{args:[.12,.1,.3,8]})}),e.jsx("mesh",{position:[0,-.15,-.2],rotation:[.8,0,0],material:s,children:e.jsx("cylinderGeometry",{args:[.1,.08,.3,8]})}),e.jsx("mesh",{position:[-.1,-.25,-.4],rotation:[.3,.5,0],material:s,children:e.jsx("cylinderGeometry",{args:[.08,.06,.3,8]})}),e.jsx("mesh",{position:[-.25,-.2,-.5],rotation:[-.2,.8,0],material:s,children:e.jsx("cylinderGeometry",{args:[.06,.04,.25,8]})}),e.jsx("mesh",{position:[-.35,-.1,-.45],rotation:[-.5,1,0],material:s,children:e.jsx("cylinderGeometry",{args:[.04,.02,.2,8]})}),e.jsx("mesh",{position:[-.42,0,-.4],rotation:[-.8,1.2,0],material:s,children:e.jsx("coneGeometry",{args:[.04,.12,4]})})]}),r==="hunting"&&e.jsxs("mesh",{position:[0,.75,.8],children:[e.jsx("torusGeometry",{args:[.1,.01,8,16]}),e.jsx("meshStandardMaterial",{color:"#ff4444",emissive:"#ff0000",emissiveIntensity:.5})]}),r==="victorious"&&e.jsxs(e.Fragment,{children:[e.jsxs("mesh",{position:[.5,1,0],children:[e.jsx("sphereGeometry",{args:[.03,8,8]}),e.jsx("meshStandardMaterial",{color:"#ffd700",emissive:"#ffd700",emissiveIntensity:1})]}),e.jsxs("mesh",{position:[-.4,.8,.2],children:[e.jsx("sphereGeometry",{args:[.025,8,8]}),e.jsx("meshStandardMaterial",{color:"#ffd700",emissive:"#ffd700",emissiveIntensity:1})]}),e.jsxs("mesh",{position:[.3,.5,.4],children:[e.jsx("sphereGeometry",{args:[.02,8,8]}),e.jsx("meshStandardMaterial",{color:"#ffd700",emissive:"#ffd700",emissiveIntensity:1})]})]})]})}function E({state:r="idle",size:a=200,className:i="",color:o="#1a1a1a",backgroundColor:h="transparent"}){return e.jsx("div",{className:i,style:{width:a,height:a,background:h},children:e.jsxs(G,{camera:{position:[0,.5,2.5],fov:45},style:{background:h},children:[e.jsx("ambientLight",{intensity:.6}),e.jsx("directionalLight",{position:[5,5,5],intensity:.8}),e.jsx("directionalLight",{position:[-3,3,-3],intensity:.3}),e.jsx(w,{speed:2,rotationIntensity:r==="hunting"?.3:.1,floatIntensity:r==="idle"?.3:.1,children:e.jsx(R,{state:r,color:o})})]})})}export{E as Cockatrice3D,E as default};
