import{r as a,j as s,L as N}from"./react-vendor-D847gc3Q.js";import{G as w}from"./index-CPgxk9rr.js";import"./leaflet-vendor-DZbo3Ov0.js";import"./apollo-vendor-BNHFeEEc.js";import"./reactflow-vendor-CYb5nRwM.js";import"./d3-vendor-mcDw60ct.js";import"./recharts-vendor-CxtoZpzE.js";const r=[{id:"novice",name:"Novice",min:0,icon:"S",color:"bg-gray-600"},{id:"journeyman",name:"Journeyman",min:1e3,icon:"J",color:"bg-green-600"},{id:"advanced",name:"Advanced",min:2e3,icon:"A",color:"bg-blue-600"},{id:"master",name:"Master",min:5e3,icon:"M",color:"bg-purple-600"},{id:"grandmaster",name:"Grandmaster",min:1e4,icon:"G",color:"bg-yellow-500"}];function E(){const[n,c]=a.useState("mastery"),[d,l]=a.useState([]),[m,h]=a.useState([]),[x,u]=a.useState({tips:[]}),[p,b]=a.useState([]),[g,o]=a.useState(!0),{token:j}=w(),i={Authorization:`Bearer ${j}`};a.useEffect(()=>{Promise.all([fetch("/api/progression/mastery",{headers:i}).then(e=>e.json()),fetch("/api/progression/achievements",{headers:i}).then(e=>e.json()),fetch("/api/progression/nutrition",{headers:i}).then(e=>e.json()),fetch("/api/progression/leaderboard?limit=10").then(e=>e.json())]).then(([e,t,v,y])=>{l(e.mastery||[]),h(t.achievements||[]),u(v),b(y.leaderboard||[]),o(!1)}).catch(()=>o(!1))},[]);const f=e=>{for(let t=r.length-1;t>=0;t--)if(e>=r[t].min)return r[t];return r[0]};return g?s.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:"Loading..."}):s.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[s.jsx("header",{className:"bg-gray-800 p-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[s.jsx(N,{to:"/dashboard",className:"text-blue-400",children:"Back"}),s.jsx("h1",{className:"text-xl font-bold",children:"Progression"}),s.jsx("div",{})]})}),s.jsxs("main",{className:"max-w-4xl mx-auto p-4",children:[s.jsx("div",{className:"flex gap-2 mb-6",children:["mastery","achievements","nutrition","leaderboard"].map(e=>s.jsx("button",{onClick:()=>c(e),className:`px-4 py-2 rounded-full capitalize ${n===e?"bg-purple-600":"bg-gray-700"}`,children:e},e))}),n==="mastery"&&d.map(e=>{const t=f(e.total_tu);return s.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 mb-4",children:[s.jsxs("div",{className:"font-bold capitalize",children:[e.archetype_id," - ",t.name]}),s.jsxs("div",{children:[Math.round(e.total_tu)," TU"]})]},e.archetype_id)}),n==="achievements"&&m.map(e=>s.jsxs("div",{className:`p-4 rounded-xl mb-2 ${e.earned?"bg-yellow-600":"bg-gray-800 opacity-50"}`,children:[s.jsx("div",{className:"font-bold",children:e.name}),s.jsx("div",{className:"text-sm",children:e.description})]},e.id)),n==="nutrition"&&x.tips?.map(e=>s.jsxs("div",{className:"bg-green-900 rounded-xl p-4 mb-2",children:[s.jsx("div",{className:"font-bold",children:e.title}),s.jsx("div",{className:"text-sm",children:e.content})]},e.id)),n==="leaderboard"&&p.map((e,t)=>s.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 mb-2 flex justify-between",children:[s.jsxs("div",{children:["#",t+1," ",e.display_name]}),s.jsxs("div",{children:[Math.round(e.total_tu)," TU"]})]},t))]})]})}export{E as default};
