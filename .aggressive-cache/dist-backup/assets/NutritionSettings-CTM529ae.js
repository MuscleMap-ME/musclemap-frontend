import{d as I,r as o,j as e,L as M}from"./react-vendor-D1NxaRNd.js";import{G as N}from"./GlassSurface-BMiMerMg.js";import{G as p}from"./GlassButton-y0jI1ux9.js";import{G}from"./GlassNav-6iPh2cI7.js";import{G as L,a as A}from"./GlassMobileNav-5hRkoTkU.js";import{M as T}from"./MeshBackground-5ZvDS217.js";import{u as F,k as E,a as W}from"./nutritionStore-S_WkqyX1.js";import{c as P,d as K,u as $}from"./useNutrition-BnEE0yz9.js";import{e as O,a6 as D,a7 as H,m as C,ab as _}from"./index-DMkbA-AJ.js";import{C as b}from"./check-A54XJjMw.js";import{A as q}from"./arrow-left-BXQzk0Y3.js";import{E as B}from"./eye-DqVCdNfY.js";import{T as R}from"./trash-2-ChyY23g3.js";import{C as Y}from"./chevron-right-D5RMlYqG.js";import{C as z}from"./circle-alert-BvxMsQmi.js";import"./leaflet-vendor-DZbo3Ov0.js";import"./recharts-vendor-BziRPEEi.js";import"./d3-vendor-mcDw60ct.js";import"./apollo-vendor-BMQ75Ycx.js";import"./reactflow-vendor-Dz2P_-Qa.js";const V=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],U=O("calculator",V),Z=[{value:"sedentary",label:"Sedentary",description:"Little or no exercise"},{value:"light",label:"Light",description:"Light exercise 1-3 days/week"},{value:"moderate",label:"Moderate",description:"Moderate exercise 3-5 days/week"},{value:"active",label:"Active",description:"Hard exercise 6-7 days/week"},{value:"very_active",label:"Very Active",description:"Physical job + hard exercise"}],J=[{value:"lose",label:"Lose Weight",color:"text-red-400"},{value:"maintain",label:"Maintain",color:"text-blue-400"},{value:"gain",label:"Build Muscle",color:"text-green-400"}],Q=[{value:"slow",label:"Slow",description:"~0.5 lb/week"},{value:"moderate",label:"Moderate",description:"~1 lb/week"},{value:"aggressive",label:"Aggressive",description:"~1.5 lb/week"}],X=r=>r*.453592,ee=r=>r/.453592,te=(r,c)=>(r*12+c)*2.54,se=r=>{const c=r/2.54,s=Math.floor(c/12),a=Math.round(c%12);return{ft:s,inches:a}};function ae({onCalculate:r,isLoading:c}){const[s,a]=o.useState({weightKg:"",heightCm:"",age:"",sex:"male",activityLevel:"moderate",goalType:"maintain",goalIntensity:"moderate"}),[n,w]=o.useState(!0),[v,j]=o.useState(""),[f,m]=o.useState(""),[g,y]=o.useState(""),u=(t,l)=>{if(l)if(j(t),t){const i=X(parseFloat(t));a({...s,weightKg:i.toFixed(1)})}else a({...s,weightKg:""});else if(a({...s,weightKg:t}),t){const i=ee(parseFloat(t));j(i.toFixed(1))}else j("")},d=(t,l)=>{if(m(t),y(l),t||l){const i=te(parseFloat(t)||0,parseFloat(l)||0);a({...s,heightCm:i.toFixed(0)})}else a({...s,heightCm:""})},x=t=>{if(a({...s,heightCm:t}),t){const{ft:l,inches:i}=se(parseFloat(t));m(l.toString()),y(i.toString())}else m(""),y("")},k=t=>{t.preventDefault(),r({...s,weightKg:parseFloat(s.weightKg),heightCm:parseFloat(s.heightCm),age:parseInt(s.age,10)})};return e.jsxs("form",{onSubmit:k,className:"space-y-6",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"inline-flex rounded-lg border border-white/10 p-1",children:[e.jsx("button",{type:"button",onClick:()=>w(!0),className:`px-3 py-1 text-sm rounded-md transition-colors ${n?"bg-green-500/20 text-green-400":"text-gray-400 hover:text-white"}`,children:"lbs / ft"}),e.jsx("button",{type:"button",onClick:()=>w(!1),className:`px-3 py-1 text-sm rounded-md transition-colors ${n?"text-gray-400 hover:text-white":"bg-green-500/20 text-green-400"}`,children:"kg / cm"})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-gray-400 mb-2",children:["Weight (",n?"lbs":"kg",")"]}),n?e.jsx("input",{type:"number",step:"0.1",required:!0,value:v,onChange:t=>u(t.target.value,!0),className:`w-full px-4 py-3 bg-white/5 rounded-xl border border-white/10 text-white
                         focus:outline-none focus:border-green-500/50`,placeholder:"155"}):e.jsx("input",{type:"number",step:"0.1",required:!0,value:s.weightKg,onChange:t=>u(t.target.value,!1),className:`w-full px-4 py-3 bg-white/5 rounded-xl border border-white/10 text-white
                         focus:outline-none focus:border-green-500/50`,placeholder:"70"}),n&&s.weightKg&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["= ",s.weightKg," kg"]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-gray-400 mb-2",children:["Height (",n?"ft / in":"cm",")"]}),n?e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"number",min:"0",max:"8",required:!0,value:f,onChange:t=>d(t.target.value,g),className:`w-full px-4 py-3 bg-white/5 rounded-xl border border-white/10 text-white
                             focus:outline-none focus:border-green-500/50`,placeholder:"5"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1 block text-center",children:"ft"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"number",min:"0",max:"11",value:g,onChange:t=>d(f,t.target.value),className:`w-full px-4 py-3 bg-white/5 rounded-xl border border-white/10 text-white
                             focus:outline-none focus:border-green-500/50`,placeholder:"9"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1 block text-center",children:"in"})]})]}):e.jsx("input",{type:"number",required:!0,value:s.heightCm,onChange:t=>x(t.target.value),className:`w-full px-4 py-3 bg-white/5 rounded-xl border border-white/10 text-white
                         focus:outline-none focus:border-green-500/50`,placeholder:"175"}),n&&s.heightCm&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["= ",s.heightCm," cm"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Age"}),e.jsx("input",{type:"number",required:!0,value:s.age,onChange:t=>a({...s,age:t.target.value}),className:`w-full px-4 py-3 bg-white/5 rounded-xl border border-white/10 text-white
                       focus:outline-none focus:border-green-500/50`,placeholder:"30"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Sex"}),e.jsxs("select",{value:s.sex,onChange:t=>a({...s,sex:t.target.value}),className:`w-full px-4 py-3 bg-white/5 rounded-xl border border-white/10 text-white
                       focus:outline-none focus:border-green-500/50`,children:[e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-3",children:"Activity Level"}),e.jsx("div",{className:"space-y-2",children:Z.map(t=>e.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-xl border cursor-pointer transition-colors ${s.activityLevel===t.value?"border-green-500/50 bg-green-500/10":"border-white/10 hover:bg-white/5"}`,children:[e.jsx("input",{type:"radio",name:"activityLevel",value:t.value,checked:s.activityLevel===t.value,onChange:l=>a({...s,activityLevel:l.target.value}),className:"sr-only"}),e.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${s.activityLevel===t.value?"border-green-400 bg-green-400":"border-white/30"}`,children:s.activityLevel===t.value&&e.jsx(b,{className:"w-3 h-3 text-black"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:t.label}),e.jsx("p",{className:"text-xs text-gray-400",children:t.description})]})]},t.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-3",children:"Goal"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:J.map(t=>e.jsx("button",{type:"button",onClick:()=>a({...s,goalType:t.value}),className:`p-4 rounded-xl border text-center transition-colors ${s.goalType===t.value?"border-green-500/50 bg-green-500/10":"border-white/10 hover:bg-white/5"}`,children:e.jsx("span",{className:`font-medium ${t.color}`,children:t.label})},t.value))})]}),s.goalType!=="maintain"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-3",children:"Intensity"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:Q.map(t=>e.jsxs("button",{type:"button",onClick:()=>a({...s,goalIntensity:t.value}),className:`p-4 rounded-xl border text-center transition-colors ${s.goalIntensity===t.value?"border-green-500/50 bg-green-500/10":"border-white/10 hover:bg-white/5"}`,children:[e.jsx("p",{className:"text-white font-medium",children:t.label}),e.jsx("p",{className:"text-xs text-gray-400",children:t.description})]},t.value))})]}),e.jsxs(p,{type:"submit",variant:"primary",className:"w-full",disabled:c,children:[e.jsx(U,{className:"w-4 h-4 mr-2"}),c?"Calculating...":"Calculate Goals"]})]})}function ke(){const r=I(),c=F(),s=E(),a=W(),{enable:n,disable:w,updatePreferences:v}=P(),{calculateGoals:j}=K(),{load:f}=$(),[m,g]=o.useState(!a),[y,u]=o.useState(!1),[d,x]=o.useState(!1);o.useEffect(()=>{f()},[f]);const k=async()=>{x(!0);try{await n(),g(!0)}catch{}finally{x(!1)}},t=async(h=!1)=>{x(!0);try{await w(h),r("/dashboard")}catch{}finally{x(!1),u(!1)}},l=async h=>{x(!0);try{await j(h),g(!1)}catch{}finally{x(!1)}},i=async h=>{if(s)try{await v({[h]:!s[h]})}catch{}};return c?e.jsxs("div",{className:"min-h-screen bg-gray-950",children:[e.jsx(T,{}),e.jsx(G,{}),e.jsx(L,{}),e.jsx("main",{className:"lg:pl-64 pt-16 pb-24 lg:pb-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx(M,{to:"/nutrition",children:e.jsx(p,{variant:"ghost",size:"sm",children:e.jsx(q,{className:"w-4 h-4"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Nutrition Settings"}),e.jsx("p",{className:"text-gray-400",children:"Configure your tracking preferences"})]})]}),a&&!m&&e.jsxs(N,{className:"p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Your Goals"}),e.jsx("button",{onClick:()=>g(!0),className:"text-sm text-green-400 hover:underline",children:"Recalculate"})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-white/5 rounded-xl",children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:a.calories}),e.jsx("p",{className:"text-xs text-gray-400",children:"Calories"})]}),e.jsxs("div",{className:"text-center p-4 bg-white/5 rounded-xl",children:[e.jsxs("p",{className:"text-2xl font-bold text-green-400",children:[a.proteinG,"g"]}),e.jsx("p",{className:"text-xs text-gray-400",children:"Protein"})]}),e.jsxs("div",{className:"text-center p-4 bg-white/5 rounded-xl",children:[e.jsxs("p",{className:"text-2xl font-bold text-blue-400",children:[a.carbsG,"g"]}),e.jsx("p",{className:"text-xs text-gray-400",children:"Carbs"})]}),e.jsxs("div",{className:"text-center p-4 bg-white/5 rounded-xl",children:[e.jsxs("p",{className:"text-2xl font-bold text-yellow-400",children:[a.fatG,"g"]}),e.jsx("p",{className:"text-xs text-gray-400",children:"Fat"})]})]}),a.workoutDayCalories>a.calories&&e.jsxs("div",{className:"mt-4 p-3 bg-green-500/10 rounded-xl text-sm text-green-300",children:[e.jsx(H,{className:"w-4 h-4 inline mr-2"}),"On workout days: ",a.workoutDayCalories," cal, ",a.workoutDayProteinG,"g protein"]}),e.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:["BMR: ",a.bmr," cal | TDEE: ",a.tdee," cal"]})]}),m&&e.jsxs(N,{className:"p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Calculate Your Goals"}),e.jsx(ae,{onCalculate:l,isLoading:d})]}),e.jsxs(N,{className:"p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Preferences"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl cursor-pointer hover:bg-white/10 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(B,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Show on Dashboard"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Display nutrition widget on main dashboard"})]})]}),e.jsx("div",{onClick:()=>i("showOnDashboard"),className:`w-12 h-6 rounded-full p-1 transition-colors ${s?.showOnDashboard?"bg-green-500":"bg-white/20"}`,children:e.jsx(C.div,{className:"w-4 h-4 rounded-full bg-white",animate:{x:s?.showOnDashboard?24:0},transition:{type:"spring",stiffness:500,damping:30}})})]}),e.jsxs("label",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl cursor-pointer hover:bg-white/10 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Sync with Workouts"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Adjust calories on workout days"})]})]}),e.jsx("div",{onClick:()=>i("syncWithWorkouts"),className:`w-12 h-6 rounded-full p-1 transition-colors ${s?.syncWithWorkouts?"bg-green-500":"bg-white/20"}`,children:e.jsx(C.div,{className:"w-4 h-4 rounded-full bg-white",animate:{x:s?.syncWithWorkouts?24:0},transition:{type:"spring",stiffness:500,damping:30}})})]}),e.jsxs("label",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl cursor-pointer hover:bg-white/10 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(D,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Sync with Archetype"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Use archetype-specific nutrition profile"})]})]}),e.jsx("div",{onClick:()=>i("syncWithArchetype"),className:`w-12 h-6 rounded-full p-1 transition-colors ${s?.syncWithArchetype?"bg-green-500":"bg-white/20"}`,children:e.jsx(C.div,{className:"w-4 h-4 rounded-full bg-white",animate:{x:s?.syncWithArchetype?24:0},transition:{type:"spring",stiffness:500,damping:30}})})]})]})]}),e.jsxs(N,{className:"p-6 border border-red-500/20",children:[e.jsx("h2",{className:"text-lg font-semibold text-red-400 mb-4",children:"Danger Zone"}),y?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-500/10 rounded-xl",children:[e.jsx(z,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-red-400 font-medium",children:"Are you sure?"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"You can disable tracking and keep your data, or delete everything permanently."})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(p,{variant:"ghost",className:"flex-1",onClick:()=>u(!1),children:"Cancel"}),e.jsx(p,{variant:"ghost",className:"flex-1 text-yellow-400 border-yellow-400/30",onClick:()=>t(!1),disabled:d,children:"Disable Only"}),e.jsx(p,{variant:"ghost",className:"flex-1 text-red-400 border-red-400/30",onClick:()=>t(!0),disabled:d,children:"Delete All Data"})]})]}):e.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-3 w-full p-4 bg-red-500/10 rounded-xl text-left hover:bg-red-500/20 transition-colors",children:[e.jsx(R,{className:"w-5 h-5 text-red-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-red-400 font-medium",children:"Disable Nutrition Tracking"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Turn off tracking and optionally delete all data"})]}),e.jsx(Y,{className:"w-5 h-5 text-red-400 ml-auto"})]})]})]})}),e.jsx(A,{})]}):e.jsxs("div",{className:"min-h-screen bg-gray-950",children:[e.jsx(T,{}),e.jsx(G,{}),e.jsx(L,{}),e.jsx("main",{className:"lg:pl-64 pt-16 pb-24 lg:pb-8",children:e.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs(N,{className:"p-8 text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-2xl bg-gradient-to-br from-green-500/20 to-emerald-500/20 flex items-center justify-center",children:e.jsx(D,{className:"w-10 h-10 text-green-400"})}),e.jsx("h1",{className:"text-2xl font-bold text-white mb-3",children:"Enable Nutrition Tracking"}),e.jsx("p",{className:"text-gray-400 mb-6 max-w-md mx-auto",children:"Track your meals, calories, and macros. Get personalized goals based on your body metrics and training archetype."}),e.jsxs("ul",{className:"text-left max-w-sm mx-auto mb-8 space-y-3",children:[e.jsxs("li",{className:"flex items-center gap-3 text-gray-300",children:[e.jsx(b,{className:"w-5 h-5 text-green-400"}),"Smart macro calculations"]}),e.jsxs("li",{className:"flex items-center gap-3 text-gray-300",children:[e.jsx(b,{className:"w-5 h-5 text-green-400"}),"Food database with barcode scanning"]}),e.jsxs("li",{className:"flex items-center gap-3 text-gray-300",children:[e.jsx(b,{className:"w-5 h-5 text-green-400"}),"Recipe & meal plan creation"]}),e.jsxs("li",{className:"flex items-center gap-3 text-gray-300",children:[e.jsx(b,{className:"w-5 h-5 text-green-400"}),"Archetype-specific recommendations"]}),e.jsxs("li",{className:"flex items-center gap-3 text-gray-300",children:[e.jsx(b,{className:"w-5 h-5 text-green-400"}),"Workout day calorie adjustments"]})]}),e.jsx(p,{variant:"primary",onClick:k,disabled:d,className:"w-full max-w-xs",children:d?"Enabling...":"Enable Nutrition Tracking"})]})})}),e.jsx(A,{})]})}export{ke as default};
