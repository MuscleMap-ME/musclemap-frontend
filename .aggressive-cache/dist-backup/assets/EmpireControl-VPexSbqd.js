const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ActivityFeed-CdxGi5x7.js","assets/react-vendor-D847gc3Q.js","assets/index-DXxw33y3.js","assets/date-vendor-C_JWt2cu.js","assets/leaflet-vendor-CIGW-MKW.css","assets/reactflow-vendor-B5DZHykP.css","assets/index-wbAumefF.css","assets/ServerControl-D4GeYQG_.js","assets/GlassSurface-DZwHl8aR.js","assets/loader-circle-61W_4598.js","assets/server-BdpFLn0h.js","assets/refresh-cw-BXp7t2ED.js","assets/database-D1QB0tGM.js","assets/memory-stick-1nlPyaDZ.js","assets/hard-drive-XxKmai33.js","assets/chevron-down-BSDJRnM9.js","assets/chevron-right-B-gUuGbN.js","assets/square-CnCcepQQ.js","assets/rotate-ccw-CPcqKgXi.js","assets/upload-BQHiuba7.js","assets/circle-check-big-DeWI5Sn7.js","assets/file-text-Bhzfikbv.js","assets/git-branch-Kviei4wq.js","assets/git-commit-horizontal-B28n21qL.js","assets/terminal-BpE8hhIJ.js","assets/triangle-alert-KB_DG74S.js","assets/circle-x-2z5-91QU.js","assets/DatabasePanel-B4r4YS56.js","assets/trash-2-KBUZHYb1.js","assets/layers-BGUQcUhK.js","assets/chevron-left-CmD2wQis.js","assets/SchedulerPanel-0vCQQf9B.js","assets/pause-DwiVpI-f.js","assets/timer-PFd8Fo5i.js","assets/history-DuP62K1A.js","assets/pen-BPPqFyx-.js","assets/EnvPanel-rt0hrLUV.js","assets/shield-check-BRs-Fs3C.js","assets/key-CgTt9wRg.js","assets/shield-alert-DmAz_UwV.js","assets/eye-D7uycKUx.js","assets/check-IfTCQi0t.js","assets/copy-LT2RX4uA.js","assets/pen-line-DDnDy8Yl.js","assets/save-Cakmvu51.js","assets/DeployPanel-PSWsxV-u.js","assets/MetricsPanel-CQtqUtTr.js","assets/trending-down-D-6HWyXi.js","assets/gauge-BMvTlQEG.js","assets/wifi-5cN78XVI.js","assets/arrow-up-down-C8tMf722.js","assets/AlertsPanel-DpADi39L.js","assets/send-Byd-Av70.js","assets/mail-Df4lY2Ll.js","assets/info-CKD1L6az.js","assets/SecurityPanel-gEhwwxCt.js","assets/monitor-RLEPMJYM.js","assets/ban-CS1zb1wv.js","assets/lock-Bk4VZQzG.js","assets/FeatureFlagsPanel-CP7xN0FU.js","assets/funnel-f-rva5JW.js","assets/LogsPanel-CrPb0uh2.js","assets/download-CUgOHKRt.js","assets/circle-alert-DrnS8gB_.js","assets/BackupPanel-BYyyY0HY.js","assets/MarkdownEditor-CkLX7ASe.js","assets/file-DJlOeAYv.js","assets/UserAnalyticsPanel-DkRTfyHm.js","assets/external-link-_652WxEW.js","assets/BuildDaemonPanel-DXeOLb-E.js"])))=>i.map(i=>d[i]);
import{c as Y,e as qt,aG as ce,H as Vt,aH as Jt,Z as w,aE as M,v as Ht,M as oe,q as E,o as Qe,aI as Ce,aJ as Zs,U as de,aK as et,aL as st,aM as tt,x as Wt,B as Ws,N as at,aN as W,J as Ve,L as Je,p as He,aF as Qt,X as Qs,aO as Yt,aP as Xt,aQ as Kt,aR as Zt,aS as ea,_ as b}from"./index-DXxw33y3.js";import{r as t,j as e,L as N,a as sa}from"./react-vendor-D847gc3Q.js";import{G as o}from"./GlassSurface-DZwHl8aR.js";import{S as lt}from"./server-BdpFLn0h.js";import{D as rt}from"./database-D1QB0tGM.js";import{F as ta,L as aa,A as la}from"./lock-Bk4VZQzG.js";import{R as ra,T as ia}from"./terminal-BpE8hhIJ.js";import{T as it}from"./triangle-alert-KB_DG74S.js";import{M as nt,G as Q}from"./mail-Df4lY2Ll.js";import{C as ne}from"./chevron-right-B-gUuGbN.js";import{R as x}from"./refresh-cw-BXp7t2ED.js";import{A as ct,S as Ys}from"./send-Byd-Av70.js";import{R as na,A as ca,f as oa,X as da,Y as xa,e as ma,h as ha}from"./recharts-vendor-d8oTApeF.js";import{C as H}from"./circle-alert-DrnS8gB_.js";import{C as A}from"./circle-check-big-DeWI5Sn7.js";import{E as ua}from"./eye-D7uycKUx.js";import{E as T}from"./external-link-_652WxEW.js";import{L as pa}from"./loader-circle-61W_4598.js";const ga=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],ba=Y("ellipsis-vertical",ga);const ja=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"11.5",cy:"14.5",r:"2.5",key:"1bq0ko"}],["path",{d:"M13.3 16.3 15 18",key:"2quom7"}]],ya=Y("file-search",ja);const fa=[["path",{d:"M6 16c5 0 7-8 12-8a4 4 0 0 1 0 8c-5 0-7-8-12-8a4 4 0 1 0 0 8",key:"18ogeb"}]],_e=Y("infinity",fa);const va=[["rect",{width:"3",height:"8",x:"13",y:"2",rx:"1.5",key:"diqz80"}],["path",{d:"M19 8.5V10h1.5A1.5 1.5 0 1 0 19 8.5",key:"183iwg"}],["rect",{width:"3",height:"8",x:"8",y:"14",rx:"1.5",key:"hqg7r1"}],["path",{d:"M5 15.5V14H3.5A1.5 1.5 0 1 0 5 15.5",key:"76g71w"}],["rect",{width:"8",height:"3",x:"14",y:"13",rx:"1.5",key:"1kmz0a"}],["path",{d:"M15.5 19H14v1.5a1.5 1.5 0 1 0 1.5-1.5",key:"jc4sz0"}],["rect",{width:"8",height:"3",x:"2",y:"8",rx:"1.5",key:"1omvl4"}],["path",{d:"M8.5 5H10V3.5A1.5 1.5 0 1 0 8.5 5",key:"16f3cl"}]],Ye=Y("slack",va);const Na=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],wa=Y("toggle-left",Na);const ka=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Sa=Y("user-plus",ka);t.lazy(()=>b(()=>import("./ActivityFeed-CdxGi5x7.js"),__vite__mapDeps([0,1,2,3,4,5,6])));const Ca=t.lazy(()=>b(()=>import("./ServerControl-D4GeYQG_.js"),__vite__mapDeps([7,1,8,9,2,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,4,5,6]))),_a=t.lazy(()=>b(()=>import("./DatabasePanel-B4r4YS56.js"),__vite__mapDeps([27,1,8,9,2,12,28,11,25,26,10,29,15,16,14,30,4,5,6]))),Aa=t.lazy(()=>b(()=>import("./SchedulerPanel-0vCQQf9B.js"),__vite__mapDeps([31,1,8,9,2,11,25,32,26,33,15,16,34,35,28,20,4,5,6]))),Ta=t.lazy(()=>b(()=>import("./EnvPanel-rt0hrLUV.js"),__vite__mapDeps([36,1,8,9,2,26,11,37,38,15,16,25,34,20,39,40,41,42,43,28,44,4,5,6]))),Ea=t.lazy(()=>b(()=>import("./DeployPanel-PSWsxV-u.js"),__vite__mapDeps([45,1,8,9,2,24,11,40,34,22,23,15,18,26,20,25,4,5,6]))),Ua=t.lazy(()=>b(()=>import("./MetricsPanel-CQtqUtTr.js"),__vite__mapDeps([46,1,8,2,11,25,47,9,48,49,50,4,5,6]))),Ra=t.lazy(()=>b(()=>import("./AlertsPanel-DpADi39L.js"),__vite__mapDeps([51,1,8,9,2,11,15,16,52,53,20,25,54,35,28,26,4,5,6]))),$a=t.lazy(()=>b(()=>import("./SecurityPanel-gEhwwxCt.js"),__vite__mapDeps([55,1,8,9,2,11,25,56,57,37,39,15,16,58,20,40,26,28,4,5,6]))),Oa=t.lazy(()=>b(()=>import("./FeatureFlagsPanel-CP7xN0FU.js"),__vite__mapDeps([59,1,8,9,2,11,41,60,15,16,35,28,25,4,5,6]))),Fa=t.lazy(()=>b(()=>import("./LogsPanel-CrPb0uh2.js"),__vite__mapDeps([61,1,8,24,2,11,29,9,32,62,54,25,63,60,15,16,4,5,6]))),Ma=t.lazy(()=>b(()=>import("./BackupPanel-BYyyY0HY.js"),__vite__mapDeps([64,1,8,9,2,58,11,19,14,62,20,26,18,28,25,4,5,6]))),Pa=t.lazy(()=>b(()=>import("./MarkdownEditor-CkLX7ASe.js"),__vite__mapDeps([65,1,8,21,2,11,9,43,42,40,44,62,28,15,16,66,25,4,5,6]))),Da=t.lazy(()=>b(()=>import("./UserAnalyticsPanel-DkRTfyHm.js"),__vite__mapDeps([67,1,8,11,2,25,9,47,16,10,12,58,24,53,52,63,20,40,68,4,5,6]))),Ba=t.lazy(()=>b(()=>import("./BuildDaemonPanel-DXeOLb-E.js"),__vite__mapDeps([69,1,8,49,2,9,11,63,24,28,15,16,20,4,5,6]))),Xs=[{id:"unlimited_credits",name:"Unlimited Credits",icon:_e,color:"#fbbf24"},{id:"gift_credits",name:"Gift Credits",icon:Q,color:"#10b981"},{id:"ban_user",name:"Ban Users",icon:at,color:"#ef4444"},{id:"grant_achievements",name:"Grant Achievements",icon:ct,color:"#8b5cf6"},{id:"broadcast",name:"Broadcast Message",icon:W,color:"#06b6d4"},{id:"system_override",name:"System Override",icon:w,color:"#f59e0b"}],Se=[{id:"overview",label:"Overview",icon:Vt},{id:"server",label:"Server Control",icon:lt},{id:"database",label:"Database",icon:rt},{id:"scheduler",label:"Scheduler",icon:Jt},{id:"env",label:"Environment",icon:ta},{id:"deploy",label:"Deployments",icon:ra,link:"/empire/deploy"},{id:"build-daemon",label:"Build Daemon",icon:w},{id:"commands",label:"Command Center",icon:ia,link:"/empire/commands"},{id:"realtime-metrics",label:"Real-time Metrics",icon:M},{id:"alerts",label:"Alerts",icon:it},{id:"security",label:"Security",icon:aa},{id:"feature-flags",label:"Feature Flags",icon:wa},{id:"logs",label:"Log Analysis",icon:ya},{id:"backup",label:"Backup & Recovery",icon:la},{id:"docs",label:"Documentation",icon:Ht},{id:"feedback",label:"Feedback Queue",icon:oe},{id:"bug-tracker",label:"Bug Tracker",icon:E},{id:"user-analytics",label:"User Analytics",icon:Sa},{id:"analytics",label:"GA Analytics",icon:Qe},{id:"metrics",label:"System Metrics",icon:Ce},{id:"scorecard",label:"Test Scorecard",icon:Zs,link:"/empire/scorecard"},{id:"users",label:"Users",icon:de},{id:"community",label:"Community",icon:et},{id:"messages",label:"Messages",icon:nt},{id:"economy",label:"Economy",icon:st},{id:"avatar",label:"My Avatar",icon:ce},{id:"slack",label:"Slack",icon:Ye},{id:"settings",label:"Settings",icon:tt}],z="G-S4RPD5JD5L";function m({title:d,value:l,icon:k,trend:y,trendValue:P,color:j="#8b5cf6",onClick:D}){return e.jsx(o,{className:`p-4 ${D?"cursor-pointer hover:bg-white/5 transition-colors":""}`,onClick:D,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:d}),e.jsx("div",{className:"text-2xl font-bold",style:{color:j},children:typeof l=="number"?l.toLocaleString():l}),y&&e.jsxs("div",{className:`flex items-center gap-1 text-xs mt-1 ${y==="up"?"text-green-400":"text-red-400"}`,children:[y==="up"?"↑":"↓"," ",P]})]}),k&&e.jsx("div",{className:"p-2 rounded-lg bg-white/5",style:{color:j},children:e.jsx(k,{className:"w-5 h-5"})})]})})}function La({icon:d,label:l,onClick:k,color:y="#8b5cf6"}){return e.jsxs("button",{onClick:k,className:"flex flex-col items-center gap-2 p-3 rounded-xl bg-white/5 hover:bg-white/10 transition-colors",children:[e.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:`${y}20`},children:e.jsx(d,{className:"w-5 h-5",style:{color:y}})}),e.jsx("span",{className:"text-xs text-gray-400",children:l})]})}function We({status:d,label:l}){const k={healthy:"bg-green-500",degraded:"bg-yellow-500",unhealthy:"bg-red-500"};return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${k[d]||"bg-gray-500"}`}),e.jsx("span",{className:"text-sm",children:l})]})}function Ks({user:d,onAction:l}){return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsxs(N,{to:`/empire/user/${d.id}`,className:"flex items-center gap-3 hover:opacity-80 transition-opacity cursor-pointer flex-1 min-w-0",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-violet-500 to-fuchsia-500 flex items-center justify-center text-white font-bold flex-shrink-0",children:d.username?.charAt(0).toUpperCase()||"?"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"font-medium truncate",children:d.displayName||d.username}),e.jsx("div",{className:"text-xs text-gray-400 truncate",children:d.email})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsx("button",{onClick:()=>l("gift",d),className:"p-2 rounded-lg hover:bg-white/10 text-green-400",title:"Gift Credits",children:e.jsx(Q,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>l("message",d),className:"p-2 rounded-lg hover:bg-white/10 text-blue-400",title:"Message",children:e.jsx(W,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>l("more",d),className:"p-2 rounded-lg hover:bg-white/10 text-gray-400",children:e.jsx(ba,{className:"w-4 h-4"})})]})]})}function Ia(){const{user:d}=qt(),[l,k]=t.useState("overview"),[y,P]=t.useState(!0),[j,D]=t.useState(null),[Ae,xe]=t.useState([]),[U,Te]=t.useState([]),[Xe,Ke]=t.useState([]),[Ze,ot]=t.useState([]),[es,dt]=t.useState(null),[ss,me]=t.useState([]),[he,ue]=t.useState(!1),[R,Ee]=t.useState(""),[ts,as]=t.useState(!1),[ls,X]=t.useState(null),[pe,xt]=t.useState(""),[mt,Ue]=t.useState(!1),[q,rs]=t.useState(null),[K,Re]=t.useState(100),[B,ht]=t.useState(null),[is,ut]=t.useState([]),[S,Z]=t.useState({type:null,status:null}),[i,ns]=t.useState(null),[pt,cs]=t.useState(!1),[ge,os]=t.useState(""),[ds,xs]=t.useState(!1),[p,gt]=t.useState(null),[$e,bt]=t.useState([]),[h,V]=t.useState({status:"all",source:"all",priority:"all"}),[r,ms]=t.useState(null),[jt,Oe]=t.useState(!1),[hs,yt]=t.useState([]),[Fe,us]=t.useState(!1),[Me,ft]=t.useState([]),[C,vt]=t.useState(null),[u,ee]=t.useState({status:"all",severity:"all",type:"all"}),[g,Nt]=t.useState(null),[be,ps]=t.useState("errors"),[Pe,wt]=t.useState(0),[J,f]=t.useState(null),[gs,bs]=t.useState(!1),[kt,De]=t.useState(""),[js,je]=t.useState([]),[$,ys]=t.useState(null),[fs,vs]=t.useState(""),[Ns,ws]=t.useState(!1),[St,Be]=t.useState(""),[ks,ye]=t.useState([]),[O,Ss]=t.useState(null),[fe,Cs]=t.useState(""),[_s,As]=t.useState(!1),[ve,Ts]=t.useState(""),[Es,Us]=t.useState(!1),[Ct,Rs]=t.useState(""),[se,$s]=t.useState(!1),[_t,Le]=t.useState(""),[Os,Ne]=t.useState([]),[F,Fs]=t.useState(null),[te,Ms]=t.useState(100),[Ps,Ds]=t.useState(!1),n=t.useCallback(()=>{try{const s=localStorage.getItem("musclemap-auth");if(s){const c=JSON.parse(s)?.state?.token;if(c)return{Authorization:`Bearer ${c}`}}}catch{}return{}},[]),ae=t.useCallback(async()=>{try{const s=await fetch("/metrics");if(s.ok){const a=await s.text(),c=Ga(a);D(c),xe(v=>{const ie={time:new Date().toLocaleTimeString(),requests:c.musclemap_http_requests_total?.[0]?.value||0,connections:c.musclemap_db_connections_total?.[0]?.value||0};return[...v,ie].slice(-30)})}}catch{}},[]),Bs=t.useCallback(async()=>{try{const s=await fetch("/api/admin-control/users?limit=20",{headers:n()});if(s.ok){const a=await s.json();Te(a.data||a.users||[])}}catch{}},[n]),Ls=t.useCallback(async()=>{try{const s=await fetch("/api/admin-control/audit/credits",{headers:n()});if(s.ok){const a=await s.json();dt(a)}}catch{}},[n]),Is=t.useCallback(async()=>{try{const s=await fetch("/api/messaging/conversations",{headers:n()});if(s.ok){const c=(await s.json()).data||[];ot(c.map(v=>({id:v.id,content:v.lastMessage?.content||"No messages yet",createdAt:v.lastMessage?.createdAt||v.createdAt,participant:v.participant,unreadCount:v.unreadCount})))}}catch{}},[n]),Gs=t.useCallback(async()=>{try{const s=await fetch("/api/notifications/unread-count",{headers:n()});if(s.ok){const a=await s.json();wt(a.data?.count||0)}}catch{}},[n]),le=t.useCallback(async()=>{try{const s=await fetch("/api/admin/feedback/stats",{headers:n()});if(s.ok){const a=await s.json();ht(a)}}catch{}},[n]),L=t.useCallback(async()=>{try{let s="/api/admin/feedback?limit=50";S.type&&(s+=`&type=${S.type}`),S.status&&(s+=`&status=${S.status}`);const a=await fetch(s,{headers:n()});if(a.ok){const c=await a.json();ut(c.items||[])}}catch{}},[n,S]),Ie=t.useCallback(async s=>{try{const a=await fetch(`/api/admin/feedback/${s}`,{headers:n()});if(a.ok){const c=await a.json();ns(c),cs(!0)}}catch{}},[n]),zs=async s=>{try{const a=await fetch(`/api/admin/feedback/${s}/confirm-bug`,{method:"POST",headers:n()});if(a.ok){const c=await a.json();alert(`Bug confirmed! Job ID: ${c.jobId}`),L(),le()}}catch{}},At=async(s,a)=>{try{(await fetch(`/api/admin/feedback/${s}`,{method:"PATCH",headers:{"Content-Type":"application/json",...n()},body:JSON.stringify({status:a})})).ok&&(L(),le(),i?.id===s&&Ie(s))}catch{}},Tt=async()=>{if(!(!i||!ge.trim()))try{(await fetch(`/api/admin/feedback/${i.id}/respond`,{method:"POST",headers:{"Content-Type":"application/json",...n()},body:JSON.stringify({message:ge,is_internal:ds})})).ok&&(os(""),xs(!1),Ie(i.id))}catch{}},I=t.useCallback(async()=>{try{const s=await fetch("/api/admin/bugs/stats",{headers:n()});if(s.ok){const a=await s.json();gt(a)}}catch{}},[n]),_=t.useCallback(async()=>{try{let s="/api/admin/bugs?limit=100";h.status!=="all"&&(s+=`&status=${h.status}`),h.source!=="all"&&(s+=`&source=${h.source}`),h.priority!=="all"&&(s+=`&priority=${h.priority}`);const a=await fetch(s,{headers:n()});if(a.ok){const c=await a.json();bt(c.items||[])}}catch{}},[n,h]),Ge=t.useCallback(async s=>{try{const a=await fetch(`/api/admin/bugs/${s}`,{headers:n()});if(a.ok){const c=await a.json();ms(c),Oe(!0)}}catch{}},[n]),qs=t.useCallback(async()=>{try{const s=await fetch("/api/admin/bugs/timeline?limit=50",{headers:n()});if(s.ok){const a=await s.json();yt(a.items||[])}}catch{}},[n]),G=t.useCallback(async()=>{try{let s="/api/errors/list?limit=100";u.status!=="all"&&(s+=`&status=${u.status}`),u.severity!=="all"&&(s+=`&severity=${u.severity}`),u.type!=="all"&&(s+=`&type=${u.type}`);const a=await fetch(s,{headers:n()});if(a.ok){const c=await a.json();ft(c.items||[])}}catch{}},[n,u]),re=t.useCallback(async()=>{try{const s=await fetch("/api/errors/admin-stats",{headers:n()});if(s.ok){const a=await s.json();vt(a)}}catch{}},[n]),Vs=async s=>{try{const a=await fetch(`/api/errors/${s}/convert-to-bug`,{method:"POST",headers:{"Content-Type":"application/json",...n()},body:JSON.stringify({})});if(a.ok){const c=await a.json();c.data?.converted?(alert(`Bug report created: ${c.data.id}`),G(),re(),_(),I()):alert("Bug report already exists")}}catch{alert("Failed to convert error to bug")}},Et=async()=>{us(!0);try{const s=await fetch("/api/errors/sync-to-bugs",{method:"POST",headers:{"Content-Type":"application/json",...n()},body:JSON.stringify({severity:"high",hours:168})});if(s.ok){const a=await s.json();alert(`Synced errors to bugs: ${a.data?.created||0} created, ${a.data?.skipped||0} skipped`),I(),_(),re(),G()}else alert("Failed to sync - check server logs")}catch{alert("Failed to sync bug reports")}finally{us(!1)}},Ut=async(s,a)=>{try{(await fetch(`/api/admin/bugs/${s}`,{method:"PATCH",headers:{"Content-Type":"application/json",...n()},body:JSON.stringify({status:a})})).ok&&(_(),I(),r?.id===s&&Ge(s))}catch{}},Rt=async(s,a,c)=>{try{(await fetch(`/api/admin/bugs/${s}`,{method:"PATCH",headers:{"Content-Type":"application/json",...n()},body:JSON.stringify({status:"resolved",resolutionType:a,resolutionNotes:c})})).ok&&(_(),I(),Oe(!1))}catch{}},$t=async()=>{if(!(!q||K<=0))try{(await fetch("/api/admin-control/credits/adjust",{method:"POST",headers:{"Content-Type":"application/json",...n()},body:JSON.stringify({userId:q.id,amount:K,reason:"Gift from owner",type:"admin_grant"})})).ok&&(Ue(!1),rs(null),Re(100),alert(`Gifted ${K} credits to ${q.username}!`))}catch{}},Js=s=>{f(s),De(""),je([]),ys(null),vs(""),Be(""),ye([]),Ss(null),Cs(""),Ts(""),Rs(""),Le(""),Ne([]),Fs(null),Ms(100)},Ot=async()=>{bs(!0);try{const s=await fetch("/api/admin-control/credits/owner-unlimited",{method:"POST",headers:{"Content-Type":"application/json",...n()}});if(s.ok)alert("Your credits have been set to unlimited (1,000,000,000)!"),f(null);else{const a=await s.json();alert(a.message||"Failed to grant unlimited credits")}}catch{alert("Failed to grant unlimited credits")}finally{bs(!1)}},ze=async(s,a)=>{if(!s||s.length<2){a==="ban"?je([]):a==="achievement"?ye([]):Ne([]);return}try{const ie=(await(await fetch("/api/graphql",{method:"POST",headers:{"Content-Type":"application/json",...n()},body:JSON.stringify({query:`query SearchUsers($query: String!) {
            searchUsers(query: $query, limit: 10) {
              id
              username
              displayName
            }
          }`,variables:{query:s}})})).json()).data?.searchUsers||[];a==="ban"?je(ie):a==="achievement"?ye(ie):Ne(ie)}catch{}},Ft=async()=>{if($){ws(!0);try{const s=await fetch("/api/admin-control/users/ban",{method:"POST",headers:{"Content-Type":"application/json",...n()},body:JSON.stringify({userId:$.id,reason:fs||"Banned by owner"})});if(s.ok)alert(`User ${$.username} has been banned!`),f(null);else{const a=await s.json();alert(a.message||"Failed to ban user")}}catch{alert("Failed to ban user")}finally{ws(!1)}}},Mt=async()=>{if(!(!O||!fe)){As(!0);try{const s=await fetch("/api/admin-control/achievements/grant",{method:"POST",headers:{"Content-Type":"application/json",...n()},body:JSON.stringify({userId:O.id,achievementId:fe})});if(s.ok)alert(`Achievement granted to ${O.username}!`),f(null);else{const a=await s.json();alert(a.message||"Failed to grant achievement")}}catch{alert("Failed to grant achievement")}finally{As(!1)}}},Pt=async()=>{if(ve){Us(!0);try{const s=await fetch("/api/admin-control/broadcast",{method:"POST",headers:{"Content-Type":"application/json",...n()},body:JSON.stringify({message:ve})});if(s.ok)alert("Broadcast message sent to all users!"),f(null);else{const a=await s.json();alert(a.message||"Failed to send broadcast")}}catch{alert("Failed to send broadcast")}finally{Us(!1)}}},we=async s=>{Rs(s),$s(!0);try{const a=await fetch("/api/admin-control/system/override",{method:"POST",headers:{"Content-Type":"application/json",...n()},body:JSON.stringify({action:s})});if(a.ok)alert(`System override "${s}" executed!`),f(null);else{const c=await a.json();alert(c.message||"Failed to execute system override")}}catch{alert("Failed to execute system override")}finally{$s(!1)}},Dt=async()=>{if(!(!F||te<=0)){Ds(!0);try{const s=await fetch("/api/admin-control/credits/adjust",{method:"POST",headers:{"Content-Type":"application/json",...n()},body:JSON.stringify({userId:F.id,amount:te,reason:"Gift from owner",type:"admin_grant"})});if(s.ok)alert(`Gifted ${te} credits to ${F.username}!`),f(null);else{const a=await s.json();alert(a.message||"Failed to gift credits")}}catch{alert("Failed to gift credits")}finally{Ds(!1)}}},Hs=(s,a)=>{switch(s){case"gift":rs(a),Ue(!0);break;case"message":window.location.href=`/messages?user=${a.id}`;break}},Bt=async()=>{if(!R){X("Please enter a Slack webhook URL");return}if(!R.startsWith("https://hooks.slack.com/")){X("Invalid Slack webhook URL. It should start with https://hooks.slack.com/");return}as(!0),X(null);try{const s=await fetch(R,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:`:muscle: *MuscleMap.ME Connected!*
Your Empire dashboard is now linked to this Slack channel.`,username:"MuscleMap Bot",icon_emoji:":muscle:"})});if(s.ok||s.status===200)localStorage.setItem("musclemap_slack_webhook",R),ue(!0),me([{text:"MuscleMap.ME Connected! Your Empire dashboard is now linked.",user:"MuscleMap Bot",time:"Just now"}]);else{const a=await s.text();X(`Failed to connect: ${a||"Unknown error"}`)}}catch{localStorage.setItem("musclemap_slack_webhook",R),ue(!0),me([{text:"MuscleMap.ME Connected! Check your Slack channel for confirmation.",user:"MuscleMap Bot",time:"Just now"}])}finally{as(!1)}};if(t.useEffect(()=>{const s=localStorage.getItem("musclemap_slack_webhook");s&&(Ee(s),ue(!0))},[]),t.useEffect(()=>{(async()=>{P(!0),await Promise.all([ae(),Bs(),Ls(),Is(),le(),L(),Gs()]),P(!1)})()},[ae,Bs,Ls,Is,le,L,Gs]),t.useEffect(()=>{L()},[S,L]),t.useEffect(()=>{l==="bug-tracker"&&(I(),_(),qs(),re(),G())},[l,I,_,qs,re,G]),t.useEffect(()=>{l==="bug-tracker"&&_()},[h,l,_]),t.useEffect(()=>{l==="bug-tracker"&&G()},[u,l,G]),t.useEffect(()=>{const s=setInterval(ae,1e4);return()=>clearInterval(s)},[ae]),!d?.is_admin&&!d?.is_owner&&!d?.roles?.includes("admin")&&!d?.roles?.includes("owner"))return e.jsx("div",{className:"min-h-screen bg-[#0a0a0f] text-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ce,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Empire Access Required"}),e.jsx("p",{className:"text-gray-400",children:"Only the empire owner can access this panel."}),e.jsx(N,{to:"/dashboard",className:"mt-4 inline-block text-violet-400 hover:underline",children:"Return to Dashboard"})]})});const Lt=j?.musclemap_http_requests_total?.[0]?.value||0,It=j?.musclemap_db_connections_total?.[0]?.value||0,qe=j?.musclemap_db_healthy?.[0]?.value===1,ke=j?.musclemap_redis_connected?.[0]?.value===1,Gt=j?.musclemap_uptime_seconds?.[0]?.value||0,zt=s=>{const a=Math.floor(s/86400),c=Math.floor(s%86400/3600),v=Math.floor(s%3600/60);return a>0?`${a}d ${c}h`:c>0?`${c}h ${v}m`:`${v}m`};return e.jsxs("div",{className:"min-h-screen bg-[#0a0a0f] text-white flex",children:[e.jsxs("aside",{className:"w-64 border-r border-white/10 bg-[#0a0a0f]/80 backdrop-blur-xl flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-white/10",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-yellow-500 to-orange-500 flex items-center justify-center",children:e.jsx(ce,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-lg",children:"Empire Control"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Master Panel"})]})]})}),e.jsx("nav",{className:"flex-1 p-2 overflow-y-auto",children:Se.map(s=>s.link?e.jsxs(N,{to:s.link,className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-colors mb-1 text-gray-400 hover:text-white hover:bg-white/5",children:[e.jsx(s.icon,{className:"w-5 h-5"}),e.jsx("span",{children:s.label}),e.jsx(ne,{className:"w-4 h-4 ml-auto opacity-50"})]},s.id):e.jsxs("button",{onClick:()=>k(s.id),className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-colors mb-1 ${l===s.id?"bg-violet-500/20 text-violet-400":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[e.jsx(s.icon,{className:"w-5 h-5"}),e.jsx("span",{children:s.label})]},s.id))}),e.jsxs("div",{className:"p-4 border-t border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-violet-500 to-fuchsia-500 flex items-center justify-center",children:d?.username?.charAt(0).toUpperCase()||"?"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:d?.displayName||d?.username}),e.jsxs("div",{className:"text-xs text-yellow-400 flex items-center gap-1",children:[e.jsx(ce,{className:"w-3 h-3"})," Owner"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx(_e,{className:"w-4 h-4 text-yellow-400"}),e.jsx("span",{children:"Unlimited Powers"})]})]})]}),e.jsxs("main",{className:"flex-1 overflow-y-auto",children:[e.jsx("header",{className:"sticky top-0 z-40 bg-[#0a0a0f]/90 backdrop-blur-xl border-b border-white/10 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[Se.find(s=>s.id===l)?.icon&&sa.createElement(Se.find(s=>s.id===l).icon,{className:"w-6 h-6 text-violet-400"}),Se.find(s=>s.id===l)?.label]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Wt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search...",value:pe,onChange:s=>xt(s.target.value),className:"bg-white/5 border border-white/10 rounded-lg pl-10 pr-4 py-2 text-sm focus:outline-none focus:border-violet-500 w-64"})]}),e.jsxs("button",{className:"p-2 rounded-lg hover:bg-white/10 relative",children:[e.jsx(Ws,{className:"w-5 h-5"}),Pe>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full text-[10px] flex items-center justify-center",children:Pe>9?"9+":Pe})]}),e.jsx("button",{onClick:ae,className:"p-2 rounded-lg hover:bg-white/10",children:e.jsx(x,{className:`w-5 h-5 ${y?"animate-spin":""}`})})]})]})}),e.jsx("div",{className:"p-6",children:y&&!j?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx(x,{className:"w-8 h-8 animate-spin text-violet-400"})}):e.jsxs(e.Fragment,{children:[l==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(m,{title:"System Status",value:qe&&ke?"Healthy":"Degraded",icon:lt,color:qe&&ke?"#10b981":"#f59e0b"}),e.jsx(m,{title:"Uptime",value:zt(Gt),icon:M,color:"#06b6d4"}),e.jsx(m,{title:"Total Users",value:U.length,icon:de,color:"#8b5cf6"}),e.jsx(m,{title:"Requests",value:Lt,icon:Ce,color:"#f59e0b"})]}),e.jsxs(o,{className:"p-4",children:[e.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[e.jsx(w,{className:"w-5 h-5 text-yellow-400"}),"Owner Powers"]}),e.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-3",children:Xs.map(s=>e.jsx(La,{icon:s.icon,label:s.name,color:s.color,onClick:()=>Js(s.id)},s.id))})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(o,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Request Traffic"}),e.jsx("div",{className:"h-48",children:e.jsx(na,{width:"100%",height:"100%",children:e.jsxs(ca,{data:Ae,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorRequests",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#8b5cf6",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#8b5cf6",stopOpacity:0})]})}),e.jsx(oa,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),e.jsx(da,{dataKey:"time",stroke:"#666",fontSize:10}),e.jsx(xa,{stroke:"#666",fontSize:10}),e.jsx(ma,{contentStyle:{backgroundColor:"rgba(10,10,15,0.9)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px"}}),e.jsx(ha,{type:"monotone",dataKey:"requests",stroke:"#8b5cf6",fill:"url(#colorRequests)",name:"Requests"})]})})})]}),e.jsxs(o,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"System Health"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsx(We,{status:qe?"healthy":"unhealthy",label:"PostgreSQL"}),e.jsxs("span",{className:"text-sm text-gray-400",children:[It," connections"]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsx(We,{status:ke?"healthy":"unhealthy",label:"Redis"}),e.jsx("span",{className:"text-sm text-gray-400",children:ke?"Connected":"Disconnected"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsx(We,{status:"healthy",label:"API Server"}),e.jsx("span",{className:"text-sm text-gray-400",children:"Running"})]})]})]})]}),e.jsxs(o,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(de,{className:"w-5 h-5 text-violet-400"}),"Recent Users"]}),e.jsxs(N,{to:"/admin-control",className:"text-sm text-violet-400 hover:underline flex items-center gap-1",children:["View All ",e.jsx(ne,{className:"w-4 h-4"})]})]}),e.jsx("div",{className:"space-y-2",children:U.slice(0,5).map(s=>e.jsx(Ks,{user:s,onAction:Hs},s.id))})]})]}),l==="server"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(x,{className:"w-8 h-8 animate-spin text-cyan-400"})}),children:e.jsx(Ca,{})}),l==="database"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(x,{className:"w-8 h-8 animate-spin text-cyan-400"})}),children:e.jsx(_a,{})}),l==="scheduler"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(x,{className:"w-8 h-8 animate-spin text-cyan-400"})}),children:e.jsx(Aa,{})}),l==="env"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(x,{className:"w-8 h-8 animate-spin text-cyan-400"})}),children:e.jsx(Ta,{})}),l==="deploy"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(x,{className:"w-8 h-8 animate-spin text-cyan-400"})}),children:e.jsx(Ea,{})}),l==="build-daemon"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(x,{className:"w-8 h-8 animate-spin text-cyan-400"})}),children:e.jsx(Ba,{})}),l==="realtime-metrics"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(x,{className:"w-8 h-8 animate-spin text-cyan-400"})}),children:e.jsx(Ua,{})}),l==="user-analytics"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(x,{className:"w-8 h-8 animate-spin text-cyan-400"})}),children:e.jsx(Da,{})}),l==="alerts"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(x,{className:"w-8 h-8 animate-spin text-cyan-400"})}),children:e.jsx(Ra,{})}),l==="security"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(x,{className:"w-8 h-8 animate-spin text-cyan-400"})}),children:e.jsx($a,{})}),l==="feature-flags"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(x,{className:"w-8 h-8 animate-spin text-cyan-400"})}),children:e.jsx(Oa,{})}),l==="logs"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(x,{className:"w-8 h-8 animate-spin text-cyan-400"})}),children:e.jsx(Fa,{})}),l==="backup"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(x,{className:"w-8 h-8 animate-spin text-cyan-400"})}),children:e.jsx(Ma,{})}),l==="docs"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(x,{className:"w-8 h-8 animate-spin text-cyan-400"})}),children:e.jsx(Pa,{})}),l==="feedback"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(m,{title:"Total Feedback",value:B?.total||0,icon:oe,color:"#8b5cf6"}),e.jsx(m,{title:"Open Bugs",value:B?.unresolved_bugs||0,icon:E,color:"#ef4444",onClick:()=>Z({type:"bug_report",status:"open"})}),e.jsx(m,{title:"Auto-Fix Queue",value:(B?.auto_fix_pending||0)+(B?.auto_fix_in_progress||0),icon:w,color:"#f59e0b"}),e.jsx(m,{title:"Pending Review",value:B?.pending_review||0,icon:Ve,color:"#06b6d4",onClick:()=>Z({type:null,status:"open"})})]}),e.jsx("div",{className:"grid grid-cols-4 gap-3",children:[{type:"bug_report",label:"Bugs",icon:E,color:"#ef4444"},{type:"feature_request",label:"Features",icon:Je,color:"#10b981"},{type:"question",label:"Questions",icon:He,color:"#3b82f6"},{type:"general",label:"General",icon:W,color:"#8b5cf6"}].map(s=>e.jsxs("button",{onClick:()=>Z(a=>({...a,type:a.type===s.type?null:s.type})),className:`p-3 rounded-lg border transition-all ${S.type===s.type?"border-violet-500 bg-violet-500/20":"border-white/10 bg-white/5 hover:bg-white/10"}`,children:[e.jsx(s.icon,{className:"w-5 h-5 mx-auto mb-1",style:{color:s.color}}),e.jsx("div",{className:"text-xs text-gray-400",children:s.label}),e.jsx("div",{className:"text-lg font-bold",children:B?.by_type?.[s.type]||0})]},s.type))}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[["open","in_progress","confirmed","resolved","closed","wont_fix"].map(s=>e.jsxs("button",{onClick:()=>Z(a=>({...a,status:a.status===s?null:s})),className:`px-3 py-1 rounded-full text-xs transition-colors ${S.status===s?"bg-violet-500 text-white":"bg-white/10 text-gray-400 hover:bg-white/20"}`,children:[s.replace("_"," ")," (",B?.by_status?.[s]||0,")"]},s)),(S.type||S.status)&&e.jsx("button",{onClick:()=>Z({type:null,status:null}),className:"px-3 py-1 rounded-full text-xs bg-red-500/20 text-red-400 hover:bg-red-500/30",children:"Clear filters"})]}),e.jsxs(o,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold",children:"Feedback Items"}),e.jsx("button",{onClick:()=>{L(),le()},className:"p-2 rounded-lg hover:bg-white/10",children:e.jsx(x,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:is.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(oe,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No feedback items found"})]}):is.map(s=>e.jsx("div",{className:"p-3 bg-white/5 rounded-lg hover:bg-white/10 transition-colors cursor-pointer",onClick:()=>Ie(s.id),children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.type==="bug_report"&&e.jsx(E,{className:"w-4 h-4 text-red-400"}),s.type==="feature_request"&&e.jsx(Je,{className:"w-4 h-4 text-green-400"}),s.type==="question"&&e.jsx(He,{className:"w-4 h-4 text-blue-400"}),s.type==="general"&&e.jsx(W,{className:"w-4 h-4 text-violet-400"}),e.jsx("span",{className:"font-medium truncate",children:s.title})]}),e.jsx("div",{className:"text-sm text-gray-400 truncate",children:s.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-gray-500",children:[e.jsxs("span",{children:["@",s.user?.username]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:new Date(s.createdAt).toLocaleDateString()}),s.autoFixStatus&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsxs("span",{className:`flex items-center gap-1 ${s.autoFixStatus==="completed"?"text-green-400":s.autoFixStatus==="failed"?"text-red-400":s.autoFixStatus==="in_progress"?"text-yellow-400":"text-gray-400"}`,children:[e.jsx(w,{className:"w-3 h-3"}),s.autoFixStatus]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${s.status==="open"?"bg-blue-500/20 text-blue-400":s.status==="in_progress"?"bg-yellow-500/20 text-yellow-400":s.status==="confirmed"?"bg-orange-500/20 text-orange-400":s.status==="resolved"?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:s.status}),s.type==="bug_report"&&s.status==="open"&&e.jsxs("button",{onClick:a=>{a.stopPropagation(),zs(s.id)},className:"px-2 py-1 rounded bg-orange-500/20 text-orange-400 text-xs hover:bg-orange-500/30 flex items-center gap-1",title:"Confirm bug for auto-fix",children:[e.jsx(Qt,{className:"w-3 h-3"}),"Fix"]})]})]})},s.id))})]})]}),pt&&i&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70",children:e.jsxs("div",{className:"bg-[#0f0f15] border border-white/10 rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-[#0f0f15] border-b border-white/10 p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[i.type==="bug_report"&&e.jsx(E,{className:"w-5 h-5 text-red-400"}),i.type==="feature_request"&&e.jsx(Je,{className:"w-5 h-5 text-green-400"}),i.type==="question"&&e.jsx(He,{className:"w-5 h-5 text-blue-400"}),i.type==="general"&&e.jsx(W,{className:"w-5 h-5 text-violet-400"}),e.jsx("h2",{className:"font-bold text-lg",children:i.title})]}),e.jsx("button",{onClick:()=>{cs(!1),ns(null)},className:"p-2 rounded-lg hover:bg-white/10",children:e.jsx(Qs,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs("select",{value:i.status,onChange:s=>At(i.id,s.target.value),className:"bg-white/10 border border-white/10 rounded-lg px-3 py-1 text-sm",children:[e.jsx("option",{value:"open",children:"Open"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"confirmed",children:"Confirmed"}),e.jsx("option",{value:"resolved",children:"Resolved"}),e.jsx("option",{value:"closed",children:"Closed"}),e.jsx("option",{value:"wont_fix",children:"Won't Fix"})]}),i.type==="bug_report"&&i.status==="open"&&e.jsxs("button",{onClick:()=>zs(i.id),className:"px-3 py-1 rounded-lg bg-orange-500/20 text-orange-400 text-sm hover:bg-orange-500/30 flex items-center gap-1",children:[e.jsx(w,{className:"w-4 h-4"}),"Confirm & Auto-Fix"]}),i.autoFixStatus&&e.jsxs("span",{className:`px-2 py-1 rounded text-xs ${i.autoFixStatus==="completed"?"bg-green-500/20 text-green-400":i.autoFixStatus==="failed"?"bg-red-500/20 text-red-400":i.autoFixStatus==="in_progress"?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:["Auto-fix: ",i.autoFixStatus]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-lg",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-violet-500 to-fuchsia-500 flex items-center justify-center text-white font-bold",children:i.user?.username?.charAt(0).toUpperCase()||"?"}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:["@",i.user?.username]}),e.jsx("div",{className:"text-xs text-gray-400",children:new Date(i.createdAt).toLocaleString()})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-1",children:"Description"}),e.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:i.description})]}),i.type==="bug_report"&&e.jsxs(e.Fragment,{children:[i.stepsToReproduce&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-1",children:"Steps to Reproduce"}),e.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:i.stepsToReproduce})]}),i.expectedBehavior&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-1",children:"Expected Behavior"}),e.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:i.expectedBehavior})]}),i.actualBehavior&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-1",children:"Actual Behavior"}),e.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:i.actualBehavior})]})]}),(i.platform||i.userAgent)&&e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[i.platform&&e.jsxs("div",{className:"p-2 bg-white/5 rounded",children:[e.jsx("span",{className:"text-gray-500",children:"Platform:"})," ",i.platform]}),i.appVersion&&e.jsxs("div",{className:"p-2 bg-white/5 rounded",children:[e.jsx("span",{className:"text-gray-500",children:"Version:"})," ",i.appVersion]})]}),i.adminNotes&&e.jsxs("div",{className:"p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:[e.jsxs("h4",{className:"text-sm font-medium text-yellow-400 mb-1 flex items-center gap-1",children:[e.jsx(H,{className:"w-4 h-4"}),"Admin Notes (Internal)"]}),e.jsx("p",{className:"text-gray-300 text-sm",children:i.adminNotes})]}),i.responses?.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Conversation"}),e.jsx("div",{className:"space-y-2",children:i.responses.map(s=>e.jsxs("div",{className:`p-3 rounded-lg ${s.isInternal?"bg-yellow-500/10 border border-yellow-500/20":s.responderType==="admin"?"bg-violet-500/10 border border-violet-500/20":s.responderType==="system"?"bg-gray-500/10 border border-gray-500/20":"bg-white/5"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 text-xs text-gray-400",children:[e.jsx("span",{className:"font-medium",children:s.responderType==="system"?"System":s.responderType==="admin"?`Admin (${s.responderUsername||"Unknown"})`:`@${s.responderUsername||"User"}`}),s.isInternal&&e.jsx("span",{className:"text-yellow-400",children:"(Internal)"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:new Date(s.createdAt).toLocaleString()})]}),e.jsx("p",{className:"text-gray-300 text-sm",children:s.message})]},s.id))})]}),i.agentJobs?.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-400 mb-2 flex items-center gap-1",children:[e.jsx(w,{className:"w-4 h-4"}),"Auto-Fix Jobs"]}),e.jsx("div",{className:"space-y-2",children:i.agentJobs.map(s=>e.jsxs("div",{className:"p-3 bg-white/5 rounded-lg text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${s.status==="completed"?"bg-green-500/20 text-green-400":s.status==="failed"?"bg-red-500/20 text-red-400":s.status==="running"?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:s.status}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(s.createdAt).toLocaleString()})]}),s.filesModified?.length>0&&e.jsxs("div",{className:"text-xs text-gray-400 mb-1",children:["Files: ",s.filesModified.join(", ")]}),s.deployed&&s.deployCommit&&e.jsxs("div",{className:"text-xs text-green-400",children:["Deployed: ",s.deployCommit]}),s.errorMessage&&e.jsxs("div",{className:"text-xs text-red-400 mt-1",children:["Error: ",s.errorMessage]})]},s.id))})]}),e.jsxs("div",{className:"border-t border-white/10 pt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Add Response"}),e.jsx("textarea",{value:ge,onChange:s=>os(s.target.value),placeholder:"Type your response...",className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-sm resize-none h-24 focus:outline-none focus:border-violet-500"}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-400 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:ds,onChange:s=>xs(s.target.checked),className:"rounded bg-white/10 border-white/20"}),"Internal note (not visible to user)"]}),e.jsxs("button",{onClick:Tt,disabled:!ge.trim(),className:"px-4 py-2 bg-violet-500 hover:bg-violet-600 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg text-sm flex items-center gap-2",children:[e.jsx(Ys,{className:"w-4 h-4"}),"Send"]})]})]})]})]})}),l==="bug-tracker"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 border-b border-white/10 pb-4",children:[e.jsxs("button",{onClick:()=>ps("errors"),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 ${be==="errors"?"bg-violet-500 text-white":"bg-white/10 text-gray-400 hover:bg-white/20"}`,children:[e.jsx(H,{className:"w-4 h-4"}),"Cockatrice Errors",C?.totals?.unresolved>0&&e.jsx("span",{className:"px-1.5 py-0.5 bg-red-500 text-white text-xs rounded-full",children:C.totals.unresolved})]}),e.jsxs("button",{onClick:()=>ps("bugs"),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 ${be==="bugs"?"bg-violet-500 text-white":"bg-white/10 text-gray-400 hover:bg-white/20"}`,children:[e.jsx(E,{className:"w-4 h-4"}),"Bug Reports",p?.totals?.open>0&&e.jsx("span",{className:"px-1.5 py-0.5 bg-orange-500 text-white text-xs rounded-full",children:p.totals.open})]}),e.jsx("div",{className:"flex-1"}),e.jsxs("button",{onClick:Et,disabled:Fe,className:"px-4 py-2 bg-orange-500/20 text-orange-400 hover:bg-orange-500/30 rounded-lg text-sm flex items-center gap-2 disabled:opacity-50",children:[e.jsx(x,{className:`w-4 h-4 ${Fe?"animate-spin":""}`}),Fe?"Syncing...":"Sync to Bug Reports"]})]}),be==="errors"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsx(m,{title:"Total Errors",value:C?.totals?.total||0,icon:H,color:"#ef4444"}),e.jsx(m,{title:"Unresolved",value:C?.totals?.unresolved||0,icon:H,color:"#f59e0b",onClick:()=>ee({...u,status:"new"})}),e.jsx(m,{title:"Resolved",value:C?.totals?.resolved||0,icon:A,color:"#10b981",onClick:()=>ee({...u,status:"resolved"})}),e.jsx(m,{title:"Today",value:C?.totals?.today||0,icon:Ve,color:"#06b6d4"}),e.jsx(m,{title:"Affected Users",value:C?.totals?.uniqueUsersThisWeek||0,icon:de,color:"#8b5cf6"})]}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:Object.entries(C?.byType||{}).map(([s,a])=>e.jsxs("button",{onClick:()=>ee({...u,type:u.type===s?"all":s}),className:`px-3 py-1 rounded-full text-xs transition-colors ${u.type===s?"bg-violet-500 text-white":"bg-white/10 text-gray-400 hover:bg-white/20"}`,children:[s," (",a,")"]},s))}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[["all","critical","high","medium","low"].map(s=>e.jsxs("button",{onClick:()=>ee({...u,severity:s}),className:`px-3 py-1 rounded-lg text-xs transition-colors ${u.severity===s?s==="critical"?"bg-red-500 text-white":s==="high"?"bg-orange-500 text-white":s==="medium"?"bg-yellow-500 text-black":s==="low"?"bg-blue-500 text-white":"bg-violet-500 text-white":"bg-white/10 text-gray-400 hover:bg-white/20"}`,children:[s.charAt(0).toUpperCase()+s.slice(1)," ",C?.bySeverity?.[s]?`(${C.bySeverity[s]})`:""]},s)),(u.status!=="all"||u.severity!=="all"||u.type!=="all")&&e.jsx("button",{onClick:()=>ee({status:"all",severity:"all",type:"all"}),className:"px-3 py-1 rounded-full text-xs bg-red-500/20 text-red-400 hover:bg-red-500/30",children:"Clear filters"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs(o,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-semibold",children:["Frontend Errors (",Me.length,")"]}),e.jsx("button",{onClick:()=>{G(),re()},className:"p-2 rounded-lg hover:bg-white/10",children:e.jsx(x,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:Me.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(H,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No frontend errors captured"}),e.jsx("p",{className:"text-sm mt-2",children:"When users encounter errors, they will appear here"})]}):Me.map(s=>e.jsx("div",{className:`p-3 bg-white/5 rounded-lg hover:bg-white/10 transition-colors cursor-pointer ${g?.id===s.id?"ring-2 ring-violet-500":""}`,onClick:()=>Nt(s),children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${s.severity==="critical"?"bg-red-500":s.severity==="high"?"bg-orange-500":s.severity==="medium"?"bg-yellow-500":"bg-blue-500"}`}),e.jsx("span",{className:"font-medium text-sm truncate",children:s.message})]}),e.jsx("div",{className:"text-xs text-gray-400 truncate",children:s.url}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-gray-500",children:[e.jsx("span",{className:"px-1.5 py-0.5 rounded bg-red-500/20 text-red-400",children:s.type}),s.username&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsx(N,{to:`/profile/${s.username}`,onClick:a=>a.stopPropagation(),className:"text-violet-400 hover:text-violet-300 hover:underline",children:s.username})]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:new Date(s.errorAt).toLocaleString()})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-1",children:[e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${s.status==="new"?"bg-blue-500/20 text-blue-400":s.status==="resolved"?"bg-green-500/20 text-green-400":s.status==="converted"?"bg-violet-500/20 text-violet-400":"bg-gray-500/20 text-gray-400"}`,children:s.status}),s.status!=="converted"&&s.status!=="resolved"&&e.jsx("button",{onClick:a=>{a.stopPropagation(),Vs(s.id)},className:"px-2 py-0.5 rounded text-xs bg-orange-500/20 text-orange-400 hover:bg-orange-500/30",children:"→ Bug"})]})]})},s.id))})]})}),e.jsx("div",{children:e.jsxs(o,{className:"p-4",children:[e.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[e.jsx(ua,{className:"w-4 h-4 text-violet-400"}),"Error Details"]}),g?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs text-gray-500 mb-1",children:"Message"}),e.jsx("p",{className:"text-sm text-gray-300",children:g.message})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs text-gray-500 mb-1",children:"Type"}),e.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-500/20 text-red-400",children:g.type})]}),g.username&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs text-gray-500 mb-1",children:"User"}),e.jsxs(N,{to:`/profile/${g.username}`,className:"text-sm text-violet-400 hover:text-violet-300 hover:underline flex items-center gap-1",children:[g.username,e.jsx(T,{className:"w-3 h-3"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs text-gray-500 mb-1",children:"URL"}),e.jsx("a",{href:g.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-violet-400 hover:underline break-all",children:g.url})]}),g.componentName&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs text-gray-500 mb-1",children:"Component"}),e.jsx("code",{className:"text-xs text-gray-300 bg-black/30 px-2 py-1 rounded",children:g.componentName})]}),g.stack&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs text-gray-500 mb-1",children:"Stack Trace"}),e.jsx("pre",{className:"text-xs text-gray-400 bg-black/30 p-2 rounded max-h-40 overflow-auto whitespace-pre-wrap",children:g.stack})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs text-gray-500 mb-1",children:"Occurred"}),e.jsx("p",{className:"text-xs text-gray-400",children:new Date(g.errorAt).toLocaleString()})]}),g.status!=="converted"&&g.status!=="resolved"&&e.jsx("button",{onClick:()=>Vs(g.id),className:"w-full px-3 py-2 rounded-lg bg-orange-500/20 text-orange-400 hover:bg-orange-500/30 text-sm",children:"Convert to Bug Report"})]}):e.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"Select an error to view details"})]})})]})]}),be==="bugs"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsx(m,{title:"Total Bugs",value:p?.totals?.total||0,icon:E,color:"#8b5cf6"}),e.jsx(m,{title:"Open",value:p?.totals?.open||0,icon:H,color:"#ef4444",onClick:()=>V({...h,status:"open"})}),e.jsx(m,{title:"Resolved",value:p?.totals?.resolved||0,icon:A,color:"#10b981",onClick:()=>V({...h,status:"resolved"})}),e.jsx(m,{title:"Auto-Fixed",value:p?.autoFix?.completed||0,icon:w,color:"#f59e0b"}),e.jsx(m,{title:"Today",value:p?.totals?.today||0,icon:Ve,color:"#06b6d4"})]}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:Object.entries(p?.bySource||{}).map(([s,a])=>e.jsxs("button",{onClick:()=>V({...h,source:h.source===s?"all":s}),className:`px-3 py-1 rounded-full text-xs transition-colors ${h.source===s?"bg-violet-500 text-white":"bg-white/10 text-gray-400 hover:bg-white/20"}`,children:[s," (",a,")"]},s))}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:["all","critical","high","medium","low"].map(s=>e.jsxs("button",{onClick:()=>V({...h,priority:s}),className:`px-3 py-1 rounded-lg text-xs transition-colors ${h.priority===s?s==="critical"?"bg-red-500 text-white":s==="high"?"bg-orange-500 text-white":s==="medium"?"bg-yellow-500 text-black":s==="low"?"bg-blue-500 text-white":"bg-violet-500 text-white":"bg-white/10 text-gray-400 hover:bg-white/20"}`,children:[s.charAt(0).toUpperCase()+s.slice(1)," ",p?.byPriority?.[s]?`(${p.byPriority[s]})`:""]},s))}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[["all","open","in_progress","confirmed","resolved","closed","wont_fix"].map(s=>e.jsxs("button",{onClick:()=>V({...h,status:s}),className:`px-3 py-1 rounded-full text-xs transition-colors ${h.status===s?"bg-violet-500 text-white":"bg-white/10 text-gray-400 hover:bg-white/20"}`,children:[s.replace("_"," ")," ",p?.byStatus?.[s]?`(${p.byStatus[s]})`:""]},s)),(h.status!=="all"||h.source!=="all"||h.priority!=="all")&&e.jsx("button",{onClick:()=>V({status:"all",source:"all",priority:"all"}),className:"px-3 py-1 rounded-full text-xs bg-red-500/20 text-red-400 hover:bg-red-500/30",children:"Clear filters"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs(o,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-semibold",children:["Bug List (",$e.length,")"]}),e.jsx("button",{onClick:()=>{_(),I()},className:"p-2 rounded-lg hover:bg-white/10",children:e.jsx(x,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:$e.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(E,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No bugs found"}),e.jsx("p",{className:"text-sm mt-2",children:'Click "Sync Bug Hunter" to import discovered bugs'})]}):$e.map(s=>e.jsx("div",{className:"p-3 bg-white/5 rounded-lg hover:bg-white/10 transition-colors cursor-pointer",onClick:()=>Ge(s.id),children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${s.priority==="critical"?"bg-red-500":s.priority==="high"?"bg-orange-500":s.priority==="medium"?"bg-yellow-500":"bg-blue-500"}`}),e.jsx("span",{className:"font-medium truncate",children:s.title})]}),e.jsx("div",{className:"text-sm text-gray-400 truncate",children:s.pageUrl||s.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-gray-500",children:[e.jsx("span",{className:`px-1.5 py-0.5 rounded ${s.source==="bug_hunter"?"bg-orange-500/20 text-orange-400":s.source==="user"?"bg-blue-500/20 text-blue-400":"bg-gray-500/20 text-gray-400"}`,children:s.source}),e.jsx("span",{children:"•"}),e.jsx("span",{children:new Date(s.createdAt).toLocaleDateString()}),s.resolution&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsx(A,{className:"w-3 h-3 text-green-400"}),e.jsxs("span",{className:"text-green-400",children:["Fixed ",new Date(s.resolution.resolvedAt).toLocaleDateString()]})]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${s.status==="open"?"bg-blue-500/20 text-blue-400":s.status==="in_progress"?"bg-yellow-500/20 text-yellow-400":s.status==="confirmed"?"bg-orange-500/20 text-orange-400":s.status==="resolved"?"bg-green-500/20 text-green-400":s.status==="closed"?"bg-gray-500/20 text-gray-400":"bg-red-500/20 text-red-400"}`,children:s.status})})]})},s.id))})]})}),e.jsxs("div",{children:[e.jsxs(o,{className:"p-4",children:[e.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[e.jsx(M,{className:"w-4 h-4 text-violet-400"}),"Recent Activity"]}),e.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:hs.length===0?e.jsx("div",{className:"text-center py-4 text-gray-400 text-sm",children:"No activity yet"}):hs.map(s=>e.jsxs("div",{className:"flex gap-3 text-sm",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-1.5 flex-shrink-0 ${s.action==="created"?"bg-blue-500":s.action==="resolved"?"bg-green-500":s.action==="status_changed"?"bg-yellow-500":"bg-gray-500"}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-gray-300 truncate",children:s.bugTitle}),e.jsxs("div",{className:"text-gray-500 text-xs",children:[s.action.replace("_"," ")," by ",s.actorUsername||s.actorType]}),e.jsx("div",{className:"text-gray-600 text-xs",children:new Date(s.createdAt).toLocaleString()})]})]},s.id))})]}),p?.avgResolutionTimeHours>0&&e.jsxs(o,{className:"p-4 mt-4",children:[e.jsx("h3",{className:"font-semibold mb-3 text-sm",children:"Resolution Metrics"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Avg. Time to Fix"}),e.jsxs("span",{className:"font-medium",children:[p.avgResolutionTimeHours.toFixed(1),"h"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Auto-Fix Success"}),e.jsxs("span",{className:"font-medium text-green-400",children:[p?.autoFix?.completed||0," / ",(p?.autoFix?.completed||0)+(p?.autoFix?.failed||0)]})]})]})]})]})]})]})]}),jt&&r&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70",children:e.jsxs("div",{className:"bg-[#0f0f15] border border-white/10 rounded-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-[#0f0f15] border-b border-white/10 p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(E,{className:`w-5 h-5 ${r.priority==="critical"?"text-red-500":r.priority==="high"?"text-orange-500":r.priority==="medium"?"text-yellow-500":"text-blue-500"}`}),e.jsx("h2",{className:"font-bold text-lg truncate",children:r.title})]}),e.jsx("button",{onClick:()=>{Oe(!1),ms(null)},className:"p-2 rounded-lg hover:bg-white/10",children:e.jsx(Qs,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs("select",{value:r.status,onChange:s=>Ut(r.id,s.target.value),className:"bg-white/10 border border-white/10 rounded-lg px-3 py-1 text-sm",children:[e.jsx("option",{value:"open",children:"Open"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"confirmed",children:"Confirmed"}),e.jsx("option",{value:"resolved",children:"Resolved"}),e.jsx("option",{value:"closed",children:"Closed"}),e.jsx("option",{value:"wont_fix",children:"Won't Fix"})]}),e.jsx("span",{className:`px-2 py-1 rounded text-xs ${r.priority==="critical"?"bg-red-500/20 text-red-400":r.priority==="high"?"bg-orange-500/20 text-orange-400":r.priority==="medium"?"bg-yellow-500/20 text-yellow-400":"bg-blue-500/20 text-blue-400"}`,children:r.priority}),e.jsx("span",{className:"px-2 py-1 rounded text-xs bg-white/10 text-gray-400",children:r.source}),r.status!=="resolved"&&r.status!=="closed"&&e.jsx("button",{onClick:()=>Rt(r.id,"manual_fix","Resolved manually"),className:"px-3 py-1 rounded-lg bg-green-500/20 text-green-400 text-sm hover:bg-green-500/30",children:"Mark Resolved"})]}),r.pageUrl&&e.jsxs("div",{className:"p-3 bg-white/5 rounded-lg",children:[e.jsx("h4",{className:"text-xs text-gray-500 mb-1",children:"URL"}),e.jsx("a",{href:r.pageUrl,target:"_blank",rel:"noopener noreferrer",className:"text-violet-400 hover:underline text-sm break-all",children:r.pageUrl})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-1",children:"Description"}),e.jsx("p",{className:"text-gray-300 whitespace-pre-wrap text-sm",children:r.description})]}),r.rootCause&&e.jsxs("div",{className:"p-3 bg-orange-500/10 border border-orange-500/20 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-orange-400 mb-2",children:"Root Cause Analysis"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Type:"})," ",e.jsx("span",{className:"text-gray-300",children:r.rootCause.type})]}),r.rootCause.file&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"File:"})," ",e.jsx("code",{className:"text-gray-300 bg-black/30 px-1 rounded",children:r.rootCause.file})]}),r.rootCause.hypothesis&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Hypothesis:"})," ",e.jsx("span",{className:"text-gray-300",children:r.rootCause.hypothesis})]})]})]}),r.consoleErrors?.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Console Errors"}),e.jsx("div",{className:"bg-black/30 rounded-lg p-3 max-h-40 overflow-y-auto",children:r.consoleErrors.map((s,a)=>e.jsx("div",{className:"text-xs text-red-400 font-mono mb-1",children:s},a))})]}),r.networkErrors?.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Network Errors"}),e.jsx("div",{className:"bg-black/30 rounded-lg p-3 max-h-40 overflow-y-auto",children:r.networkErrors.map((s,a)=>e.jsx("div",{className:"text-xs text-yellow-400 font-mono mb-1",children:s},a))})]}),r.resolution&&e.jsxs("div",{className:"p-3 bg-green-500/10 border border-green-500/20 rounded-lg",children:[e.jsxs("h4",{className:"text-sm font-medium text-green-400 mb-2 flex items-center gap-2",children:[e.jsx(A,{className:"w-4 h-4"}),"Resolution Details"]}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Resolved:"})," ",e.jsx("span",{className:"text-gray-300",children:new Date(r.resolution.resolvedAt).toLocaleString()})]}),r.resolution.resolvedBy&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"By:"})," ",e.jsxs("span",{className:"text-gray-300",children:["@",r.resolution.resolvedBy]})]}),r.resolution.type&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Type:"})," ",e.jsx("span",{className:"text-gray-300",children:r.resolution.type.replace("_"," ")})]}),r.resolution.notes&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Notes:"})," ",e.jsx("span",{className:"text-gray-300",children:r.resolution.notes})]}),r.resolution.commit&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Commit:"})," ",e.jsx("code",{className:"text-gray-300 bg-black/30 px-1 rounded",children:r.resolution.commit})]}),r.resolution.prUrl&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"PR:"})," ",e.jsx("a",{href:r.resolution.prUrl,className:"text-violet-400 hover:underline",children:r.resolution.prUrl})]})]})]}),r.history?.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"History"}),e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:r.history.map(s=>e.jsxs("div",{className:"flex gap-3 text-sm p-2 bg-white/5 rounded",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-1.5 flex-shrink-0 ${s.action==="created"?"bg-blue-500":s.action==="resolved"?"bg-green-500":s.action==="status_changed"?"bg-yellow-500":"bg-gray-500"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"text-gray-300",children:[e.jsx("span",{className:"font-medium",children:s.actorUsername||s.actorType})," ",s.action.replace("_"," "),s.previousValue&&s.newValue&&e.jsxs("span",{className:"text-gray-500",children:[" from ",s.previousValue," to ",s.newValue]})]}),e.jsx("div",{className:"text-gray-500 text-xs",children:new Date(s.createdAt).toLocaleString()})]})]},s.id))})]}),r.relatedBugs?.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Related Bugs"}),e.jsx("div",{className:"space-y-1",children:r.relatedBugs.map(s=>e.jsxs("div",{className:"text-sm p-2 bg-white/5 rounded hover:bg-white/10 cursor-pointer",onClick:()=>Ge(s.id),children:[e.jsx("span",{className:`inline-block w-2 h-2 rounded-full mr-2 ${s.status==="resolved"?"bg-green-500":"bg-blue-500"}`}),s.title]},s.id))})]})]})]})}),l==="metrics"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ce,{className:"w-16 h-16 text-violet-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold mb-2",children:"System Metrics"}),e.jsx("p",{className:"text-gray-400 mb-4",children:"View detailed system performance metrics"}),e.jsxs(N,{to:"/admin/metrics",className:"inline-flex items-center gap-2 px-6 py-3 bg-violet-500 hover:bg-violet-600 rounded-lg transition-colors",children:["Open Metrics Dashboard ",e.jsx(ne,{className:"w-4 h-4"})]})]})}),l==="users"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"User Management"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"text-sm text-gray-400",children:[U.length," users"]})})]}),e.jsx("div",{className:"grid gap-3",children:U.filter(s=>!pe||s.username?.toLowerCase().includes(pe.toLowerCase())||s.email?.toLowerCase().includes(pe.toLowerCase())).map(s=>e.jsx(Ks,{user:s,onAction:Hs},s.id))})]}),l==="community"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(o,{className:"p-4",children:[e.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[e.jsx(M,{className:"w-5 h-5 text-green-400"}),"Live Activity"]}),e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(et,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"Activity feed loading..."})]})]}),e.jsxs(o,{className:"p-4",children:[e.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[e.jsx(Zs,{className:"w-5 h-5 text-blue-400"}),"Community Stats"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between p-3 bg-white/5 rounded-lg",children:[e.jsx("span",{children:"Total Workouts"}),e.jsx("span",{className:"font-bold",children:"12,847"})]}),e.jsxs("div",{className:"flex justify-between p-3 bg-white/5 rounded-lg",children:[e.jsx("span",{children:"Active Today"}),e.jsx("span",{className:"font-bold",children:"234"})]}),e.jsxs("div",{className:"flex justify-between p-3 bg-white/5 rounded-lg",children:[e.jsx("span",{children:"Achievements Earned"}),e.jsx("span",{className:"font-bold",children:"5,421"})]})]})]})]}),e.jsx("div",{className:"text-center",children:e.jsxs(N,{to:"/community",className:"inline-flex items-center gap-2 px-6 py-3 bg-violet-500 hover:bg-violet-600 rounded-lg transition-colors",children:["Open Community Dashboard ",e.jsx(ne,{className:"w-4 h-4"})]})})]}),l==="messages"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(o,{className:"p-4",children:[e.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[e.jsx(nt,{className:"w-5 h-5 text-blue-400"}),"Recent Conversations"]}),Ze.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(oe,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No conversations yet"})]}):e.jsx("div",{className:"space-y-2",children:Ze.slice(0,10).map(s=>e.jsxs(N,{to:`/messages?conversation=${s.id}`,className:"block p-3 bg-white/5 rounded-lg hover:bg-white/10 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"font-medium text-sm",children:s.participant?.displayName||s.participant?.username||"Unknown"}),s.unreadCount>0&&e.jsx("span",{className:"bg-violet-500 text-white text-xs px-2 py-0.5 rounded-full",children:s.unreadCount})]}),e.jsx("div",{className:"text-sm text-gray-400 truncate",children:s.content}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:s.createdAt?new Date(s.createdAt).toLocaleDateString():"Just now"})]},s.id))})]}),e.jsx("div",{className:"text-center",children:e.jsxs(N,{to:"/messages",className:"inline-flex items-center gap-2 px-6 py-3 bg-violet-500 hover:bg-violet-600 rounded-lg transition-colors",children:["Open Messages ",e.jsx(ne,{className:"w-4 h-4"})]})})]}),l==="economy"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(m,{title:"Total Credits",value:"∞",icon:st,color:"#fbbf24"}),e.jsx(m,{title:"Credits Gifted",value:es?.totalGifted||0,icon:Q,color:"#10b981"}),e.jsx(m,{title:"Transactions",value:es?.totalTransactions||0,icon:M,color:"#06b6d4"}),e.jsx(m,{title:"Active Wallets",value:U.length,icon:Yt,color:"#8b5cf6"})]}),e.jsxs(o,{className:"p-4",children:[e.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[e.jsx(Q,{className:"w-5 h-5 text-green-400"}),"Quick Gift"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("input",{type:"text",placeholder:"Search user...",className:"flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-violet-500"}),e.jsx("input",{type:"number",placeholder:"Amount",value:K,onChange:s=>Re(parseInt(s.target.value)||0),className:"w-32 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-violet-500"}),e.jsxs("button",{className:"px-4 py-2 bg-green-500 hover:bg-green-600 rounded-lg transition-colors flex items-center gap-2",children:[e.jsx(Ys,{className:"w-4 h-4"})," Send"]})]})]})]}),l==="avatar"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(o,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"w-32 h-32 rounded-2xl bg-gradient-to-br from-yellow-500 via-orange-500 to-red-500 flex items-center justify-center text-white text-4xl font-bold shadow-2xl shadow-orange-500/30",children:d?.username?.charAt(0).toUpperCase()||"?"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h2",{className:"text-2xl font-bold",children:d?.displayName||d?.username}),e.jsx(ce,{className:"w-6 h-6 text-yellow-400"})]}),e.jsx("div",{className:"text-gray-400 mb-3",children:d?.email}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-yellow-500/20 text-yellow-400 rounded-full text-sm",children:[e.jsx(_e,{className:"w-4 h-4"})," Unlimited Credits"]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-violet-500/20 text-violet-400 rounded-full text-sm",children:[e.jsx(w,{className:"w-4 h-4"})," All Powers"]})]})]})]})}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs(o,{className:"p-4 text-center",children:[e.jsx(Xt,{className:"w-10 h-10 text-yellow-400 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold",children:"∞"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Achievements"})]}),e.jsxs(o,{className:"p-4 text-center",children:[e.jsx(Kt,{className:"w-10 h-10 text-orange-400 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold",children:"MAX"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Level"})]}),e.jsxs(o,{className:"p-4 text-center",children:[e.jsx(Zt,{className:"w-10 h-10 text-violet-400 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold",children:"Owner"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Rank"})]})]}),e.jsxs(o,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Owner Powers"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Xs.map(s=>e.jsxs("button",{onClick:()=>Js(s.id),className:"flex items-center gap-3 p-3 bg-white/5 rounded-lg hover:bg-white/10 transition-colors cursor-pointer text-left",children:[e.jsx(s.icon,{className:"w-5 h-5",style:{color:s.color}}),e.jsx("span",{className:"text-sm",children:s.name}),e.jsx(A,{className:"w-4 h-4 text-green-400 ml-auto"})]},s.id))})]})]}),l==="slack"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(o,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx(Ye,{className:"w-12 h-12 text-[#4A154B]"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Slack Integration"}),e.jsx("p",{className:"text-gray-400",children:"Real-time notifications for your MuscleMap empire"})]}),he&&e.jsxs("div",{className:"ml-auto flex items-center gap-2 px-3 py-1 bg-green-500/20 text-green-400 rounded-full text-sm",children:[e.jsx(A,{className:"w-4 h-4"})," Connected"]})]}),he?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Webhook URL"}),e.jsx("code",{className:"text-sm text-green-400",children:R.replace(/\/[^\/]+$/,"/****")})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:async()=>{try{(await fetch("/api/admin/slack/send-digest",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"daily"})})).ok&&me(a=>[...a,{text:"Daily digest sent!",user:"System",time:"Just now"}])}catch{}},className:"px-4 py-2 bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 rounded-lg transition-colors text-sm",children:"Send Daily Digest"}),e.jsx("button",{onClick:async()=>{try{(await fetch("/api/admin/slack/send-digest",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"weekly"})})).ok&&me(a=>[...a,{text:"Weekly digest sent!",user:"System",time:"Just now"}])}catch{}},className:"px-4 py-2 bg-purple-500/20 hover:bg-purple-500/30 text-purple-400 rounded-lg transition-colors text-sm",children:"Send Weekly Digest"}),e.jsx("button",{onClick:()=>{localStorage.removeItem("musclemap_slack_webhook"),ue(!1),Ee("")},className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded-lg transition-colors text-sm ml-auto",children:"Disconnect"})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Connect your Slack workspace to receive real-time notifications about new users, bug reports, feedback, deployments, and more."}),e.jsxs("div",{className:"flex gap-2 max-w-lg",children:[e.jsx("input",{type:"text",placeholder:"https://hooks.slack.com/services/...",value:R,onChange:s=>{Ee(s.target.value),X(null)},className:"flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-sm focus:outline-none focus:border-violet-500"}),e.jsxs("button",{onClick:Bt,disabled:ts||!R,className:"px-6 py-3 bg-[#4A154B] hover:bg-[#611f69] disabled:bg-[#4A154B]/50 disabled:cursor-not-allowed rounded-lg transition-colors flex items-center gap-2",children:[ts?e.jsx(pa,{className:"w-5 h-5 animate-spin"}):e.jsx(Ye,{className:"w-5 h-5"}),"Connect"]})]}),ls&&e.jsx("p",{className:"text-sm text-red-400",children:ls}),e.jsx("p",{className:"text-xs text-gray-600",children:e.jsx("a",{href:"https://api.slack.com/messaging/webhooks",target:"_blank",rel:"noopener noreferrer",className:"text-violet-400 hover:underline",children:"Learn how to create a Slack webhook"})})]})]}),he&&e.jsxs(o,{className:"p-6",children:[e.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[e.jsx(Ws,{className:"w-5 h-5 text-yellow-400"}),"Notification Types"]}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"These notifications are automatically sent to your Slack channel:"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[{icon:"🚨",name:"System Alerts",desc:"CPU, memory, error thresholds",enabled:!0},{icon:"🚀",name:"Deployments",desc:"Deploy start, complete, fail",enabled:!0},{icon:"👋",name:"New Users",desc:"When someone signs up",enabled:!0},{icon:"🏆",name:"Achievements",desc:"Level ups, milestones",enabled:!0},{icon:"🐛",name:"Bug Reports",desc:"User-submitted bugs",enabled:!0},{icon:"💬",name:"Feedback",desc:"Feature requests, questions",enabled:!0},{icon:"❌",name:"Errors",desc:"Application exceptions",enabled:!0},{icon:"☀️",name:"Daily Digest",desc:"9 AM UTC summary",enabled:!0},{icon:"📅",name:"Weekly Digest",desc:"Monday summary",enabled:!0},{icon:"💰",name:"Economy Events",desc:"Large transactions",enabled:!0},{icon:"👥",name:"Community",desc:"Crews, competitions",enabled:!0},{icon:"🛡️",name:"Security",desc:"Failed logins, blocks",enabled:!0}].map(s=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-lg",children:[e.jsx("span",{className:"text-xl",children:s.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium",children:s.name}),e.jsx("div",{className:"text-xs text-gray-500 truncate",children:s.desc})]}),e.jsx(A,{className:"w-4 h-4 text-green-400 flex-shrink-0"})]},s.name))})]}),he&&ss.length>0&&e.jsxs(o,{className:"p-6",children:[e.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[e.jsx(oe,{className:"w-5 h-5 text-blue-400"}),"Recent Activity"]}),e.jsx("div",{className:"space-y-2",children:ss.slice(-5).reverse().map((s,a)=>e.jsxs("div",{className:"p-3 bg-white/5 rounded-lg",children:[e.jsx("div",{className:"text-sm",children:s.text}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[s.user," · ",s.time]})]},a))})]})]}),l==="analytics"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(o,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(Qe,{className:"w-5 h-5 text-blue-400"}),"Google Analytics 4"]}),e.jsx("span",{className:"text-xs text-gray-500 font-mono",children:z})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("a",{href:`https://analytics.google.com/analytics/web/#/p${z.replace("G-","")}/reports/reportinghub`,target:"_blank",rel:"noopener noreferrer",className:"p-4 bg-white/5 hover:bg-white/10 rounded-lg transition-colors flex items-center gap-3 group",children:[e.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:e.jsx(Ce,{className:"w-5 h-5 text-blue-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:"Reports Overview"}),e.jsx("div",{className:"text-xs text-gray-500",children:"View all reports"})]}),e.jsx(T,{className:"w-4 h-4 text-gray-500 group-hover:text-white transition-colors"})]}),e.jsxs("a",{href:`https://analytics.google.com/analytics/web/#/p${z.replace("G-","")}/reports/dashboard?params=_u..nav%3Dmaui`,target:"_blank",rel:"noopener noreferrer",className:"p-4 bg-white/5 hover:bg-white/10 rounded-lg transition-colors flex items-center gap-3 group",children:[e.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:e.jsx(M,{className:"w-5 h-5 text-green-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:"Real-Time"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Live visitors"})]}),e.jsx(T,{className:"w-4 h-4 text-gray-500 group-hover:text-white transition-colors"})]}),e.jsxs("a",{href:`https://analytics.google.com/analytics/web/#/p${z.replace("G-","")}/reports/acquisition-overview`,target:"_blank",rel:"noopener noreferrer",className:"p-4 bg-white/5 hover:bg-white/10 rounded-lg transition-colors flex items-center gap-3 group",children:[e.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:e.jsx(de,{className:"w-5 h-5 text-purple-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:"User Acquisition"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Traffic sources"})]}),e.jsx(T,{className:"w-4 h-4 text-gray-500 group-hover:text-white transition-colors"})]}),e.jsxs("a",{href:`https://analytics.google.com/analytics/web/#/p${z.replace("G-","")}/reports/engagement-overview`,target:"_blank",rel:"noopener noreferrer",className:"p-4 bg-white/5 hover:bg-white/10 rounded-lg transition-colors flex items-center gap-3 group",children:[e.jsx("div",{className:"p-2 bg-yellow-500/20 rounded-lg",children:e.jsx(ea,{className:"w-5 h-5 text-yellow-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:"Engagement"}),e.jsx("div",{className:"text-xs text-gray-500",children:"User behavior"})]}),e.jsx(T,{className:"w-4 h-4 text-gray-500 group-hover:text-white transition-colors"})]}),e.jsxs("a",{href:`https://analytics.google.com/analytics/web/#/p${z.replace("G-","")}/reports/retention-overview`,target:"_blank",rel:"noopener noreferrer",className:"p-4 bg-white/5 hover:bg-white/10 rounded-lg transition-colors flex items-center gap-3 group",children:[e.jsx("div",{className:"p-2 bg-pink-500/20 rounded-lg",children:e.jsx(x,{className:"w-5 h-5 text-pink-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:"Retention"}),e.jsx("div",{className:"text-xs text-gray-500",children:"User return rate"})]}),e.jsx(T,{className:"w-4 h-4 text-gray-500 group-hover:text-white transition-colors"})]}),e.jsxs("a",{href:`https://analytics.google.com/analytics/web/#/p${z.replace("G-","")}/reports/explorer-events`,target:"_blank",rel:"noopener noreferrer",className:"p-4 bg-white/5 hover:bg-white/10 rounded-lg transition-colors flex items-center gap-3 group",children:[e.jsx("div",{className:"p-2 bg-cyan-500/20 rounded-lg",children:e.jsx(w,{className:"w-5 h-5 text-cyan-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:"Events"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Custom events"})]}),e.jsx(T,{className:"w-4 h-4 text-gray-500 group-hover:text-white transition-colors"})]})]})]}),e.jsxs(o,{className:"p-4",children:[e.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[e.jsx(w,{className:"w-5 h-5 text-cyan-400"}),"Tracked Events"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[{name:"sign_up",description:"User registration",color:"green"},{name:"login",description:"User login",color:"blue"},{name:"page_view",description:"Page navigation",color:"purple"},{name:"workout_complete",description:"Workout finished",color:"yellow"},{name:"archetype_selected",description:"Archetype chosen",color:"pink"},{name:"community_join",description:"Joined community",color:"cyan"},{name:"achievement_unlocked",description:"Achievement earned",color:"orange"},{name:"level_up",description:"Level increased",color:"violet"},{name:"credits_purchased",description:"Credits bought",color:"emerald"}].map(s=>e.jsxs("div",{className:"p-3 bg-white/5 rounded-lg flex items-center gap-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full bg-${s.color}-400`}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-mono",children:s.name}),e.jsx("div",{className:"text-xs text-gray-500",children:s.description})]})]},s.name))})]}),e.jsx(o,{className:"p-4 border border-blue-500/20",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:e.jsx(Qe,{className:"w-5 h-5 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-1",children:"About Google Analytics Integration"}),e.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"MuscleMap tracks user behavior with GA4 to help understand how people use the app. Page views, signups, logins, and key actions are automatically tracked."}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("a",{href:"https://analytics.google.com/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm text-blue-400 hover:text-blue-300",children:["Open GA4 Dashboard ",e.jsx(T,{className:"w-3 h-3"})]}),e.jsx("span",{className:"text-gray-600",children:"|"}),e.jsxs("a",{href:"https://support.google.com/analytics/answer/9304153",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm text-gray-400 hover:text-gray-300",children:["GA4 Documentation ",e.jsx(T,{className:"w-3 h-3"})]})]})]})]})})]}),l==="settings"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(o,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Empire Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsx("span",{children:"Maintenance Mode"}),e.jsx("button",{className:"px-3 py-1 bg-white/10 rounded text-sm",children:"Disabled"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsx("span",{children:"New User Registration"}),e.jsx("button",{className:"px-3 py-1 bg-green-500/20 text-green-400 rounded text-sm",children:"Enabled"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsx("span",{children:"API Rate Limiting"}),e.jsx("button",{className:"px-3 py-1 bg-green-500/20 text-green-400 rounded text-sm",children:"Enabled"})]})]})]}),e.jsxs("div",{className:"flex gap-4 flex-wrap",children:[e.jsx(N,{to:"/admin-control",className:"flex-1 min-w-[200px] text-center px-6 py-3 bg-white/10 hover:bg-white/20 rounded-lg transition-colors",children:"Admin Control Panel"}),e.jsx(N,{to:"/admin/monitoring",className:"flex-1 min-w-[200px] text-center px-6 py-3 bg-white/10 hover:bg-white/20 rounded-lg transition-colors",children:"System Monitoring"}),e.jsxs(N,{to:"/live",className:"flex-1 min-w-[200px] text-center px-6 py-3 bg-gradient-to-r from-blue-500/20 to-violet-500/20 hover:from-blue-500/30 hover:to-violet-500/30 border border-blue-500/30 rounded-lg transition-colors flex items-center justify-center gap-2",children:[e.jsx(M,{className:"w-4 h-4"}),"Live Activity"]})]})]})]})})]}),mt&&q&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs(o,{className:"p-6 w-full max-w-md mx-4",children:[e.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[e.jsx(Q,{className:"w-5 h-5 text-green-400"}),"Gift Credits"]}),e.jsxs("p",{className:"text-gray-400 mb-4",children:["Send credits to ",e.jsx("strong",{children:q.displayName||q.username})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Amount"}),e.jsx("input",{type:"number",value:K,onChange:s=>Re(parseInt(s.target.value)||0),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 focus:outline-none focus:border-violet-500"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>Ue(!1),className:"flex-1 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:$t,className:"flex-1 px-4 py-2 bg-green-500 hover:bg-green-600 rounded-lg transition-colors",children:"Send Gift"})]})]})}),J==="unlimited_credits"&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs(o,{className:"p-6 w-full max-w-md mx-4",children:[e.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[e.jsx(_e,{className:"w-5 h-5 text-yellow-400"}),"Unlimited Credits"]}),e.jsx("p",{className:"text-gray-400 mb-4",children:"Grant yourself 1 billion credits. Use this power wisely."}),e.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg mb-4",children:e.jsx("p",{className:"text-sm text-yellow-400",children:"This will set your credit balance to 1,000,000,000 credits."})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>f(null),className:"flex-1 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:Ot,disabled:gs,className:"flex-1 px-4 py-2 bg-yellow-500 hover:bg-yellow-600 rounded-lg transition-colors disabled:opacity-50",children:gs?"Granting...":"Grant Credits"})]})]})}),J==="gift_credits"&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs(o,{className:"p-6 w-full max-w-md mx-4",children:[e.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[e.jsx(Q,{className:"w-5 h-5 text-green-400"}),"Gift Credits to User"]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Search User"}),e.jsx("input",{type:"text",placeholder:"Search by username...",value:_t,onChange:s=>{Le(s.target.value),ze(s.target.value,"gift")},className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 focus:outline-none focus:border-violet-500"}),Os.length>0&&!F&&e.jsx("div",{className:"mt-2 bg-white/5 border border-white/10 rounded-lg max-h-40 overflow-y-auto",children:Os.map(s=>e.jsx("button",{onClick:()=>{Fs(s),Le(s.username),Ne([])},className:"w-full px-3 py-2 text-left hover:bg-white/10 transition-colors",children:s.displayName||s.username},s.id))}),F&&e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-green-400",children:[e.jsx(A,{className:"w-4 h-4"}),"Selected: ",F.displayName||F.username]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Amount"}),e.jsx("input",{type:"number",value:te,onChange:s=>Ms(parseInt(s.target.value)||0),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 focus:outline-none focus:border-violet-500"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>f(null),className:"flex-1 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:Dt,disabled:Ps||!F||te<=0,className:"flex-1 px-4 py-2 bg-green-500 hover:bg-green-600 rounded-lg transition-colors disabled:opacity-50",children:Ps?"Sending...":"Send Gift"})]})]})}),J==="ban_user"&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs(o,{className:"p-6 w-full max-w-md mx-4",children:[e.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[e.jsx(at,{className:"w-5 h-5 text-red-400"}),"Ban User"]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Search User"}),e.jsx("input",{type:"text",placeholder:"Search by username...",value:kt,onChange:s=>{De(s.target.value),ze(s.target.value,"ban")},className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 focus:outline-none focus:border-violet-500"}),js.length>0&&!$&&e.jsx("div",{className:"mt-2 bg-white/5 border border-white/10 rounded-lg max-h-40 overflow-y-auto",children:js.map(s=>e.jsx("button",{onClick:()=>{ys(s),De(s.username),je([])},className:"w-full px-3 py-2 text-left hover:bg-white/10 transition-colors",children:s.displayName||s.username},s.id))}),$&&e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-red-400",children:[e.jsx(it,{className:"w-4 h-4"}),"Selected: ",$.displayName||$.username]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Ban Reason"}),e.jsx("textarea",{value:fs,onChange:s=>vs(s.target.value),placeholder:"Reason for banning...",className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 focus:outline-none focus:border-violet-500 min-h-[80px]"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>f(null),className:"flex-1 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:Ft,disabled:Ns||!$,className:"flex-1 px-4 py-2 bg-red-500 hover:bg-red-600 rounded-lg transition-colors disabled:opacity-50",children:Ns?"Banning...":"Ban User"})]})]})}),J==="grant_achievements"&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs(o,{className:"p-6 w-full max-w-md mx-4",children:[e.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[e.jsx(ct,{className:"w-5 h-5 text-violet-400"}),"Grant Achievement"]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Search User"}),e.jsx("input",{type:"text",placeholder:"Search by username...",value:St,onChange:s=>{Be(s.target.value),ze(s.target.value,"achievement")},className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 focus:outline-none focus:border-violet-500"}),ks.length>0&&!O&&e.jsx("div",{className:"mt-2 bg-white/5 border border-white/10 rounded-lg max-h-40 overflow-y-auto",children:ks.map(s=>e.jsx("button",{onClick:()=>{Ss(s),Be(s.username),ye([])},className:"w-full px-3 py-2 text-left hover:bg-white/10 transition-colors",children:s.displayName||s.username},s.id))}),O&&e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-green-400",children:[e.jsx(A,{className:"w-4 h-4"}),"Selected: ",O.displayName||O.username]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Achievement ID"}),e.jsx("input",{type:"text",value:fe,onChange:s=>Cs(s.target.value),placeholder:"e.g., first_workout, streak_7...",className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 focus:outline-none focus:border-violet-500"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>f(null),className:"flex-1 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:Mt,disabled:_s||!O||!fe,className:"flex-1 px-4 py-2 bg-violet-500 hover:bg-violet-600 rounded-lg transition-colors disabled:opacity-50",children:_s?"Granting...":"Grant Achievement"})]})]})}),J==="broadcast"&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs(o,{className:"p-6 w-full max-w-md mx-4",children:[e.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[e.jsx(W,{className:"w-5 h-5 text-cyan-400"}),"Broadcast Message"]}),e.jsx("p",{className:"text-gray-400 mb-4",children:"Send a message to all users. This will appear as a system notification."}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Message"}),e.jsx("textarea",{value:ve,onChange:s=>Ts(s.target.value),placeholder:"Enter your broadcast message...",className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 focus:outline-none focus:border-violet-500 min-h-[120px]"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>f(null),className:"flex-1 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:Pt,disabled:Es||!ve.trim(),className:"flex-1 px-4 py-2 bg-cyan-500 hover:bg-cyan-600 rounded-lg transition-colors disabled:opacity-50",children:Es?"Sending...":"Broadcast"})]})]})}),J==="system_override"&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs(o,{className:"p-6 w-full max-w-md mx-4",children:[e.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[e.jsx(w,{className:"w-5 h-5 text-orange-400"}),"System Override"]}),e.jsx("p",{className:"text-gray-400 mb-4",children:"Execute system-level commands. Use with extreme caution."}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("button",{onClick:()=>we("clear_cache"),disabled:se,className:"w-full px-4 py-3 bg-white/5 hover:bg-white/10 rounded-lg transition-colors text-left flex items-center gap-3",children:[e.jsx(rt,{className:"w-5 h-5 text-blue-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Clear All Caches"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Redis, GraphQL, and application caches"})]})]}),e.jsxs("button",{onClick:()=>we("maintenance_mode"),disabled:se,className:"w-full px-4 py-3 bg-white/5 hover:bg-white/10 rounded-lg transition-colors text-left flex items-center gap-3",children:[e.jsx(tt,{className:"w-5 h-5 text-yellow-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Toggle Maintenance Mode"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Enable/disable maintenance mode"})]})]}),e.jsxs("button",{onClick:()=>we("restart_services"),disabled:se,className:"w-full px-4 py-3 bg-white/5 hover:bg-white/10 rounded-lg transition-colors text-left flex items-center gap-3",children:[e.jsx(x,{className:"w-5 h-5 text-green-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Restart Services"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Gracefully restart all services"})]})]}),e.jsxs("button",{onClick:()=>we("force_sync"),disabled:se,className:"w-full px-4 py-3 bg-white/5 hover:bg-white/10 rounded-lg transition-colors text-left flex items-center gap-3",children:[e.jsx(M,{className:"w-5 h-5 text-violet-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Force Sync"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Synchronize all data and metrics"})]})]})]}),e.jsx("div",{className:"flex gap-3",children:e.jsx("button",{onClick:()=>f(null),className:"flex-1 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg transition-colors",children:"Close"})}),se&&e.jsxs("div",{className:"mt-4 text-center text-sm text-gray-400",children:["Executing ",Ct,"..."]})]})})]})}function Ga(d){const l={},k=d.split(`
`);for(const y of k){if(y.startsWith("#")||!y.trim())continue;const P=y.match(/^(\w+)(?:\{([^}]*)\})?\s+(.+)$/);if(P){const[,j,D,Ae]=P,xe=parseFloat(Ae);if(l[j]||(l[j]=[]),D){const U={};D.split(",").forEach(Te=>{const[Xe,Ke]=Te.split("=");U[Xe]=Ke?.replace(/"/g,"")}),l[j].push({labels:U,value:xe})}else l[j].push({value:xe})}}return l}const nl=Object.freeze(Object.defineProperty({__proto__:null,default:Ia},Symbol.toStringTag,{value:"Module"}));export{nl as E,Sa as U};
