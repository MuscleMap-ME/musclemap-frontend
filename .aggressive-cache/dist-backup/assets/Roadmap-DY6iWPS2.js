import{d as w,r as p,j as e,L as k}from"./react-vendor-D1NxaRNd.js";import{H as R,m as S}from"./index-CcFWR5Kg.js";import"./RouteNode-CLqyxU_a.js";import"./reactflow-vendor-Dz2P_-Qa.js";import{R as V}from"./RoadmapAtlas-Dpyj8IUy.js";import{c as A,S as M}from"./SEO-DrcZOZOH.js";import{a as B}from"./date-vendor-C_JWt2cu.js";import"./leaflet-vendor-DZbo3Ov0.js";import"./apollo-vendor-BMQ75Ycx.js";import"./recharts-vendor-BziRPEEi.js";import"./d3-vendor-mcDw60ct.js";const C={Back:()=>e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 19l-7-7 7-7"})}),ChevronUp:()=>e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})},v={0:{label:"Planned",color:"bg-gray-500",icon:"ðŸ“‹"},1:{label:"In Progress",color:"bg-blue-500",icon:"ðŸš§"},2:{label:"Completed",color:"bg-green-500",icon:"âœ…"},3:{label:"Paused",color:"bg-yellow-500",icon:"â¸ï¸"},4:{label:"Cancelled",color:"bg-red-500",icon:"âŒ"}},L={Feature:"âœ¨",Performance:"âš¡","UI/UX":"ðŸŽ¨",Infrastructure:"ðŸ—ï¸",Mobile:"ðŸ“±",Security:"ðŸ”’",Integration:"ðŸ”Œ"};function m({item:s,onVote:i,votingId:a}){w();const l=v[s.status]||v[0],d=L[s.category]||"ðŸ“¦";return e.jsx(S.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700/50 hover:border-gray-600/50 transition-colors",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsxs("button",{onClick:()=>i(s.id),disabled:a===s.id,className:`flex flex-col items-center justify-center w-12 h-14 rounded-lg transition-colors ${s.hasVoted?"bg-purple-600/30 text-purple-400":"bg-gray-700/50 text-gray-400 hover:bg-gray-700 hover:text-white"}`,children:[e.jsx(C.ChevronUp,{}),e.jsx("span",{className:"text-sm font-semibold",children:s.voteCount})]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-2",children:[e.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full ${l.color}/20 text-white`,children:[l.icon," ",l.label]}),s.category&&e.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-gray-700 text-gray-300",children:[d," ",s.category]}),s.quarter&&e.jsx("span",{className:"text-xs text-gray-500",children:s.quarter})]}),e.jsx("h3",{className:"font-semibold text-white mb-1",children:s.title}),s.description&&e.jsx("p",{className:"text-sm text-gray-400 line-clamp-2",children:s.description}),s.status===1&&s.progress>0&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[s.progress,"%"]})]}),e.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all",style:{width:`${s.progress}%`}})})]}),s.relatedIssueIds&&s.relatedIssueIds.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1 mt-3",children:[s.relatedIssueIds.slice(0,3).map(o=>e.jsxs(k,{to:`/issues/${o}`,className:"text-xs px-2 py-0.5 bg-gray-700/50 rounded text-purple-400 hover:text-purple-300",onClick:r=>r.stopPropagation(),children:["#",o]},o)),s.relatedIssueIds.length>3&&e.jsxs("span",{className:"text-xs text-gray-500",children:["+",s.relatedIssueIds.length-3," more"]})]}),s.completedAt&&e.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Completed ",B(new Date(s.completedAt),"MMM d, yyyy")]})]})]})})}function y({title:s,icon:i,items:a,onVote:l,votingId:d,emptyMessage:o}){return e.jsxs("div",{className:"flex-1 min-w-[300px]",children:[e.jsx("div",{className:"sticky top-20 bg-gray-900 pb-3 z-10",children:e.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:i}),s,e.jsxs("span",{className:"text-sm text-gray-500 font-normal",children:["(",a.length,")"]})]})}),e.jsx("div",{className:"space-y-3",children:a.length===0?e.jsx("div",{className:"bg-gray-800/30 rounded-xl p-6 text-center",children:e.jsx("p",{className:"text-gray-500",children:o})}):a.map(r=>e.jsx(m,{item:r,onVote:l,votingId:d},r.id))})]})}function Y(){const{token:s}=R(),i=w(),[a,l]=p.useState([]),[d,o]=p.useState(!0),[r,f]=p.useState(null),[h,N]=p.useState("board");p.useEffect(()=>{I()},[]);const I=async()=>{try{const t=s?{Authorization:`Bearer ${s}`}:{},x=await(await fetch("/api/roadmap",{headers:t})).json();l(x.data||[])}catch{}finally{o(!1)}},c=async t=>{if(!s){i("/login");return}f(t);try{const x=await(await fetch(`/api/roadmap/${t}/vote`,{method:"POST",headers:{Authorization:`Bearer ${s}`}})).json();x.data&&l(a.map(b=>b.id===t?{...b,hasVoted:x.data.voted,voteCount:x.data.voteCount}:b))}catch{}finally{f(null)}},g=a.filter(t=>t.status===0).sort((t,n)=>n.voteCount-t.voteCount),u=a.filter(t=>t.status===1).sort((t,n)=>n.progress-t.progress),j=a.filter(t=>t.status===2).sort((t,n)=>new Date(n.completedAt)-new Date(t.completedAt)),P=A([{name:"Home",path:"/"},{name:"Roadmap",path:"/roadmap"}]);return e.jsxs(e.Fragment,{children:[e.jsx(M,{title:"Roadmap",description:"MuscleMap development roadmap. Upcoming features, planned improvements, and long-term vision for the fitness tracking platform.",structuredData:P}),e.jsxs("div",{className:"min-h-screen bg-gray-900 text-white pb-24",children:[e.jsx("header",{className:"bg-gray-800 border-b border-gray-700 sticky top-0 z-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(k,{to:"/issues",className:"text-gray-400 hover:text-white flex items-center gap-2",children:[e.jsx(C.Back,{}),e.jsx("span",{className:"hidden sm:inline",children:"Back"})]}),e.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ—ºï¸"}),e.jsx("span",{children:"Product Roadmap"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>N("board"),className:`px-3 py-1 rounded-lg text-sm ${h==="board"?"bg-purple-600 text-white":"bg-gray-700 text-gray-300"}`,children:"Board"}),e.jsx("button",{onClick:()=>N("list"),className:`px-3 py-1 rounded-lg text-sm ${h==="list"?"bg-purple-600 text-white":"bg-gray-700 text-gray-300"}`,children:"List"})]})]})})}),e.jsx("div",{className:"bg-gray-800/50 border-b border-gray-700/50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:e.jsx("p",{className:"text-gray-400 text-center",children:"Vote on features you want to see! Your feedback helps prioritize what we build next."})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:e.jsxs("div",{className:"bg-gray-800/30 rounded-xl p-6 border border-gray-700/50 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ—ºï¸"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Feature Timeline"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Visual overview of completed and upcoming features"})]})]}),e.jsx(V,{})]})}),e.jsx("main",{className:"max-w-7xl mx-auto px-4 py-6",children:d?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Loading roadmap..."})]}):a.length===0?e.jsxs("div",{className:"text-center py-12 bg-gray-800/30 rounded-xl",children:[e.jsx("p",{className:"text-4xl mb-4",children:"ðŸ—ºï¸"}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Roadmap coming soon"}),e.jsx("p",{className:"text-gray-400",children:"Check back later to see our planned features and vote on priorities."})]}):h==="board"?e.jsxs("div",{className:"flex gap-6 overflow-x-auto pb-4",children:[e.jsx(y,{title:"Planned",icon:"ðŸ“‹",items:g,onVote:c,votingId:r,emptyMessage:"Nothing planned yet"}),e.jsx(y,{title:"In Progress",icon:"ðŸš§",items:u,onVote:c,votingId:r,emptyMessage:"Nothing in progress"}),e.jsx(y,{title:"Completed",icon:"âœ…",items:j,onVote:c,votingId:r,emptyMessage:"Nothing completed yet"})]}):e.jsxs("div",{className:"space-y-6",children:[u.length>0&&e.jsxs("section",{children:[e.jsxs("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸš§"})," In Progress"]}),e.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:u.map(t=>e.jsx(m,{item:t,onVote:c,votingId:r},t.id))})]}),g.length>0&&e.jsxs("section",{children:[e.jsxs("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ“‹"})," Planned"]}),e.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:g.map(t=>e.jsx(m,{item:t,onVote:c,votingId:r},t.id))})]}),j.length>0&&e.jsxs("section",{children:[e.jsxs("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"âœ…"})," Completed"]}),e.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:j.map(t=>e.jsx(m,{item:t,onVote:c,votingId:r},t.id))})]})]})})]})]})}export{Y as default};
