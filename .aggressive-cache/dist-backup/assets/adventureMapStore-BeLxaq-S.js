import{al as C,am as T,an as F}from"./index-C8OGbIE3.js";const g={dashboard:{id:"dashboard",name:"Command Center",description:"Your fitness dashboard - the heart of your journey",icon:"ðŸ ",route:"/dashboard",region:"central-hub",position:{x:500,y:400},tier:"common",isStarting:!0},profile:{id:"profile",name:"Hero Profile",description:"View and customize your warrior profile",icon:"ðŸ‘¤",route:"/profile",region:"central-hub",position:{x:450,y:450},tier:"common"},settings:{id:"settings",name:"Settings Keep",description:"Configure your preferences",icon:"âš™ï¸",route:"/settings",region:"central-hub",position:{x:550,y:450},tier:"common"},workout:{id:"workout",name:"Training Grounds",description:"Start a new workout session",icon:"ðŸ’ª",route:"/workout",region:"warrior-arena",position:{x:200,y:350},tier:"common"},exercises:{id:"exercises",name:"Exercise Library",description:"Browse all available exercises",icon:"ðŸ“–",route:"/exercises",region:"warrior-arena",position:{x:150,y:400},tier:"common"},journey:{id:"journey",name:"Hero Journey",description:"Your personalized training path",icon:"ðŸ—ºï¸",route:"/journey",region:"warrior-arena",position:{x:250,y:400},tier:"uncommon"},"pt-tests":{id:"pt-tests",name:"PT Test Arena",description:"Physical fitness test preparation",icon:"ðŸŽ–ï¸",route:"/pt-tests",region:"warrior-arena",position:{x:200,y:450},tier:"uncommon"},archetypes:{id:"archetypes",name:"Archetype Selection",description:"Choose your warrior class",icon:"ðŸ›¡ï¸",route:"/archetypes",region:"warrior-arena",position:{x:120,y:350},tier:"rare"},progression:{id:"progression",name:"Progress Peaks",description:"Track your overall progression",icon:"ðŸ“ˆ",route:"/progression",region:"progress-path",position:{x:300,y:550},tier:"common"},stats:{id:"stats",name:"Stats Shrine",description:"Detailed workout statistics",icon:"ðŸ“Š",route:"/stats",region:"progress-path",position:{x:250,y:580},tier:"common"},achievements:{id:"achievements",name:"Trophy Hall",description:"Your earned achievements",icon:"ðŸ†",route:"/achievements",region:"progress-path",position:{x:350,y:580},tier:"uncommon"},"personal-records":{id:"personal-records",name:"Records Monument",description:"Your personal bests",icon:"ðŸ¥‡",route:"/personal-records",region:"progress-path",position:{x:300,y:620},tier:"uncommon"},history:{id:"history",name:"History Archives",description:"Past workout history",icon:"ðŸ“œ",route:"/history",region:"progress-path",position:{x:220,y:530},tier:"common"},community:{id:"community",name:"Community Square",description:"Connect with other warriors",icon:"ðŸ‘¥",route:"/community",region:"guild-hall",position:{x:700,y:350},tier:"common"},crews:{id:"crews",name:"Crew Quarters",description:"Join or manage your crew",icon:"âš”ï¸",route:"/crews",region:"guild-hall",position:{x:650,y:400},tier:"uncommon"},rivals:{id:"rivals",name:"Rivals Arena",description:"Challenge your rivals",icon:"ðŸ¤º",route:"/rivals",region:"guild-hall",position:{x:750,y:400},tier:"uncommon"},competitions:{id:"competitions",name:"Competition Colosseum",description:"Join fitness competitions",icon:"ðŸ…",route:"/competitions",region:"guild-hall",position:{x:700,y:450},tier:"rare"},messages:{id:"messages",name:"Message Tower",description:"Your conversations",icon:"ðŸ’¬",route:"/messages",region:"guild-hall",position:{x:680,y:320},tier:"common"},leaderboard:{id:"leaderboard",name:"Hall of Champions",description:"Top performers leaderboard",icon:"ðŸ†",route:"/leaderboard",region:"guild-hall",position:{x:750,y:350},tier:"uncommon"},marketplace:{id:"marketplace",name:"Grand Bazaar",description:"Buy and sell items",icon:"ðŸ›’",route:"/marketplace",region:"market-district",position:{x:800,y:500},tier:"common"},wallet:{id:"wallet",name:"Treasury",description:"Your credits and transactions",icon:"ðŸ’°",route:"/wallet",region:"market-district",position:{x:750,y:530},tier:"common"},skins:{id:"skins",name:"Cosmetics Emporium",description:"Customize your appearance",icon:"ðŸŽ¨",route:"/skins",region:"market-district",position:{x:850,y:530},tier:"uncommon"},trading:{id:"trading",name:"Trading Post",description:"Trade with other users",icon:"ðŸ¤",route:"/trading",region:"market-district",position:{x:800,y:560},tier:"rare"},collection:{id:"collection",name:"Collection Vault",description:"Your collected items",icon:"ðŸ—ƒï¸",route:"/collection",region:"market-district",position:{x:780,y:480},tier:"uncommon"},health:{id:"wellness",name:"Wellness Sanctuary",description:"Track your wellness metrics",icon:"â¤ï¸",route:"/wellness",region:"wellness-springs",position:{x:200,y:150},tier:"common"},recovery:{id:"recovery",name:"Recovery Pool",description:"Recovery and rest tracking",icon:"ðŸ›",route:"/recovery",region:"wellness-springs",position:{x:150,y:180},tier:"uncommon"},goals:{id:"goals",name:"Goals Garden",description:"Set and track fitness goals",icon:"ðŸŽ¯",route:"/goals",region:"wellness-springs",position:{x:250,y:180},tier:"common"},nutrition:{id:"nutrition",name:"Nutrition Kitchen",description:"Track your nutrition",icon:"ðŸ¥—",route:"/nutrition",region:"wellness-springs",position:{x:200,y:210},tier:"uncommon"},sleep:{id:"sleep",name:"Rest Haven",description:"Sleep tracking and analysis",icon:"ðŸ˜´",route:"/sleep",region:"wellness-springs",position:{x:180,y:130},tier:"uncommon"},skills:{id:"skills",name:"Skills Academy",description:"Learn new fitness skills",icon:"ðŸ“š",route:"/skills",region:"scholars-tower",position:{x:700,y:550},tier:"common"},"martial-arts":{id:"martial-arts",name:"Martial Arts Dojo",description:"Combat sports training",icon:"ðŸ¥‹",route:"/martial-arts",region:"scholars-tower",position:{x:650,y:580},tier:"uncommon"},trainers:{id:"trainers",name:"Trainers Guild",description:"Find certified trainers",icon:"ðŸ‘¨â€ðŸ«",route:"/trainers",region:"scholars-tower",position:{x:750,y:580},tier:"rare"},docs:{id:"docs",name:"Knowledge Library",description:"Fitness guides and documentation",icon:"ðŸ“–",route:"/docs",region:"scholars-tower",position:{x:700,y:610},tier:"common"},tutorials:{id:"tutorials",name:"Tutorial Chamber",description:"Learn the basics",icon:"ðŸŽ“",route:"/tutorials",region:"scholars-tower",position:{x:680,y:530},tier:"common"},empire:{id:"empire",name:"Empire Control",description:"Admin control center",icon:"ðŸ‘‘",route:"/empire",region:"summit-peak",position:{x:500,y:100},tier:"legendary",requiredRole:"admin"},"admin-control":{id:"admin-control",name:"Admin Tower",description:"System administration",icon:"ðŸ›ï¸",route:"/admin-control",region:"summit-peak",position:{x:550,y:120},tier:"legendary",requiredRole:"admin"},analytics:{id:"analytics",name:"Analytics Spire",description:"Platform analytics",icon:"ðŸ“Š",route:"/analytics",region:"summit-peak",position:{x:450,y:120},tier:"epic",requiredRole:"admin"}},b=[{from:"dashboard",to:"profile",style:"road"},{from:"dashboard",to:"settings",style:"road"},{from:"dashboard",to:"workout",style:"road"},{from:"dashboard",to:"progression",style:"road"},{from:"dashboard",to:"community",style:"road"},{from:"dashboard",to:"marketplace",style:"road"},{from:"dashboard",to:"health",style:"bridge"},{from:"dashboard",to:"skills",style:"road"},{from:"workout",to:"exercises",style:"trail"},{from:"workout",to:"journey",style:"trail"},{from:"workout",to:"pt-tests",style:"trail"},{from:"workout",to:"archetypes",style:"trail"},{from:"exercises",to:"archetypes",style:"trail"},{from:"progression",to:"stats",style:"trail"},{from:"progression",to:"achievements",style:"trail"},{from:"progression",to:"personal-records",style:"trail"},{from:"progression",to:"history",style:"trail"},{from:"stats",to:"history",style:"trail"},{from:"community",to:"crews",style:"trail"},{from:"community",to:"rivals",style:"trail"},{from:"community",to:"competitions",style:"trail"},{from:"community",to:"messages",style:"trail"},{from:"community",to:"leaderboard",style:"trail"},{from:"crews",to:"competitions",style:"trail"},{from:"marketplace",to:"wallet",style:"trail"},{from:"marketplace",to:"skins",style:"trail"},{from:"marketplace",to:"trading",style:"trail"},{from:"marketplace",to:"collection",style:"trail"},{from:"wallet",to:"trading",style:"trail"},{from:"health",to:"recovery",style:"trail"},{from:"health",to:"goals",style:"trail"},{from:"health",to:"nutrition",style:"trail"},{from:"health",to:"sleep",style:"trail"},{from:"recovery",to:"sleep",style:"trail"},{from:"skills",to:"martial-arts",style:"trail"},{from:"skills",to:"trainers",style:"trail"},{from:"skills",to:"docs",style:"trail"},{from:"skills",to:"tutorials",style:"trail"},{from:"tutorials",to:"docs",style:"trail"},{from:"empire",to:"admin-control",style:"portal"},{from:"empire",to:"analytics",style:"portal"},{from:"health",to:"empire",style:"bridge"},{from:"marketplace",to:"empire",style:"bridge"},{from:"workout",to:"progression",style:"road"},{from:"progression",to:"skills",style:"road"},{from:"community",to:"marketplace",style:"road"}];let M=null;function N(o){M=o}function y(o){return M?.get(o.id)??o.position}function q(){return Object.values(g).map(o=>({...o,position:y(o)}))}function h(o){const e=g[o];if(e)return{...e,position:y(e)}}function R(){const e=Object.values(g).find(t=>t.isStarting)||g.dashboard;return{...e,position:y(e)}}function G(o){return Object.values(g).filter(e=>e.region===o).map(e=>({...e,position:y(e)}))}function Y(o){const e=new Set;for(const t of b)t.from===o?e.add(t.to):t.to===o&&e.add(t.from);return Array.from(e).map(t=>g[t]).filter(t=>t!==void 0).map(t=>({...t,position:y(t)}))}function A(o,e){let t,n=1/0;for(const r of Object.values(g)){const a=y(r),c=a.x-o.x,l=a.y-o.y,m=Math.sqrt(c*c+l*l);m<n&&(n=m,t={...r,position:a})}if(!(e!==void 0&&n>e))return t}function W(o,e,t=30){const n=y(e),r=n.x-o.x,a=n.y-o.y;return Math.sqrt(r*r+a*a)<=t}function I(o){return b.filter(e=>e.from===o||e.to===o)}const k={"central-hub":{id:"central-hub",name:"Central Hub",description:"The heart of your fitness journey. Start here.",icon:"ðŸ°",theme:{primary:"#3B82F6",secondary:"#1E40AF",accent:"#60A5FA",glow:"rgba(59, 130, 246, 0.3)"},bounds:{x:700,y:550,width:400,height:300},connections:["warrior-arena","progress-path","guild-hall","market-district","wellness-springs","scholars-tower"]},"warrior-arena":{id:"warrior-arena",name:"Warrior Arena",description:"Train hard. Battle your limits. Become stronger.",icon:"âš”ï¸",theme:{primary:"#EF4444",secondary:"#B91C1C",accent:"#F87171",glow:"rgba(239, 68, 68, 0.3)"},bounds:{x:80,y:450,width:400,height:350},connections:["central-hub","progress-path"]},"progress-path":{id:"progress-path",name:"Progress Path",description:"Track your journey. Celebrate every milestone.",icon:"ðŸ“ˆ",theme:{primary:"#8B5CF6",secondary:"#6D28D9",accent:"#A78BFA",glow:"rgba(139, 92, 246, 0.3)"},bounds:{x:350,y:1e3,width:450,height:320},connections:["central-hub","warrior-arena","scholars-tower"]},"guild-hall":{id:"guild-hall",name:"Guild Hall",description:"Connect with fellow warriors. Compete together.",icon:"ðŸ›ï¸",theme:{primary:"#10B981",secondary:"#047857",accent:"#34D399",glow:"rgba(16, 185, 129, 0.3)"},bounds:{x:1300,y:250,width:420,height:400},connections:["central-hub","market-district"]},"market-district":{id:"market-district",name:"Market District",description:"Trade treasures. Customize your experience.",icon:"ðŸª™",theme:{primary:"#F59E0B",secondary:"#D97706",accent:"#FBBF24",glow:"rgba(245, 158, 11, 0.3)"},bounds:{x:1300,y:700,width:420,height:350},connections:["central-hub","guild-hall","summit-peak"]},"wellness-springs":{id:"wellness-springs",name:"Wellness Springs",description:"Rest and recover. Balance body and mind.",icon:"ðŸ’§",theme:{primary:"#06B6D4",secondary:"#0891B2",accent:"#22D3EE",glow:"rgba(6, 182, 212, 0.3)"},bounds:{x:80,y:80,width:400,height:320},connections:["central-hub","summit-peak"]},"scholars-tower":{id:"scholars-tower",name:"Scholar's Tower",description:"Learn new techniques. Master your craft.",icon:"ðŸ“š",theme:{primary:"#EC4899",secondary:"#BE185D",accent:"#F472B6",glow:"rgba(236, 72, 153, 0.3)"},bounds:{x:1e3,y:1e3,width:420,height:320},connections:["central-hub","progress-path"]},"summit-peak":{id:"summit-peak",name:"Summit Peak",description:"The pinnacle of achievement. Admin realm.",icon:"ðŸ‘‘",theme:{primary:"#FFD700",secondary:"#B8860B",accent:"#FFE55C",glow:"rgba(255, 215, 0, 0.4)"},bounds:{x:650,y:80,width:500,height:280},connections:["wellness-springs","market-district"]}};function J(){return Object.values(k)}function K(o){return k[o]}function B(o,e){const{bounds:t}=e;return o.x>=t.x&&o.x<=t.x+t.width&&o.y>=t.y&&o.y<=t.y+t.height}function w(o){return Object.values(k).find(e=>B(o,e))}function x(o,e){const t=e.x-o.x,n=e.y-o.y;return Math.sqrt(t*t+n*n)}function V(o){const e=new Set;for(const t of b)t.from===o?e.add(t.to):t.to===o&&e.add(t.from);return Array.from(e)}function O(o,e,t=100){const n=h(o),r=h(e);if(!n||!r)return[];if(o===e)return[o];const a=new Map,c=new Set,l={id:o,g:0,h:x(n.position,r.position),f:0,parent:null};l.f=l.g+l.h,a.set(o,l);let m=0;for(;a.size>0&&m<t;){m++;let i=null,P=1/0;for(const d of a.values())d.f<P&&(P=d.f,i=d);if(!i)break;if(i.id===e){const d=[];let u=i;for(;u;)d.unshift(u.id),u=u.parent;return d}a.delete(i.id),c.add(i.id);const S=V(i.id);for(const d of S){if(c.has(d))continue;const u=h(d);if(!u)continue;const L=h(i.id);if(!L)continue;const v=i.g+x(L.position,u.position),p=a.get(d);if(p)v<p.g&&(p.g=v,p.f=p.g+p.h,p.parent=i);else{const f={id:d,g:v,h:x(u.position,r.position),f:0,parent:i};f.f=f.g+f.h,a.set(d,f)}}}return[]}function E(o){return o.map(e=>h(e)?.position).filter(e=>e!==void 0)}function j(o,e,t=100){const n=O(o,e,t);return E(n)}function H(o,e,t){return{x:o.x+(e.x-o.x)*t,y:o.y+(e.y-o.y)*t}}function _(o,e=10){if(o.length<2)return o;const t=[o[0]];for(let n=0;n<o.length-1;n++){const r=o[n],a=o[n+1],c=x(r,a),l=Math.ceil(c/e);for(let m=1;m<=l;m++){const i=m/l;t.push(H(r,a,i))}}return t}const z=R(),D={characterPosition:z.position,characterState:"idle",movementPath:[],currentPathIndex:0,currentRegion:"central-hub",targetLocation:null,mapZoom:1,mapPan:{x:0,y:0},selectedLocation:null,hoveredLocation:null,visitedLocations:["dashboard"],lastVisitedLocation:"dashboard",totalVisits:1,isMapOpen:!1,isFullscreen:!1,showMinimap:!0,hudExpanded:!1},s=C()(T(F((o,e)=>({...D,setCharacterPosition:t=>{const n=w(t);o({characterPosition:t,currentRegion:n?.id||e().currentRegion})},setCharacterState:t=>o({characterState:t}),startMovement:t=>{const{characterPosition:n,visitedLocations:r}=e(),a=A(n);if(!a||!h(t))return;const l=j(a.id,t,5);l.length>0&&o({movementPath:l,currentPathIndex:0,characterState:"walking",targetLocation:t})},advanceMovement:()=>{const{movementPath:t,currentPathIndex:n,targetLocation:r}=e();if(n>=t.length-1){const m=t[t.length-1],i=w(m);return o({characterPosition:m,characterState:"idle",movementPath:[],currentPathIndex:0,currentRegion:i?.id||e().currentRegion}),r&&e().visitLocation(r),!0}const a=n+1,c=t[a],l=w(c);return o({currentPathIndex:a,characterPosition:c,currentRegion:l?.id||e().currentRegion}),!1},cancelMovement:()=>{o({characterState:"idle",movementPath:[],currentPathIndex:0,targetLocation:null})},teleportTo:t=>{const n=h(t);if(!n)return;const r=w(n.position);o({characterState:"teleporting",targetLocation:t}),setTimeout(()=>{o({characterPosition:n.position,characterState:"idle",currentRegion:r?.id||"central-hub",movementPath:[],currentPathIndex:0,targetLocation:null}),e().visitLocation(t)},500)},setMapZoom:t=>o({mapZoom:Math.max(.5,Math.min(2,t))}),zoomIn:()=>o(t=>({mapZoom:Math.min(2,t.mapZoom+.1)})),zoomOut:()=>o(t=>({mapZoom:Math.max(.5,t.mapZoom-.1)})),setMapPan:t=>o({mapPan:t}),panBy:t=>o(n=>({mapPan:{x:n.mapPan.x+t.x,y:n.mapPan.y+t.y}})),centerOnCharacter:()=>{const{characterPosition:t}=e();o({mapPan:{x:-t.x+500,y:-t.y+400}})},resetView:()=>o({mapZoom:1,mapPan:{x:0,y:0}}),setSelectedLocation:t=>o({selectedLocation:t}),setHoveredLocation:t=>o({hoveredLocation:t}),visitLocation:t=>{const{visitedLocations:n,totalVisits:r}=e();n.includes(t)?o({lastVisitedLocation:t,totalVisits:r+1}):o({visitedLocations:[...n,t],lastVisitedLocation:t,totalVisits:r+1})},hasVisited:t=>e().visitedLocations.includes(t),openMap:()=>o({isMapOpen:!0}),closeMap:()=>o({isMapOpen:!1,isFullscreen:!1}),toggleFullscreen:()=>o(t=>({isFullscreen:!t.isFullscreen})),toggleMinimap:()=>o(t=>({showMinimap:!t.showMinimap})),toggleHudExpanded:()=>o(t=>({hudExpanded:!t.hudExpanded}))}),{name:"musclemap-adventure-map",partialize:o=>({characterPosition:o.characterPosition,currentRegion:o.currentRegion,visitedLocations:o.visitedLocations,lastVisitedLocation:o.lastVisitedLocation,totalVisits:o.totalVisits,showMinimap:o.showMinimap})}))),Q=()=>{const o=s(c=>c.characterPosition),e=s(c=>c.characterState),t=s(c=>c.currentRegion),n=s(c=>c.startMovement),r=s(c=>c.teleportTo),a=s(c=>c.cancelMovement);return{position:o,state:e,region:t,moveTo:n,teleportTo:r,cancel:a,isMoving:e==="walking",isTeleporting:e==="teleporting"}},U=()=>{const o=s(i=>i.mapZoom),e=s(i=>i.mapPan),t=s(i=>i.setMapZoom),n=s(i=>i.zoomIn),r=s(i=>i.zoomOut),a=s(i=>i.setMapPan),c=s(i=>i.panBy),l=s(i=>i.centerOnCharacter),m=s(i=>i.resetView);return{zoom:o,pan:e,setZoom:t,zoomIn:n,zoomOut:r,setPan:a,panBy:c,center:l,reset:m}},X=()=>{const o=s(r=>r.selectedLocation),e=s(r=>r.hoveredLocation),t=s(r=>r.setSelectedLocation),n=s(r=>r.setHoveredLocation);return{selected:o,hovered:e,setSelected:t,setHovered:n}},$=()=>{const o=s(r=>r.visitedLocations),e=s(r=>r.lastVisitedLocation),t=s(r=>r.totalVisits),n=s(r=>r.hasVisited);return{visited:o,lastVisited:e,totalVisits:t,hasVisited:n,visitedCount:o.length}},oo=()=>{const o=s(i=>i.isMapOpen),e=s(i=>i.isFullscreen),t=s(i=>i.showMinimap),n=s(i=>i.hudExpanded),r=s(i=>i.openMap),a=s(i=>i.closeMap),c=s(i=>i.toggleFullscreen),l=s(i=>i.toggleMinimap),m=s(i=>i.toggleHudExpanded);return{isOpen:o,isFullscreen:e,showMinimap:t,hudExpanded:n,open:r,close:a,toggleFullscreen:c,toggleMinimap:l,toggleHud:m}};export{g as L,b as P,k as R,$ as a,oo as b,s as c,q as d,Y as e,h as f,A as g,U as h,X as i,J as j,R as k,K as l,w as m,G as n,W as o,I as p,O as q,j as r,N as s,E as t,Q as u,x as v,H as w,_ as x};
