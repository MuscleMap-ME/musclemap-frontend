import{j as e}from"./react-vendor-D1NxaRNd.js";import{b as f,X as w,c as u}from"./index-DJKXoZu6.js";import{c as i}from"./recharts-vendor-BziRPEEi.js";import{T as y}from"./trash-2-CeFkK5Sw.js";import{R as j}from"./refresh-cw-CWujyU-k.js";import{T as t}from"./triangle-alert-BrJqSv9k.js";import"./leaflet-vendor-DZbo3Ov0.js";import"./apollo-vendor-BMQ75Ycx.js";import"./reactflow-vendor-Dz2P_-Qa.js";import"./d3-vendor-mcDw60ct.js";function I({position:l="top",className:n}){const{warning:s,clearWarning:a,forceGC:m,supported:o}=f();if(!o||!s)return null;const c=()=>{window.location.reload()},d=async()=>{try{await u(),m(),a()}catch{}},h=()=>{s.level!=="emergency"&&a()},x={warning:"bg-amber-500/90 text-amber-950",critical:"bg-orange-600/90 text-white",emergency:"bg-red-600/95 text-white animate-pulse"},g={warning:e.jsx(t,{className:"w-5 h-5"}),critical:e.jsx(t,{className:"w-5 h-5"}),emergency:e.jsx(t,{className:"w-6 h-6"})};return e.jsxs("div",{className:i("fixed left-0 right-0 z-50 px-4 py-3 shadow-lg",l==="top"?"top-0":"bottom-0",x[s.level],n),role:"alert","aria-live":s.level==="emergency"?"assertive":"polite",children:[e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[g[s.level],e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold",children:[s.level==="warning"&&"Memory Usage Elevated",s.level==="critical"&&"High Memory Usage",s.level==="emergency"&&"Critical Memory Warning"]}),e.jsxs("p",{className:"text-sm opacity-90",children:[s.memoryInfo.usedMB,"MB used of ",s.memoryInfo.limitMB,"MB",s.level==="emergency"&&" - Page may crash soon!"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:d,className:i("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium","bg-white/20 hover:bg-white/30 transition-colors"),title:"Clear cache to free memory",children:[e.jsx(y,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Clear Cache"})]}),e.jsxs("button",{onClick:c,className:i("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium","bg-white/20 hover:bg-white/30 transition-colors"),title:"Refresh page",children:[e.jsx(j,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]}),s.level!=="emergency"&&e.jsx("button",{onClick:h,className:"p-1.5 rounded-md bg-white/10 hover:bg-white/20 transition-colors",title:"Dismiss","aria-label":"Dismiss warning",children:e.jsx(w,{className:"w-4 h-4"})})]})]}),s.level==="emergency"&&s.suggestions.length>0&&e.jsxs("div",{className:"max-w-7xl mx-auto mt-2 pt-2 border-t border-white/20",children:[e.jsx("p",{className:"text-sm font-medium mb-1",children:"Recommended actions:"}),e.jsx("ul",{className:"text-sm opacity-90 list-disc list-inside",children:s.suggestions.map((r,p)=>e.jsx("li",{children:r},p))})]})]})}export{I as MemoryWarningBanner,I as default};
