const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DaqTLGST.js","assets/RouteNode-CLqyxU_a.js","assets/react-vendor-D1NxaRNd.js","assets/index-DJKXoZu6.js","assets/DocsAtlas-C0py5wE5.js","assets/RoadmapAtlas-CYJoIWEF.js","assets/ArchitectureAtlas-C5_N3dd-.js","assets/leaflet-vendor-CIGW-MKW.css","assets/reactflow-vendor-B5DZHykP.css","assets/index-CaSYh-k2.css","assets/index-DFk3NkVs.js","assets/AdventureHUD-DrcpoLxO.js","assets/adventureMapStore-DfsYt5OI.js","assets/index-lRm7_35X.js","assets/illustrations-CFkZtwGd.js"])))=>i.map(i=>d[i]);
import{k as de,l as Je,A as G,m as b,F as ae,S as Ze,n as Re,o as Be,T as ke,p as et,U as tt,q as Oe,Z as De,X as ue,P as je,M as st,v as ye,L as We,B as ze,w as we,x as at,i as K,y as rt,u as it,h as le,e as ot,z as nt,D as re,E as Ce,G as lt,W as Me,H as ct,I as dt,J as ut,_ as me}from"./index-DJKXoZu6.js";import{r as i,j as e,L as $,d as $e}from"./react-vendor-D1NxaRNd.js";import{T as mt}from"./TipCard-BM9Tfx2B.js";import{c as A}from"./recharts-vendor-BziRPEEi.js";import{A as xt}from"./award-WMP3BlsL.js";import{C as ee}from"./chevron-right-B8B-Nais.js";import{G as J}from"./GlassSurface-BMiMerMg.js";import{G as Q,a as Se}from"./GlassButton-ZwMLByeP.js";import{u as ht,a as pt,b as gt,c as ft}from"./nutritionStore-DGHtIE_J.js";import{U as Ge}from"./utensils-DquKYaql.js";import{D as bt,u as vt,Q as jt}from"./QuickLogModal-nEcyiSv7.js";import{u as Ve,a as te,F as He,b as yt,c as Le,d as wt,P as Nt,e as kt}from"./musicStore-DslKvrXm.js";import{A as qe}from"./arrow-left-Br1tJfXa.js";import{S as Ct}from"./send-CMdvBVZo.js";import{C as Mt}from"./circle-check-big-Dimeuew7.js";import{C as St}from"./chevron-down-C7okSaly.js";import{u as Lt}from"./useNutrition-DKz-mts1.js";import{L as Tt}from"./Logo-Dsn3HC75.js";import Et from"./SpotlightTour-_5KgG4WP.js";import{C as Ft}from"./chevron-left-DuswC20d.js";import{D as Pt}from"./LevelUpEffect-DEyFh79X.js";import"./LootDrop-B4j6QFHe.js";import{X as _t}from"./XPProgress-BaXZEYSK.js";import{I as he}from"./InsightCard-DwtDgQpr.js";import{R as At}from"./RPGStatBar-DiaJV7GL.js";import"./adventureMapStore-DfsYt5OI.js";import"./preferencesStore-iXijXuRn.js";import{P as It}from"./HapticButton-CPy_gq-Y.js";import{G as Rt}from"./GlassProgress-tFMc8h4S.js";import{G as Bt,a as Ot,b as Dt,c as Wt,d as zt}from"./GlassNav-HpY4LPZs.js";import{M as $t}from"./MeshBackground-5ZvDS217.js";import{M as Gt,a as Vt}from"./MuscleActivationCard-Bf5HrTQ8.js";import{C as Ht}from"./clipboard-list-Bodm2K7d.js";import"./apollo-vendor-BMQ75Ycx.js";import"./reactflow-vendor-Dz2P_-Qa.js";import"./d3-vendor-mcDw60ct.js";import"./leaflet-vendor-DZbo3Ov0.js";import"./loader-circle-CU0ewwIB.js";import"./circle-alert-SpUrJGtg.js";import"./refresh-cw-CWujyU-k.js";import"./minus-rCFfZUeH.js";const qt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ut=de("circle-check",qt);const Kt=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Yt=de("message-circle-question-mark",Kt);const Qt=[["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}],["path",{d:"M17 14V2",key:"8ymqnk"}]],Xt=de("thumbs-down",Qt);const Jt=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],Zt=de("thumbs-up",Jt),Te={sm:14,md:16,lg:18},Y=8;function Ee(t,a,s){if(!t)return{top:0,left:0,placement:"bottom"};const r=window.innerWidth,n=window.innerHeight,o=window.scrollY,l=window.scrollX,c=[{name:"bottom",top:t.bottom+o+Y,left:t.left+l+t.width/2-a/2},{name:"top",top:t.top+o-s-Y,left:t.left+l+t.width/2-a/2},{name:"right",top:t.top+o+t.height/2-s/2,left:t.right+l+Y},{name:"left",top:t.top+o+t.height/2-s/2,left:t.left+l-a-Y}];for(const f of c){const m=f.top>=o&&f.top+s<=o+n,w=f.left>=l&&f.left+a<=l+r;if(m&&w)return{top:f.top,left:f.left,placement:f.name}}const u=c[0];return{top:Math.min(Math.max(u.top,o+Y),o+n-s-Y),left:Math.min(Math.max(u.left,l+Y),l+r-a-Y),placement:"bottom"}}const es={hidden:{opacity:0,scale:.95,y:-4},visible:{opacity:1,scale:1,y:0,transition:{type:"spring",stiffness:400,damping:25}},exit:{opacity:0,scale:.95,y:-4,transition:{duration:.15}}};function ce({term:t,explanation:a,learnMoreUrl:s,size:r="md",inline:n=!1,showIcon:o=!0,iconColor:l,className:c,delay:u=200,persistent:f=!1,"aria-label":m}){const w=i.useId(),d=i.useRef(null),p=i.useRef(null),k=i.useRef(null),[v,F]=i.useState(!1),[M,j]=i.useState({top:0,left:0,placement:"bottom"}),[I,W]=i.useState(!1),{getHelp:V,openTooltip:P,closeTooltip:T}=Je(),h=i.useMemo(()=>{const S=t?V(t):null;return{term:t||S?.term||"Help",explanation:a||S?.explanation||"",learnMoreUrl:s||S?.learnMoreUrl}},[t,a,s,V]),O=i.useCallback(()=>{k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{F(!0),P(w)},u)},[u,P,w]),R=i.useCallback(()=>{k.current&&clearTimeout(k.current),f||(F(!1),T())},[f,T]),q=i.useCallback(()=>{v?R():(k.current&&clearTimeout(k.current),F(!0),P(w))},[v,R,P,w]);if(i.useEffect(()=>{W("ontouchstart"in window||navigator.maxTouchPoints>0)},[]),i.useEffect(()=>{if(v&&d.current&&p.current){const S=d.current.getBoundingClientRect(),E=p.current.getBoundingClientRect(),H=Ee(S,E.width,E.height);j(H)}},[v]),i.useEffect(()=>{if(!v)return;const S=()=>{if(d.current&&p.current){const E=d.current.getBoundingClientRect(),H=p.current.getBoundingClientRect(),U=Ee(E,H.width,H.height);j(U)}};return window.addEventListener("resize",S),window.addEventListener("scroll",S,!0),()=>{window.removeEventListener("resize",S),window.removeEventListener("scroll",S,!0)}},[v]),i.useEffect(()=>{if(!v)return;const S=E=>{E.key==="Escape"&&R()};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[v,R]),i.useEffect(()=>{if(!v||!I)return;const S=E=>{d.current&&!d.current.contains(E.target)&&p.current&&!p.current.contains(E.target)&&R()};return document.addEventListener("mousedown",S),document.addEventListener("touchstart",S),()=>{document.removeEventListener("mousedown",S),document.removeEventListener("touchstart",S)}},[v,I,R]),i.useEffect(()=>()=>{k.current&&clearTimeout(k.current)},[]),!h.explanation)return null;const D=Te[r]||Te.md;return e.jsxs(e.Fragment,{children:[e.jsx("button",{ref:d,type:"button",className:A("inline-flex items-center justify-center","rounded-full transition-all duration-200","focus:outline-none focus-visible:ring-2 focus-visible:ring-[var(--brand-blue-500)] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--void-base)]",n?"align-baseline mx-0.5":"",v?"bg-[var(--brand-blue-500)]/20 text-[var(--brand-blue-400)]":"text-[var(--text-quaternary)] hover:text-[var(--text-secondary)] hover:bg-[var(--glass-white-10)]",c),style:{width:D+8,height:D+8,color:l},onClick:I?q:void 0,onMouseEnter:I?void 0:O,onMouseLeave:I?void 0:R,onFocus:O,onBlur:R,"aria-describedby":v?w:void 0,"aria-label":m||`Help for ${h.term}`,"aria-expanded":v,children:o&&e.jsxs("svg",{width:D,height:D,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[e.jsx("circle",{cx:"8",cy:"8",r:"7",stroke:"currentColor",strokeWidth:"1.5"}),e.jsx("path",{d:"M6 6.5C6 5.67157 6.67157 5 7.5 5H8.5C9.32843 5 10 5.67157 10 6.5C10 7.12951 9.61115 7.67066 9.05 7.88675V7.88675C8.44036 8.11987 8 8.69583 8 9.35V9.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e.jsx("circle",{cx:"8",cy:"11.5",r:"0.75",fill:"currentColor"})]})}),e.jsx(G,{children:v&&e.jsxs(b.div,{ref:p,id:w,role:"tooltip",variants:es,initial:"hidden",animate:"visible",exit:"exit",className:A("fixed z-[var(--z-tooltip)]","w-72 max-w-[calc(100vw-32px)]","p-3 rounded-lg","bg-[var(--glass-white-10)] backdrop-blur-xl","border border-[var(--border-medium)]","shadow-[var(--shadow-glass-lg)]"),style:{top:M.top,left:M.left},children:[e.jsx("div",{className:A("absolute w-2 h-2 rotate-45","bg-[var(--glass-white-10)] border-[var(--border-medium)]",M.placement==="bottom"&&"-top-1 border-l border-t",M.placement==="top"&&"-bottom-1 border-r border-b",M.placement==="left"&&"-right-1 border-r border-t",M.placement==="right"&&"-left-1 border-l border-b"),style:{left:M.placement==="bottom"||M.placement==="top"?"50%":void 0,top:M.placement==="left"||M.placement==="right"?"50%":void 0,transform:`translate(-50%, ${M.placement==="top"?"50%":M.placement==="bottom"?"-50%":"0"})`}}),e.jsxs("div",{className:"relative",children:[e.jsx("h4",{className:"text-sm font-semibold text-[var(--text-primary)] mb-1",children:h.term}),e.jsx("p",{className:"text-sm text-[var(--text-secondary)] leading-relaxed",children:h.explanation}),h.learnMoreUrl&&e.jsxs("a",{href:h.learnMoreUrl,className:A("inline-flex items-center gap-1 mt-2","text-xs font-medium text-[var(--brand-blue-400)]","hover:text-[var(--brand-blue-300)] transition-colors"),onClick:S=>S.stopPropagation(),children:["Learn more",e.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:e.jsx("path",{d:"M4.5 3L7.5 6L4.5 9",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})]})})]})}const L={TRACKING:"tracking",SOCIAL:"social",COMPETITIVE:"competitive",ECONOMY:"economy",SKILLS:"skills",CAREER:"career",COMMUNITY:"community",AI:"ai",SETTINGS:"settings"},Ne=[{id:"muscle-map",name:"Muscle Visualization",description:"See which muscles you've trained with our interactive body map",icon:"ðŸ’ª",route:"/stats",category:L.TRACKING,isNew:!1,isPopular:!0,priority:10,color:"#0066FF"},{id:"crew-battles",name:"Crew Battles",description:"Team up with friends and compete against other crews",icon:"âš”ï¸",route:"/crews",category:L.SOCIAL,isNew:!0,isPopular:!1,priority:9,color:"#8B5CF6"},{id:"rivalries",name:"Rivalries",description:"Challenge others to head-to-head battles and track your record",icon:"ðŸ¥Š",route:"/rivals",category:L.COMPETITIVE,isNew:!1,isPopular:!0,priority:8,color:"#EF4444"},{id:"competitions",name:"Competitions",description:"Join community-wide challenges and climb the leaderboards",icon:"ðŸ†",route:"/competitions",category:L.COMPETITIVE,isNew:!1,isPopular:!0,priority:8,color:"#F59E0B"},{id:"hangouts",name:"Virtual Hangouts",description:"Work out together with friends in real-time virtual sessions",icon:"ðŸŽ®",route:"/hangouts",category:L.SOCIAL,isNew:!0,isPopular:!1,priority:7,color:"#10B981"},{id:"achievements",name:"Achievements",description:"Unlock badges and trophies as you hit fitness milestones",icon:"ðŸ…",route:"/achievements",category:L.TRACKING,isNew:!1,isPopular:!0,priority:7,color:"#FBBF24"},{id:"skills",name:"Skill Tree",description:"Level up RPG-style abilities and unlock special powers",icon:"âš¡",route:"/skills",category:L.SKILLS,isNew:!1,isPopular:!1,priority:6,color:"#3B82F6"},{id:"journey",name:"Your Journey",description:"Follow your personalized fitness path with guided progression",icon:"ðŸ—ºï¸",route:"/journey",category:L.TRACKING,isNew:!1,isPopular:!1,priority:6,color:"#06B6D4"},{id:"ai-workouts",name:"AI Workouts",description:"Get personalized workout plans tailored to your goals",icon:"ðŸ¤–",route:"/prescriptions",category:L.AI,isNew:!0,isPopular:!0,priority:9,color:"#0066FF"},{id:"exercise-library",name:"Exercise Library",description:"Browse 500+ exercises with video demos and muscle targets",icon:"ðŸ“š",route:"/exercises",category:L.TRACKING,isNew:!1,isPopular:!1,priority:5,color:"#64748B"},{id:"credits",name:"Credit Wallet",description:"Earn credits from workouts and spend them on rewards",icon:"ðŸ’°",route:"/wallet",category:L.ECONOMY,isNew:!1,isPopular:!1,priority:5,color:"#22C55E"},{id:"store",name:"Reward Store",description:"Spend credits on avatar skins, themes, and exclusive items",icon:"ðŸ›ï¸",route:"/store",category:L.ECONOMY,isNew:!1,isPopular:!1,priority:4,color:"#EC4899"},{id:"high-fives",name:"High Fives",description:"Send encouragement to friends and celebrate their wins",icon:"ðŸ™Œ",route:"/high-fives",category:L.SOCIAL,isNew:!1,isPopular:!1,priority:4,color:"#F97316"},{id:"goals",name:"Goal Setting",description:"Set targets and get personalized recommendations to reach them",icon:"ðŸŽ¯",route:"/goals",category:L.TRACKING,isNew:!1,isPopular:!0,priority:8,color:"#06B6D4"},{id:"milestones",name:"Milestones",description:"Track major achievements and celebrate your progress",icon:"ðŸš€",route:"/achievements",category:L.TRACKING,isNew:!1,isPopular:!1,priority:5,color:"#8B5CF6"},{id:"leaderboard",name:"Leaderboard",description:"See where you rank among friends, locally, or globally",icon:"ðŸ“Š",route:"/leaderboard",category:L.COMPETITIVE,isNew:!1,isPopular:!0,priority:7,color:"#D97706"},{id:"community-feed",name:"Community Feed",description:"See what others are accomplishing and share your progress",icon:"ðŸ“±",route:"/community",category:L.COMMUNITY,isNew:!1,isPopular:!1,priority:5,color:"#8B5CF6"},{id:"messages",name:"Messages",description:"Chat with workout buddies and crew members",icon:"ðŸ’¬",route:"/messages",category:L.SOCIAL,isNew:!1,isPopular:!1,priority:4,color:"#0EA5E9"},{id:"career-readiness",name:"Career Readiness",description:"Prepare for military, police, or firefighter fitness tests",icon:"ðŸŽ–ï¸",route:"/career",category:L.CAREER,isNew:!1,isPopular:!1,priority:6,color:"#6366F1"},{id:"nutrition",name:"Nutrition Tracking",description:"Log meals, track macros, and fuel your gains properly",icon:"ðŸ¥—",route:"/nutrition",category:L.TRACKING,isNew:!0,isPopular:!1,priority:7,color:"#22C55E"},{id:"settings",name:"Settings",description:"Customize notifications, privacy, and app preferences",icon:"Settings",route:"/settings",category:L.SETTINGS,isNew:!1,isPopular:!1,priority:3,color:"#6B7280"},{id:"profile-customize",name:"Profile Customization",description:"Personalize your avatar, bio, and display preferences",icon:"UserCog",route:"/profile",category:L.SETTINGS,isNew:!1,isPopular:!1,priority:4,color:"#8B5CF6"},{id:"theme-settings",name:"Theme Settings",description:"Switch between dark and light modes, accent colors",icon:"Palette",route:"/settings/theme",category:L.SETTINGS,isNew:!1,isPopular:!1,priority:3,color:"#EC4899"},{id:"credit-transfer",name:"Credit Transfers",description:"Send credits to friends and crew members",icon:"Send",route:"/wallet/transfer",category:L.ECONOMY,isNew:!1,isPopular:!1,priority:4,color:"#10B981"}];function ts(t){return Ne.filter(a=>a.category===t)}function ss(t){return Array.isArray(t)?Ne.filter(a=>t.includes(a.category)):[]}function as(t){return[...t].sort((a,s)=>s.priority-a.priority)}const Fe="musclemap_discovered_features",ie="musclemap_dismissed_features";function Ue(t){try{const a=localStorage.getItem(t);if(!a)return[];const s=JSON.parse(a);return Array.isArray(s)?s:[]}catch{return[]}}function ve(t,a){try{localStorage.setItem(t,JSON.stringify(a))}catch{}}function rs(){const[t,a]=i.useState(()=>Ue(Fe)),s=i.useCallback(r=>{a(n=>{if(n.includes(r))return n;const o=[...n,r];return ve(Fe,o),o})},[]);return{discovered:t,markDiscovered:s}}function is(){const[t,a]=i.useState(()=>Ue(ie)),s=i.useCallback(o=>{a(l=>{if(l.includes(o))return l;const c=[...l,o];return ve(ie,c),c})},[]),r=i.useCallback(o=>{a(l=>{const c=l.filter(u=>u!==o);return ve(ie,c),c})},[]),n=i.useCallback(()=>{a([]);try{localStorage.removeItem(ie)}catch{}},[]);return{dismissed:t,dismissFeature:s,undismissFeature:r,clearDismissed:n}}function os({maxFeatures:t=3,maxVisible:a,layout:s="carousel",category:r,filter:n,showDismiss:o=!0,onFeatureClick:l,showProgress:c=!1,showHeader:u=!0,autoRotate:f=!0,rotationInterval:m=8e3,className:w}){const d=t??a??3,{discovered:p,markDiscovered:k}=rs(),{dismissed:v,dismissFeature:F}=is(),[M,j]=i.useState(0),[I,W]=i.useState(!1),V=i.useRef(null),P=i.useRef(null),T=i.useMemo(()=>{let g;return r?g=ts(r):Array.isArray(n)&&n.length>0?g=ss(n):g=Ne,Array.isArray(g)?g:[]},[r,n]),h=i.useMemo(()=>{const g=T.filter(y=>!p.includes(y.id)&&!v.includes(y.id));return as(g)},[T,p,v]),O=i.useMemo(()=>{const g=T.length,y=p.filter(xe=>T.some(Xe=>Xe.id===xe)).length,X=g>0?Math.round(y/g*100):0;return{discovered:y,total:g,percent:X}},[T,p]),R=i.useMemo(()=>{if(h.length===0)return[];if(s==="carousel")return h.slice(0,d*2);if(s==="stack")return[h[M%h.length]];if(s==="list")return h.slice(0,d);if(h.length<=d)return h;const g=[];for(let y=0;y<d;y++){const X=(M+y)%h.length;g.push(h[X])}return g},[h,M,d,s]);i.useEffect(()=>{if(!(s==="carousel"||s==="list"||!f||I||h.length<=d))return V.current=setInterval(()=>{j(g=>(g+1)%h.length)},m),()=>{V.current&&clearInterval(V.current)}},[f,I,h.length,d,m,s]);const q=i.useCallback(g=>{k(g.id),l&&l(g)},[k,l]),D=i.useCallback(g=>{F(g)},[F]),S=i.useCallback(()=>{j(g=>g===0?h.length-1:g-1)},[h.length]),E=i.useCallback(()=>{j(g=>(g+1)%h.length)},[h.length]),H=i.useCallback(()=>{P.current&&P.current.scrollBy({left:-300,behavior:"smooth"})},[]),U=i.useCallback(()=>{P.current&&P.current.scrollBy({left:300,behavior:"smooth"})},[]),z=i.useCallback(()=>W(!0),[]),N=i.useCallback(()=>W(!1),[]);if(h.length===0)return c&&O.total>0?e.jsxs("div",{className:A("text-center py-6",w),children:[e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-green-500/20 mb-3",children:e.jsx(Ut,{className:"w-6 h-6 text-green-400"})}),e.jsxs("p",{className:"text-sm text-gray-400",children:["You have explored all ",O.total," features!"]})]}):null;const C=s==="carousel"?h.length>d:s==="list"?!1:h.length>(s==="stack"?1:d),_=()=>u?e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b.div,{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500/20 to-purple-500/20",animate:{boxShadow:["0 0 10px rgba(59, 130, 246, 0.3)","0 0 20px rgba(139, 92, 246, 0.4)","0 0 10px rgba(59, 130, 246, 0.3)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:e.jsx(Ze,{className:"w-4 h-4 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-white",children:"Discover Features"}),e.jsx("p",{className:"text-xs text-gray-500",children:c?`${O.discovered} of ${O.total} discovered`:`${h.length} features to explore`})]})]}),C&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:s==="carousel"?H:S,className:"w-8 h-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center text-gray-400 hover:text-white transition-colors","aria-label":"Previous features",children:e.jsx(Ft,{className:"w-4 h-4"})}),e.jsx("button",{onClick:s==="carousel"?U:E,className:"w-8 h-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center text-gray-400 hover:text-white transition-colors","aria-label":"Next features",children:e.jsx(ee,{className:"w-4 h-4"})})]})]}):null,B=()=>c?e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"h-1.5 bg-white/10 rounded-full overflow-hidden",children:e.jsx(b.div,{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 rounded-full",initial:{width:0},animate:{width:`${O.percent}%`},transition:{duration:.5,ease:"easeOut"}})}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-right",children:[O.percent,"% complete"]})]}):null;return s==="carousel"?e.jsxs("div",{className:A("relative",w),onMouseEnter:z,onMouseLeave:N,children:[_(),e.jsx("div",{ref:P,className:"flex gap-4 overflow-x-auto pb-2 -mx-4 px-4 scrollbar-hide snap-x snap-mandatory",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:e.jsx(G,{mode:"popLayout",children:R.map((g,y)=>e.jsx("div",{className:"flex-shrink-0 w-72 snap-start",children:e.jsx(ae,{feature:g,variant:y===0?"highlighted":"default",onTry:q,onDismiss:o?D:void 0,showPulse:y===0,index:y})},g.id))})}),h.length>d&&e.jsxs("div",{className:"flex items-center justify-center gap-1.5 mt-3",children:[Array.from({length:Math.min(h.length,d*2)}).map((g,y)=>e.jsx("div",{className:A("w-1.5 h-1.5 rounded-full transition-all duration-200",y===0?"bg-blue-500":"bg-white/20")},y)),h.length>d*2&&e.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["+",h.length-d*2]})]}),B()]}):s==="stack"?e.jsxs("div",{className:A("relative",w),onMouseEnter:z,onMouseLeave:N,onFocus:z,onBlur:N,children:[_(),e.jsx("div",{className:"relative min-h-[200px]",children:e.jsx(G,{mode:"wait",children:R.map(g=>e.jsx(b.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},children:e.jsx(ae,{feature:g,variant:"default",onTry:q,onDismiss:o?D:void 0,showPulse:!0,index:0})},g.id))})}),h.length>1&&e.jsxs("div",{className:"flex items-center justify-center gap-1.5 mt-4",children:[h.slice(0,5).map((g,y)=>e.jsx("button",{onClick:()=>j(y),className:A("w-2 h-2 rounded-full transition-all duration-200",y===M%h.length?"bg-blue-500 w-6":"bg-white/20 hover:bg-white/40"),"aria-label":`Go to feature ${y+1}`},y)),h.length>5&&e.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["+",h.length-5]})]}),B()]}):s==="list"?e.jsxs("div",{className:A("relative",w),onMouseEnter:z,onMouseLeave:N,onFocus:z,onBlur:N,children:[_(),e.jsx("div",{className:"flex flex-col gap-3",children:e.jsx(G,{mode:"popLayout",children:R.map((g,y)=>e.jsx(b.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2,delay:y*.05},children:e.jsx(ae,{feature:g,variant:"compact",onTry:q,onDismiss:o?D:void 0,index:y})},g.id))})}),h.length>d&&e.jsxs("p",{className:"text-xs text-gray-500 text-center mt-3",children:["+",h.length-d," more to explore"]}),B()]}):e.jsxs("div",{className:A("relative",w),onMouseEnter:z,onMouseLeave:N,onFocus:z,onBlur:N,children:[_(),e.jsx("div",{className:A("grid gap-4",d===1?"grid-cols-1":d===2?"grid-cols-1 sm:grid-cols-2":"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"),children:e.jsx(G,{mode:"popLayout",children:R.slice(0,d).map((g,y)=>e.jsx(ae,{feature:g,variant:y===0?"highlighted":"default",onTry:q,onDismiss:o?D:void 0,showPulse:y===0,index:y},g.id))})}),C&&h.length>d&&e.jsx("div",{className:"flex items-center justify-center gap-1.5 mt-4",children:Array.from({length:Math.ceil(h.length/d)}).map((g,y)=>{const X=Math.floor(M/d)===y||M%d!==0&&Math.ceil(M/d)===y;return e.jsx("button",{onClick:()=>j(y*d),className:A("w-2 h-2 rounded-full transition-all duration-200",X?"bg-blue-500 w-6":"bg-white/20 hover:bg-white/40"),"aria-label":`Go to page ${y+1}`},y)})}),f&&C&&!I&&e.jsx("div",{className:"absolute top-0 right-0 -translate-y-full pb-2",children:e.jsx(b.div,{className:"h-0.5 bg-blue-500/50 rounded-full",initial:{width:0},animate:{width:"100%"},transition:{duration:m/1e3,ease:"linear",repeat:1/0},style:{width:60}})}),B()]})}function ns(){const[t,a]=i.useState(null),[s,r]=i.useState(!0),[n,o]=i.useState(!1);return i.useEffect(()=>{(async()=>{try{const u=(await Re("/tips?context=dashboard&limit=1"))?.data||[];a(u[0]||null)}catch{}finally{r(!1)}})()},[]),s?e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-lg",children:"ðŸ’¡"}),e.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Did you know?"})]}),e.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-700 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/2"})]})]}):!t||n?null:e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-lg",children:"ðŸ’¡"}),e.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Did you know?"})]}),e.jsx(mt,{tip:t,onDismiss:()=>o(!0)})]})}const ls={first_workout:"ðŸŽ‰",workouts_10:"ðŸ”¥",workouts_50:"âš¡",workouts_100:"ðŸ†",streak_7:"ðŸ“…",streak_30:"ðŸ—“ï¸",exercises_100:"ðŸ’¯",reps_1000:"ðŸŽ¯",reps_10000:"ðŸš€",hours_10:"â±ï¸"};function cs({milestone:t}){const a=!!t.completed_at,s=ls[t.id]||"ðŸ…";return e.jsx("div",{className:`bg-gray-800 rounded-lg p-3 ${a?"border border-yellow-500/30":""}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`text-2xl ${a?"":"grayscale opacity-50"}`,children:s}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:`font-medium text-sm ${a?"text-yellow-400":"text-gray-300"}`,children:t.name}),a&&e.jsx("svg",{className:"w-4 h-4 text-yellow-400 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),!a&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-1.5 bg-gray-700 rounded-full overflow-hidden mb-1",children:e.jsx("div",{className:"h-full bg-purple-500 rounded-full transition-all duration-500",style:{width:`${Math.min(100,t.progress)}%`}})}),e.jsxs("div",{className:"text-xs text-gray-500",children:[t.current_value," / ",t.threshold]})]}),a&&t.description&&e.jsx("p",{className:"text-xs text-gray-400 truncate",children:t.description})]})]})})}function ds({limit:t=6}){const[a,s]=i.useState([]),[r,n]=i.useState(!0);if(i.useEffect(()=>{(async()=>{try{const u=await Re("/milestones");s(u?.data||[])}catch{}finally{n(!1)}})()},[]),r)return e.jsx("div",{className:"space-y-2",children:[...Array(3)].map((c,u)=>e.jsx("div",{className:"bg-gray-800 rounded-lg p-3 animate-pulse",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-700 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/2 mb-2"}),e.jsx("div",{className:"h-1.5 bg-gray-700 rounded-full w-full"})]})]})},u))});if(a.length===0)return e.jsxs("div",{className:"text-center py-6 text-gray-400",children:[e.jsx("div",{className:"text-3xl mb-2",children:"ðŸ…"}),e.jsx("p",{className:"text-sm",children:"Complete workouts to earn milestones!"})]});const l=[...a].sort((c,u)=>c.completed_at&&!u.completed_at?1:!c.completed_at&&u.completed_at?-1:c.completed_at&&u.completed_at?new Date(u.completed_at)-new Date(c.completed_at):u.progress-c.progress).slice(0,t);return e.jsxs("div",{className:"space-y-2",children:[l.map(c=>e.jsx(cs,{milestone:c},c.id)),a.length>t&&e.jsx("div",{className:"text-center",children:e.jsxs("span",{className:"text-sm text-gray-500",children:["+",a.length-t," more milestones"]})})]})}const us={zap:De,"trending-up":Oe,award:xt,users:tt,bell:et};function ms(){const{activeTip:t,dismissTip:a}=Be();if(!t)return null;const s=ke[t.category]||ke.action,r=us[s?.icon]||De;return e.jsx(G,{mode:"wait",children:e.jsx(b.div,{className:"fixed bottom-4 left-1/2 -translate-x-1/2 z-50",initial:{y:100,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{type:"spring",stiffness:400,damping:30},children:e.jsxs("div",{className:A("backdrop-blur-xl bg-gradient-to-r",s?.color||"from-blue-500/20 to-cyan-500/20","rounded-2xl border border-white/10","shadow-2xl","max-w-sm w-full p-4","select-none"),style:{boxShadow:`0 8px 32px rgba(0, 0, 0, 0.3), 0 0 40px ${s?.glow||"rgba(0, 102, 255, 0.2)"}`},children:[e.jsx("button",{onClick:()=>a(!0),className:A("absolute top-2 right-2","w-8 h-8 flex items-center justify-center","rounded-full","text-white/50 hover:text-white hover:bg-white/10","transition-colors duration-200"),"aria-label":"Dismiss tip",children:e.jsx(ue,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex items-start gap-3 pr-8",children:[e.jsx("div",{className:A("flex-shrink-0","w-10 h-10 rounded-xl","bg-white/10 backdrop-blur-sm","flex items-center justify-center","border border-white/10"),children:e.jsx(r,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-white text-sm font-medium leading-relaxed",children:t.message}),t.action&&e.jsx("div",{className:"mt-3",children:t.action.to?e.jsxs($,{to:t.action.to,onClick:()=>a(!1),className:A("inline-flex items-center gap-1.5","px-4 py-2 rounded-xl","bg-white/10 hover:bg-white/20","border border-white/10","text-white text-sm font-medium","transition-all duration-200","hover:scale-[1.02] active:scale-[0.98]"),children:[t.action.label,e.jsx(ee,{className:"w-4 h-4"})]}):t.action.onClick?e.jsxs("button",{onClick:()=>{t.action.onClick(),a(!1)},className:A("inline-flex items-center gap-1.5","px-4 py-2 rounded-xl","bg-white/10 hover:bg-white/20","border border-white/10","text-white text-sm font-medium","transition-all duration-200","hover:scale-[1.02] active:scale-[0.98]"),children:[t.action.label,e.jsx(ee,{className:"w-4 h-4"})]}):null})]})]}),e.jsx("div",{className:"absolute inset-0 rounded-2xl pointer-events-none overflow-hidden","aria-hidden":"true",children:e.jsx(b.div,{className:"absolute -inset-[100%] opacity-30",style:{background:`radial-gradient(circle at 50% 50%, ${s?.glow||"rgba(0, 102, 255, 0.4)"}, transparent 70%)`},animate:{scale:[1,1.2,1],opacity:[.2,.3,.2]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}})})]})},t.instanceId)})}function xs({progress:t,size:a=80,strokeWidth:s=6,color:r="var(--brand-blue-500)"}){const n=(a-s)/2,o=n*2*Math.PI,l=o-t/100*o;return e.jsxs("svg",{width:a,height:a,className:"transform -rotate-90",children:[e.jsx("circle",{cx:a/2,cy:a/2,r:n,fill:"none",stroke:"var(--glass-white-10)",strokeWidth:s}),e.jsx("circle",{cx:a/2,cy:a/2,r:n,fill:"none",stroke:r,strokeWidth:s,strokeDasharray:o,strokeDashoffset:l,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0.5s ease"}})]})}function pe({label:t,current:a,goal:s,color:r,unit:n="g"}){const o=s>0?Math.min(100,a/s*100):0;return e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-xs text-gray-400 uppercase tracking-wide",children:t}),e.jsxs("span",{className:"text-xs text-gray-300",children:[Math.round(a),"/",s,n]})]}),e.jsx("div",{className:"h-2 bg-white/5 rounded-full overflow-hidden",children:e.jsx(b.div,{className:"h-full rounded-full",style:{backgroundColor:r},initial:{width:0},animate:{width:`${o}%`},transition:{duration:.5,ease:"easeOut"}})})]})}function hs(){return e.jsxs(J,{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-green-500/20 to-emerald-500/20",children:e.jsx(Ge,{className:"w-5 h-5 text-green-400"})}),e.jsx("h3",{className:"font-semibold text-white",children:"Nutrition Tracking"})]})}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Track your meals, macros, and nutrition goals to optimize your training results."}),e.jsx($,{to:"/nutrition/settings",children:e.jsxs(Q,{variant:"primary",className:"w-full",children:[e.jsx(je,{className:"w-4 h-4 mr-2"}),"Enable Nutrition Tracking"]})})]})}function ps(){const t=ht(),a=pt(),s=gt(),r=ft(k=>k.openQuickLog);if(!t)return e.jsx(hs,{});const n=s?.totalCalories||0,o=a?.calories||2e3,l=Math.min(100,n/o*100),c=Math.max(0,o-n),u=s?.totalProteinG||0,f=s?.totalCarbsG||0,m=s?.totalFatG||0,w=a?.proteinG||150,d=a?.carbsG||200,p=a?.fatG||70;return e.jsxs(J,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-green-500/20 to-emerald-500/20",children:e.jsx(Ge,{className:"w-5 h-5 text-green-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white",children:"Today's Nutrition"}),e.jsxs("p",{className:"text-xs text-gray-400",children:[Math.round(l),"% of daily goal"]})]})]}),e.jsx($,{to:"/nutrition",className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(ee,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(xs,{progress:l,size:100,strokeWidth:8,color:l>100?"var(--feedback-error)":"var(--brand-blue-500)"}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[e.jsx("span",{className:"text-2xl font-bold text-white",children:n}),e.jsxs("span",{className:"text-xs text-gray-400",children:["/ ",o]})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Remaining"}),e.jsx("div",{className:"text-3xl font-bold text-white",children:c}),e.jsx("div",{className:"text-sm text-gray-400",children:"calories"}),s?.wasWorkoutDay&&e.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-green-400",children:[e.jsx(Oe,{className:"w-3 h-3"}),"Workout day bonus applied"]})]})]}),e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsx(pe,{label:"Protein",current:u,goal:w,color:"#22c55e"}),e.jsx(pe,{label:"Carbs",current:f,goal:d,color:"#3b82f6"}),e.jsx(pe,{label:"Fat",current:m,goal:p,color:"#f59e0b"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Q,{variant:"primary",className:"flex-1",onClick:()=>r("lunch"),children:[e.jsx(je,{className:"w-4 h-4 mr-2"}),"Log Food"]}),e.jsx(Q,{variant:"ghost",className:"px-3",onClick:()=>r("water"),children:e.jsx(bt,{className:"w-4 h-4"})})]}),c>0&&e.jsx($,{to:"/nutrition/suggest",className:"block mt-3 p-3 rounded-lg bg-gradient-to-r from-green-500/10 to-emerald-500/10 border border-green-500/20 hover:border-green-500/40 transition-colors",children:e.jsxs("p",{className:"text-sm text-gray-300",children:[e.jsx("span",{className:"text-green-400",children:"ðŸ’¡"})," Suggest a meal that fits my macros"]})})]})}const Ke={bug_report:ze,feature_request:We,question:ye,general:st},Ye={bug_report:"from-red-500/20 to-orange-500/20",feature_request:"from-yellow-500/20 to-amber-500/20",question:"from-blue-500/20 to-cyan-500/20",general:"from-purple-500/20 to-pink-500/20"},Qe={bug_report:"text-red-400",feature_request:"text-yellow-400",question:"text-blue-400",general:"text-purple-400"};function gs({onSelect:t,onFaqClick:a}){const s=Object.keys(Le);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"How can we help?"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Choose what you'd like to share with us"})]}),e.jsx("div",{className:"grid gap-3",children:s.map(r=>{const n=Le[r],o=Ke[n];return e.jsxs(b.button,{onClick:()=>t(n),className:`w-full flex items-center gap-4 p-4 rounded-xl bg-gradient-to-r ${Ye[n]} hover:scale-[1.02] transition-transform text-left`,whileTap:{scale:.98},children:[e.jsx("div",{className:`p-3 rounded-xl bg-black/20 ${Qe[n]}`,children:e.jsx(o,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-white",children:He[n]}),e.jsx("p",{className:"text-sm text-gray-300",children:yt[n]})]}),e.jsx(ee,{className:"w-5 h-5 text-gray-400"})]},n)})}),e.jsxs("button",{onClick:a,className:"w-full flex items-center gap-3 p-4 rounded-xl bg-white/5 hover:bg-white/10 transition-colors mt-6",children:[e.jsx("div",{className:"p-2 rounded-lg bg-white/10",children:e.jsx(we,{className:"w-5 h-5 text-gray-400"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"font-medium text-white",children:"Browse FAQ"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Find answers to common questions"})]}),e.jsx(ee,{className:"w-5 h-5 text-gray-400"})]})]})}function fs({type:t,onBack:a,onSuccess:s}){const{formData:r,updateFormData:n,getDeviceInfo:o}=wt(),{toast:l,error:c}=at(),[u,f]=i.useState(!1),[m,w]=i.useState({}),d=i.useRef(null),p=Ke[t],k=t==="bug_report",v=t==="feature_request";i.useEffect(()=>{d.current&&d.current.focus()},[]);const F=i.useCallback(()=>{const j={};return r.title.trim()?r.title.length<5&&(j.title="Title must be at least 5 characters"):j.title="Title is required",r.description.trim()?r.description.length<10&&(j.description="Description must be at least 10 characters"):j.description="Description is required",w(j),Object.keys(j).length===0},[r]),M=i.useCallback(async()=>{if(F()){f(!0);try{const j=o(),I={type:t,title:r.title.trim(),description:r.description.trim(),priority:r.priority,stepsToReproduce:r.stepsToReproduce?.trim()||void 0,expectedBehavior:r.expectedBehavior?.trim()||void 0,actualBehavior:r.actualBehavior?.trim()||void 0,category:r.category?.trim()||void 0,...j},W=await K.feedback.create(I);l("Feedback submitted successfully!"),s(W.data?.id)}catch(j){c(j.message||"Failed to submit feedback. Please try again.")}finally{f(!1)}}},[r,t,F,o,l,c,s]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("button",{onClick:a,className:"p-2 rounded-full hover:bg-white/10 transition-colors",children:e.jsx(qe,{className:"w-5 h-5 text-gray-400"})}),e.jsx("div",{className:`p-2 rounded-xl bg-gradient-to-br ${Ye[t]}`,children:e.jsx(p,{className:`w-5 h-5 ${Qe[t]}`})}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:He[t]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-gray-400 mb-2",children:["Title ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{ref:d,type:"text",value:r.title,onChange:j=>n("title",j.target.value),placeholder:k?"What's the issue?":v?"What feature would you like?":"What's on your mind?",className:`w-full px-4 py-3 rounded-xl bg-white/5 border ${m.title?"border-red-500":"border-white/10"} text-white placeholder-gray-500 focus:outline-none focus:border-blue-500/50`,maxLength:200}),m.title&&e.jsx("p",{className:"text-sm text-red-400 mt-1",children:m.title})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-gray-400 mb-2",children:["Description ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("textarea",{value:r.description,onChange:j=>n("description",j.target.value),placeholder:k?"Describe what happened...":v?"Describe how this would work...":"Tell us more...",className:`w-full px-4 py-3 rounded-xl bg-white/5 border ${m.description?"border-red-500":"border-white/10"} text-white placeholder-gray-500 focus:outline-none focus:border-blue-500/50 resize-none`,rows:4,maxLength:5e3}),m.description&&e.jsx("p",{className:"text-sm text-red-400 mt-1",children:m.description}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-right",children:[r.description.length,"/5000"]})]}),k&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Priority"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Nt.map(j=>e.jsx("button",{onClick:()=>n("priority",j.value),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${r.priority===j.value?"bg-blue-500 text-white":"bg-white/5 text-gray-300 hover:bg-white/10"}`,children:j.label},j.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Steps to Reproduce (optional)"}),e.jsx("textarea",{value:r.stepsToReproduce,onChange:j=>n("stepsToReproduce",j.target.value),placeholder:`1. Go to...
2. Click on...
3. See error...`,className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white placeholder-gray-500 focus:outline-none focus:border-blue-500/50 resize-none",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Expected"}),e.jsx("textarea",{value:r.expectedBehavior,onChange:j=>n("expectedBehavior",j.target.value),placeholder:"What should happen",className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white placeholder-gray-500 focus:outline-none focus:border-blue-500/50 resize-none",rows:2})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Actual"}),e.jsx("textarea",{value:r.actualBehavior,onChange:j=>n("actualBehavior",j.target.value),placeholder:"What actually happens",className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white placeholder-gray-500 focus:outline-none focus:border-blue-500/50 resize-none",rows:2})]})]})]}),v&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Category (optional)"}),e.jsxs("select",{value:r.category,onChange:j=>n("category",j.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white focus:outline-none focus:border-blue-500/50 appearance-none",children:[e.jsx("option",{value:"",children:"Select a category"}),e.jsx("option",{value:"workouts",children:"Workouts & Training"}),e.jsx("option",{value:"nutrition",children:"Nutrition"}),e.jsx("option",{value:"social",children:"Social & Community"}),e.jsx("option",{value:"gamification",children:"Gamification & Achievements"}),e.jsx("option",{value:"analytics",children:"Analytics & Progress"}),e.jsx("option",{value:"ui",children:"User Interface"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsx("div",{className:"pt-4",children:e.jsx(Q,{variant:"primary",className:"w-full",onClick:M,loading:u,loadingText:"Submitting...",leftIcon:e.jsx(Ct,{className:"w-4 h-4"}),children:"Submit Feedback"})})]})}function bs({type:t,onClose:a,onNewFeedback:s}){const r={bug_report:"We'll investigate this issue and get back to you if we need more details.",feature_request:"Other users can upvote your suggestion. The most popular requests get prioritized!",question:"Check our FAQ for quick answers, or we'll respond to your question soon.",general:"We appreciate you taking the time to share your thoughts with us."};return e.jsxs("div",{className:"text-center py-6",children:[e.jsx(b.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",damping:15},className:"mx-auto w-20 h-20 rounded-full bg-gradient-to-br from-green-500/20 to-emerald-500/20 flex items-center justify-center mb-6",children:e.jsx(Mt,{className:"w-10 h-10 text-green-400"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Thank You!"}),e.jsx("p",{className:"text-gray-400 mb-6",children:r[t]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Q,{variant:"primary",className:"w-full",onClick:a,children:"Done"}),e.jsx(Q,{variant:"ghost",className:"w-full",onClick:s,children:"Submit Another"})]})]})}function vs({onBack:t}){const{entries:a,loading:s,expandedId:r,toggleExpanded:n}=kt(),[o,l]=i.useState(""),c=vt(o,300),u=te(d=>d.setFaqEntries),f=te(d=>d.setFaqCategories),m=te(d=>d.setFaqLoading);i.useEffect(()=>{(async()=>{m(!0);try{const p=await K.feedback.getFaq();u(p.data||{}),f(p.categories||[])}catch{}finally{m(!1)}})()},[u,f,m]),i.useEffect(()=>{c.length>=2?setSearchQuery(c):setSearchQuery("")},[c]);const w=async(d,p)=>{try{await K.feedback.markFaqHelpful(d,p)}catch{}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-white/10 transition-colors",children:e.jsx(qe,{className:"w-5 h-5 text-gray-400"})}),e.jsx("div",{className:"p-2 rounded-xl bg-white/10",children:e.jsx(we,{className:"w-5 h-5 text-blue-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Frequently Asked Questions"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(rt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",value:o,onChange:d=>l(d.target.value),placeholder:"Search FAQ...",className:"w-full pl-12 pr-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white placeholder-gray-500 focus:outline-none focus:border-blue-500/50"})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:s?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-2"}),e.jsx("p",{className:"text-gray-400",children:"Loading FAQ..."})]}):Object.keys(a).length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ye,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-400",children:"No FAQ entries found"})]}):Object.entries(a).map(([d,p])=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide px-2",children:p[0]?.categoryLabel||d.replace(/_/g," ")}),p.map(k=>e.jsxs("div",{className:"rounded-xl bg-white/5 overflow-hidden",children:[e.jsxs("button",{onClick:()=>n(k.id),className:"w-full flex items-center justify-between p-4 text-left hover:bg-white/5 transition-colors",children:[e.jsx("p",{className:"font-medium text-white pr-4",children:k.question}),e.jsx(St,{className:`w-5 h-5 text-gray-400 flex-shrink-0 transition-transform ${r===k.id?"rotate-180":""}`})]}),e.jsx(G,{children:r===k.id&&e.jsx(b.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:e.jsxs("div",{className:"px-4 pb-4",children:[e.jsx("p",{className:"text-gray-300 text-sm leading-relaxed mb-4",children:k.answer}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Was this helpful?"}),e.jsxs("button",{onClick:()=>w(k.id,!0),className:"flex items-center gap-1 text-gray-400 hover:text-green-400 transition-colors",children:[e.jsx(Zt,{className:"w-4 h-4"}),e.jsx("span",{children:"Yes"})]}),e.jsxs("button",{onClick:()=>w(k.id,!1),className:"flex items-center gap-1 text-gray-400 hover:text-red-400 transition-colors",children:[e.jsx(Xt,{className:"w-4 h-4"}),e.jsx("span",{children:"No"})]})]})]})})})]},k.id))]},d))})]})}function js(){const{isOpen:t,feedbackType:a,step:s,closeFeedbackModal:r,setFeedbackType:n,setStep:o}=Ve(),l=te(p=>p.setSubmissionSuccess),c=te(p=>p.resetFormData),u=i.useCallback(p=>{n(p)},[n]),f=i.useCallback(()=>{c(),o("select")},[c,o]),m=i.useCallback(p=>{l(p)},[l]),w=i.useCallback(()=>{c(),o("select")},[c,o]),d=i.useCallback(()=>{o("faq")},[o]);return e.jsx(G,{children:t&&e.jsxs(e.Fragment,{children:[e.jsx(b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:r,className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50"}),e.jsx(b.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-0 left-0 right-0 z-50 max-h-[90vh] overflow-hidden rounded-t-3xl",children:e.jsxs(J,{depth:"solid-elevated",className:"p-6 pb-safe max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-10 h-1 bg-white/20 rounded-full"})}),e.jsx("button",{onClick:r,className:"absolute top-6 right-6 p-2 rounded-full hover:bg-white/10 transition-colors",children:e.jsx(ue,{className:"w-5 h-5 text-gray-400"})}),e.jsxs(G,{mode:"wait",children:[s==="select"&&e.jsx(b.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:e.jsx(gs,{onSelect:u,onFaqClick:d})},"select"),s==="form"&&a&&e.jsx(b.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:e.jsx(fs,{type:a,onBack:f,onSuccess:m})},"form"),s==="success"&&a&&e.jsx(b.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},children:e.jsx(bs,{type:a,onClose:r,onNewFeedback:w})},"success"),s==="faq"&&e.jsx(b.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:e.jsx(vs,{onBack:f})},"faq")]})]})})]})})}const ys=()=>{const[t,a]=i.useState(!1);return i.useEffect(()=>{if(typeof window>"u")return;const s=window.matchMedia?.("(prefers-reduced-motion: reduce)");if(s){a(s.matches);const r=n=>a(n.matches);return s.addEventListener?.("change",r)||s.addListener?.(r),()=>{s.removeEventListener?.("change",r)||s.removeListener?.(r)}}},[]),t},ws=[{id:"bug_report",label:"Report Bug",icon:ze,color:"from-red-500 to-orange-500",iconColor:"text-red-400"},{id:"feature_request",label:"Suggest Feature",icon:We,color:"from-yellow-500 to-amber-500",iconColor:"text-yellow-400"},{id:"question",label:"Get Help",icon:ye,color:"from-blue-500 to-cyan-500",iconColor:"text-blue-400"},{id:"faq",label:"Browse FAQ",icon:we,color:"from-purple-500 to-pink-500",iconColor:"text-purple-400"}];function Ns(){const[t,a]=i.useState(!1),{openFeedbackModal:s,setStep:r}=Ve(),n=ys(),o=i.useCallback(()=>{a(m=>!m)},[]),l=i.useCallback(m=>{a(!1),m==="faq"?(s(),setTimeout(()=>r("faq"),0)):s(m)},[s,r]),c=i.useCallback(()=>{t&&a(!1)},[t]),u=n?{}:{initial:{opacity:0,y:20,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.8}},f=n?{}:{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20}};return e.jsxs(e.Fragment,{children:[e.jsx(G,{children:t&&e.jsx(b.div,{initial:n?void 0:{opacity:0},animate:n?void 0:{opacity:1},exit:n?void 0:{opacity:0},onClick:c,className:"fixed inset-0 z-[998]",style:{touchAction:"none"}})}),e.jsxs("div",{className:"fixed z-[999] flex flex-col-reverse items-end gap-3",style:{bottom:"max(24px, env(safe-area-inset-bottom, 24px))",right:"max(24px, env(safe-area-inset-right, 24px))"},children:[e.jsx(G,{children:t&&e.jsx(b.div,{...u,transition:n?void 0:{duration:.2},className:"flex flex-col gap-2 mb-2",children:ws.map((m,w)=>e.jsxs(b.button,{...f,transition:n?void 0:{delay:w*.05},onClick:()=>l(m.id),className:"flex items-center gap-3 pl-4 pr-5 py-3 rounded-full bg-gray-900 border border-white/10 shadow-xl hover:bg-gray-800 transition-colors",style:{minHeight:"48px",backgroundColor:"rgba(17, 24, 39, 0.98)"},children:[e.jsx("div",{className:`w-8 h-8 rounded-full bg-gradient-to-br ${m.color} flex items-center justify-center flex-shrink-0`,children:e.jsx(m.icon,{className:"w-4 h-4 text-white"})}),e.jsx("span",{className:"text-sm font-medium text-white whitespace-nowrap",children:m.label})]},m.id))})}),e.jsxs(b.button,{onClick:o,whileHover:n?void 0:{scale:1.05},whileTap:n?void 0:{scale:.95},className:`relative w-14 h-14 min-w-[56px] min-h-[56px] rounded-full shadow-xl flex items-center justify-center transition-all duration-300 ${t?"bg-gray-900 border-2 border-white/30":"bg-gradient-to-br from-blue-500 to-blue-600 border-2 border-blue-400/50"}`,style:{backgroundColor:t?"#111827":"#2563eb",boxShadow:t?"0 10px 25px rgba(0,0,0,0.5)":"0 10px 25px rgba(37, 99, 235, 0.5)"},"aria-label":t?"Close feedback menu":"Open feedback menu","aria-expanded":t,children:[!t&&!n&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"absolute inset-0 rounded-full animate-ping opacity-30",style:{backgroundColor:"#3b82f6"}}),e.jsx("span",{className:"absolute inset-0 rounded-full animate-pulse opacity-20",style:{backgroundColor:"#60a5fa"}})]}),e.jsx(G,{mode:"wait",children:t?e.jsx(b.div,{initial:n?void 0:{rotate:-90,opacity:0},animate:n?void 0:{rotate:0,opacity:1},exit:n?void 0:{rotate:90,opacity:0},transition:n?void 0:{duration:.2},children:e.jsx(ue,{className:"w-6 h-6 text-white"})},"close"):e.jsx(b.div,{initial:n?void 0:{rotate:90,opacity:0},animate:n?void 0:{rotate:0,opacity:1},exit:n?void 0:{rotate:-90,opacity:0},transition:n?void 0:{duration:.2},children:e.jsx(Yt,{className:"w-6 h-6 text-white"})},"open")})]})]})]})}const ge={default:"var(--brand-blue-400, #1a80ff)",increase:"var(--color-success, #22c55e)",decrease:"var(--color-error, #ef4444)"},Pe={linear:t=>t,easeOut:t=>1-Math.pow(1-t,3),easeIn:t=>t*t*t,easeInOut:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,easeOutExpo:t=>t===1?1:1-Math.pow(2,-10*t),easeOutBack:t=>1+2.70158*Math.pow(t-1,3)+1.70158*Math.pow(t-1,2),easeOutElastic:t=>{const a=2*Math.PI/3;return t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t*10-.75)*a)+1}};function ks(t,a=1){const s=Math.abs(t),r=t<0?"-":"";return s>=1e9?r+(s/1e9).toFixed(a).replace(/\.0+$/,"")+"B":s>=1e6?r+(s/1e6).toFixed(a).replace(/\.0+$/,"")+"M":s>=1e3?r+(s/1e3).toFixed(a).replace(/\.0+$/,"")+"K":r+s.toFixed(a===void 0?0:a).replace(/\.0+$/,"")}function Cs(t,a,s){switch(a){case"comma":{const n=(s!==void 0?t.toFixed(s):Math.round(t).toString()).split(".");return n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),n.join(".")}case"decimal":return s!==void 0?t.toFixed(s):t.toString();case"currency":{const n=t.toFixed(s!==void 0?s:2).split(".");return n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),n.join(".")}case"compact":return ks(t,s);case"percent":{const r=t*100;return(s!==void 0?r.toFixed(s):Math.round(r).toString())+"%"}case"none":default:return s!==void 0?t.toFixed(s):Math.round(t).toString()}}function Ms(){return typeof window>"u"?!1:window.matchMedia("(prefers-reduced-motion: reduce)").matches}function Ss(t){return t.split("").map((a,s)=>({char:a,key:`${s}-${a}`,isDigit:/\d/.test(a)}))}const Ls=i.memo(function({char:a,isDigit:s,glowColor:r}){return s?e.jsx("span",{className:"odometer-digit-wrapper",children:e.jsx(G,{mode:"popLayout",children:e.jsx(b.span,{className:"odometer-digit",initial:{y:"-100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"100%",opacity:0},transition:{type:"spring",stiffness:300,damping:30,mass:.8},style:{"--digit-glow":r},children:a},a)})}):e.jsx("span",{className:"odometer-char",children:a})});function se({value:t=0,duration:a=1e3,format:s="none",decimals:r,prefix:n="",suffix:o="",glowOnChange:l=!1,glowColor:c="var(--brand-blue-400, #1a80ff)",easing:u="easeOut",variant:f="default",className:m,countUp:w=!1,startFromZero:d=!1,ariaLabel:p,...k}){const v=w||d,[F,M]=i.useState(v?0:t),[j,I]=i.useState(!1),[W,V]=i.useState(null),P=i.useRef(v?0:t),T=i.useRef(null),h=i.useRef(null),O=i.useRef(v?0:t),R=i.useRef(v?0:t),q=i.useRef(!0);i.useEffect(()=>{R.current=F},[F]);const D=i.useMemo(()=>Ms(),[]),S=i.useMemo(()=>Pe[u]||Pe.easeOut,[u]),E=i.useCallback(B=>{h.current||(h.current=B);const g=B-h.current,y=Math.min(g/a,1),X=S(y),xe=O.current+(t-O.current)*X;M(xe),y<1?T.current=requestAnimationFrame(E):(M(t),T.current=null)},[t,a,S]);i.useEffect(()=>{const B=t!==P.current,g=t>P.current;if(B&&V(g?"increase":"decrease"),D){if(M(t),l&&B){I(!0);const y=setTimeout(()=>{I(!1),V(null)},600);return P.current=t,()=>clearTimeout(y)}P.current=t;return}return T.current&&cancelAnimationFrame(T.current),v&&q.current?(O.current=0,q.current=!1):O.current=R.current,h.current=null,l&&B&&(I(!0),setTimeout(()=>{I(!1),V(null)},600)),T.current=requestAnimationFrame(E),P.current=t,()=>{T.current&&cancelAnimationFrame(T.current)}},[t,E,l,v,D]);const H=i.useMemo(()=>Cs(F,s,r),[F,s,r]),U=i.useMemo(()=>f==="odometer"?Ss(H):null,[H,f]),z=i.useMemo(()=>c==="auto"?W==="increase"?ge.increase:W==="decrease"?ge.decrease:ge.default:c,[c,W]),N={initial:{textShadow:"0 0 0 transparent",scale:1},glowing:{textShadow:["0 0 0 transparent",`0 0 20px ${z}, 0 0 40px ${z}`,`0 0 10px ${z}`],scale:[1,1.05,1],transition:{duration:.6,ease:"easeOut"}}},C=p||`${n}${H}${o}`,_=e.jsxs(e.Fragment,{children:[n&&e.jsx("span",{className:"animated-number__prefix","aria-hidden":"true",children:n}),f==="odometer"?e.jsx("span",{className:"odometer-container","aria-hidden":"true",children:U.map(({char:B,key:g,isDigit:y})=>e.jsx(Ls,{char:B,isDigit:y,glowColor:z},g))}):e.jsx("span",{className:"animated-number__value","aria-hidden":"true",children:H}),o&&e.jsx("span",{className:"animated-number__suffix","aria-hidden":"true",children:o})]});return e.jsxs(e.Fragment,{children:[e.jsx(b.span,{className:A("animated-number",f==="odometer"&&"animated-number--odometer",j&&"animated-number--glowing",W==="increase"&&"animated-number--increased",W==="decrease"&&"animated-number--decreased",m),style:{"--glow-color":z},variants:N,initial:"initial",animate:j&&!D?"glowing":"initial","aria-label":C,"aria-live":"polite","aria-atomic":"true",role:"status",...k,children:_}),e.jsx("style",{children:`
        .animated-number {
          display: inline-flex;
          align-items: baseline;
          font-variant-numeric: tabular-nums;
          transition: text-shadow var(--duration-normal, 200ms) var(--ease-out, ease-out);
        }

        .animated-number__prefix,
        .animated-number__suffix {
          white-space: pre;
        }

        /* Odometer styles */
        .animated-number--odometer {
          overflow: hidden;
        }

        .odometer-container {
          display: inline-flex;
          align-items: baseline;
        }

        .odometer-digit-wrapper {
          display: inline-block;
          position: relative;
          height: 1.2em;
          overflow: hidden;
        }

        .odometer-digit {
          display: inline-block;
          position: relative;
        }

        .odometer-char {
          display: inline-block;
        }

        /* Glow states */
        .animated-number--glowing {
          text-shadow: 0 0 10px var(--glow-color);
          position: relative;
        }

        .animated-number--glowing.animated-number--increased::after,
        .animated-number--glowing.animated-number--decreased::after {
          content: '';
          position: absolute;
          inset: -4px;
          border-radius: var(--radius-sm, 6px);
          background: radial-gradient(circle, var(--glow-color) 0%, transparent 70%);
          opacity: 0;
          animation: glow-pulse 600ms var(--ease-out, ease-out) forwards;
          pointer-events: none;
        }

        /* Direction-specific glow colors when using auto */
        .animated-number--increased {
          --direction-color: var(--color-success, #22c55e);
        }

        .animated-number--decreased {
          --direction-color: var(--color-error, #ef4444);
        }

        @keyframes glow-pulse {
          0% {
            opacity: 0;
            transform: scale(0.8);
          }
          50% {
            opacity: 0.3;
            transform: scale(1.2);
          }
          100% {
            opacity: 0;
            transform: scale(1.5);
          }
        }

        /* Reduced motion */
        @media (prefers-reduced-motion: reduce) {
          .animated-number--glowing::after {
            animation: none;
          }

          .odometer-digit-wrapper .odometer-digit {
            transition: none;
          }
        }
      `})]})}function Ts({value:t,showGlow:a=!0,...s}){return e.jsx(se,{value:t,format:"comma",glowOnChange:a,glowColor:"var(--brand-blue-400, #1a80ff)",easing:"easeOutBack",...s})}function Es({value:t,...a}){return e.jsx(se,{value:t,format:"comma",suffix:" XP",glowOnChange:!0,glowColor:"var(--brand-pulse-400, #ff1a4c)",easing:"easeOutElastic",...a})}const Fs=({quests:t,title:a="Daily Quests",onQuestClick:s,className:r=""})=>{const n=t.filter(o=>o.completed).length;return e.jsxs("div",{className:`space-y-3 ${r}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-white",children:a}),e.jsxs("span",{className:"text-sm text-slate-400",children:[n,"/",t.length," done"]})]}),t.map((o,l)=>e.jsxs("button",{onClick:()=>s?.(o),disabled:!s,className:`w-full flex items-center gap-3 p-3 rounded-xl transition-all text-left ${o.completed?"bg-teal-500/10 border border-teal-500/30":"bg-slate-800/50 border border-slate-700/50 hover:border-slate-600"} ${s?"cursor-pointer":"cursor-default"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${o.completed?"bg-teal-500 text-white":"bg-slate-700 text-slate-400"}`,children:o.completed?"âœ“":l+1}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`font-medium ${o.completed?"line-through text-slate-400":"text-white"}`,children:o.name}),o.progress!==void 0&&o.goal!==void 0&&!o.completed&&e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("div",{className:"flex-1 h-1 bg-slate-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-teal-500 rounded-full transition-all",style:{width:`${o.progress/o.goal*100}%`}})}),e.jsxs("span",{className:"text-xs text-slate-500",children:[o.progress,"/",o.goal]})]})]}),e.jsxs("span",{className:`text-sm font-mono flex-shrink-0 ${o.completed?"text-teal-400":"text-purple-400"}`,children:["+",o.xp," XP"]})]},o.id))]})};function Ps({onClick:t,icon:a,actions:s=[],position:r="bottom-right",showBackdrop:n=!0,className:o="",ariaLabel:l="Actions"}){const{reducedMotion:c}=it(),[u,f]=i.useState(!1),m=s.length>0,w={"bottom-right":"right-4 bottom-4","bottom-center":"left-1/2 -translate-x-1/2 bottom-4","bottom-left":"left-4 bottom-4"},d=i.useCallback(()=>{le("light"),m?f(!u):t&&t()},[m,u,t]),p=i.useCallback(v=>{le("selection"),f(!1),v.onClick()},[]),k=i.useCallback(()=>{le("light"),f(!1)},[]);return e.jsxs(e.Fragment,{children:[e.jsx(G,{children:n&&u&&e.jsx(b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:c?0:.2},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40",onClick:k})}),e.jsxs("div",{className:`
          fixed z-50
          ${w[r]}
          ${o}
        `,style:{paddingBottom:"calc(env(safe-area-inset-bottom, 0px) + 60px)"},children:[e.jsx(G,{children:u&&m&&e.jsx(b.div,{className:"absolute bottom-16 right-0 flex flex-col-reverse gap-3 items-end mb-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:s.map((v,F)=>e.jsxs(b.div,{initial:{opacity:0,y:20,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.8},transition:{type:c?"tween":"spring",delay:c?0:F*.05,damping:25,stiffness:300},className:"flex items-center gap-3",children:[e.jsx(b.span,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},transition:{delay:c?0:F*.05+.1},className:"bg-gray-800 text-white text-sm font-medium px-3 py-1.5 rounded-lg shadow-lg whitespace-nowrap",children:v.label}),e.jsx(b.button,{onClick:()=>p(v),whileTap:{scale:.9},className:`
                      w-12 h-12 rounded-full flex items-center justify-center
                      shadow-lg shadow-black/25
                      ${v.color||"bg-gray-700"}
                      text-white
                      transition-colors
                      touch-action-manipulation
                    `,"aria-label":v.label,children:v.icon})]},v.id))})}),e.jsx(b.button,{onClick:d,whileTap:{scale:.9},animate:{rotate:u?45:0},transition:{type:c?"tween":"spring",damping:20,stiffness:300},className:`
            w-14 h-14 rounded-full flex items-center justify-center
            bg-gradient-to-br from-blue-500 to-purple-600
            shadow-lg shadow-blue-500/30
            text-white
            touch-action-manipulation
            -webkit-tap-highlight-color-transparent
          `,"aria-label":l,"aria-expanded":m?u:void 0,children:u&&m?e.jsx(ue,{className:"w-6 h-6"}):a||e.jsx(je,{className:"w-6 h-6"})})]})]})}const _s=i.lazy(()=>me(()=>import("./index-DaqTLGST.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])).then(t=>({default:t.DashboardAtlas}))),As=i.lazy(()=>me(()=>import("./index-DFk3NkVs.js"),__vite__mapDeps([10,11,2,3,12,7,8,9])).then(t=>({default:t.AdventureMapWidget}))),Is=i.lazy(()=>me(()=>import("./index-DFk3NkVs.js"),__vite__mapDeps([10,11,2,3,12,7,8,9])).then(t=>({default:t.AdventureMapFullscreen}))),Rs=i.lazy(()=>me(()=>import("./index-lRm7_35X.js"),__vite__mapDeps([13,2,14,3,7,8,9])).then(t=>({default:t.BodyMuscleMap}))),x={Home:({className:t="w-5 h-5"})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),Play:({className:t="w-5 h-5"})=>e.jsxs("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),Journey:({className:t="w-5 h-5"})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),Chart:({className:t="w-5 h-5"})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),User:({className:t="w-5 h-5"})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),Message:({className:t="w-5 h-5"})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),Wallet:({className:t="w-5 h-5"})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),Settings:({className:t="w-5 h-5"})=>e.jsxs("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),Map:({className:t="w-5 h-5"})=>e.jsxs("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),Community:({className:t="w-5 h-5"})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),Trophy:({className:t="w-5 h-5"})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),Customize:({className:t="w-5 h-5"})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})}),Feedback:({className:t="w-5 h-5"})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Fire:({className:t="w-5 h-5"})=>e.jsxs("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.879 16.121A3 3 0 1012.015 11L11 14H9c0 .768.293 1.536.879 2.121z"})]}),Heart:({className:t="w-5 h-5"})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),Dumbbell:({className:t="w-5 h-5"})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 12h4m10 0h4M7 12v4a1 1 0 001 1h1M7 12V8a1 1 0 011-1h1m7 5v4a1 1 0 01-1 1h-1m1-5V8a1 1 0 00-1-1h-1m-4 0h4m-4 10h4"})}),ChevronRight:({className:t="w-4 h-4"})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),Target:({className:t="w-5 h-5"})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),Library:({className:t="w-5 h-5"})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z"})}),Check:({className:t="w-5 h-5"})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),Goal:({className:t="w-5 h-5"})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),Shield:({className:t="w-5 h-5"})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),Clipboard:({className:t="w-5 h-5"})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),Crown:({className:t="w-5 h-5"})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5 16L3 5l5.5 5L12 4l3.5 6L21 5l-2 11H5zm0 0v2a2 2 0 002 2h10a2 2 0 002-2v-2"})})},_e={bodybuilder:{label:"Bodybuilder",gradient:"from-[var(--brand-pulse-500)] to-[var(--muscle-chest)]",icon:"muscle"},powerlifter:{label:"Powerlifter",gradient:"from-slate-500 to-zinc-700",icon:"weight"},gymnast:{label:"Gymnast",gradient:"from-violet-500 to-fuchsia-500",icon:"rings"},crossfit:{label:"CrossFit",gradient:"from-amber-500 to-orange-500",icon:"bolt"},sprinter:{label:"Sprinter",gradient:"from-sky-500 to-cyan-500",icon:"run"},martial_artist:{label:"Martial Artist",gradient:"from-red-600 to-rose-800",icon:"fist"},default:{label:"Explorer",gradient:"from-[var(--brand-blue-500)] to-[var(--brand-pulse-500)]",icon:"compass"}},Bs=t=>_e[t]||_e.default,oe=({label:t,value:a,sublabel:s,trend:r,icon:n,variant:o="default",helpTerm:l,animate:c=!1,to:u=null})=>{const f={default:"from-[var(--glass-white-5)] to-[var(--glass-white-10)]",brand:"from-[var(--brand-blue-500)]/10 to-[var(--brand-blue-500)]/5",pulse:"from-[var(--brand-pulse-500)]/10 to-[var(--brand-pulse-500)]/5",success:"from-[var(--feedback-success)]/10 to-[var(--feedback-success)]/5"},m=typeof a=="number"||typeof a=="string"&&!isNaN(parseFloat(a)),w=m?parseFloat(a):0,d=e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02,y:-2},whileTap:u?{scale:.98}:void 0,transition:{type:"spring",stiffness:400,damping:25},className:`
        relative overflow-hidden rounded-2xl p-5
        bg-gradient-to-br ${f[o]}
        backdrop-blur-xl border border-[var(--border-subtle)]
        hover:border-[var(--border-default)]
        transition-colors duration-300
        ${u?"cursor-pointer":""}
      `,children:[e.jsx("div",{className:"absolute -top-12 -right-12 w-24 h-24 bg-[var(--brand-blue-500)]/10 rounded-full blur-2xl"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{className:"p-2.5 bg-[var(--glass-white-10)] rounded-xl border border-[var(--border-subtle)]",children:n&&e.jsx(n,{className:"w-5 h-5 text-[var(--text-secondary)]"})}),r!==void 0&&e.jsxs("span",{className:`
              text-xs font-semibold px-2.5 py-1 rounded-full
              ${r>0?"bg-[var(--feedback-success)]/20 text-[var(--feedback-success)]":r<0?"bg-[var(--feedback-error)]/20 text-[var(--feedback-error)]":"bg-[var(--glass-white-10)] text-[var(--text-tertiary)]"}
            `,children:[r>0?"â†‘":r<0?"â†“":"â†’"," ",Math.abs(r),"%"]}),u&&e.jsx(b.div,{className:"opacity-40 group-hover:opacity-100 transition-opacity",children:e.jsx(x.ChevronRight,{className:"w-4 h-4 text-[var(--text-tertiary)]"})})]}),e.jsx("div",{className:"text-3xl font-bold text-[var(--text-primary)] tracking-tight",children:c&&m?e.jsx(se,{value:w,format:"comma",glowOnChange:!0,glowColor:"auto",countUp:!0}):a}),e.jsxs("div",{className:"text-sm text-[var(--text-secondary)] mt-1 flex items-center gap-1",children:[t,l&&e.jsx(ce,{term:l,size:"sm"})]}),s&&e.jsx("div",{className:"text-xs text-[var(--text-quaternary)] mt-0.5",children:s})]})]});return u?e.jsx($,{to:u,className:"group",children:d}):d},ne=({to:t,icon:a,label:s,description:r,gradient:n,delay:o=0})=>e.jsx($,{to:t,children:e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o,type:"spring",stiffness:300,damping:20},whileHover:{scale:1.03,y:-4},whileTap:{scale:.98},className:`
        relative overflow-hidden rounded-2xl p-6
        bg-gradient-to-br ${n}
        border border-white/10 cursor-pointer group
        shadow-lg shadow-black/20
      `,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm border border-white/10",children:e.jsx(a,{className:"w-6 h-6 text-white"})}),e.jsx(b.div,{className:"opacity-60 group-hover:opacity-100 group-hover:translate-x-1 transition-all",children:e.jsx(x.ChevronRight,{className:"w-5 h-5 text-white"})})]}),e.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:s}),e.jsx("p",{className:"text-sm text-white/70",children:r})]})]})}),Ae={strength:{name:"Strength",abbr:"STR",color:"#FF3366",description:"Raw lifting power"},constitution:{name:"Constitution",abbr:"CON",color:"#00CC66",description:"Recovery & resilience"},dexterity:{name:"Dexterity",abbr:"DEX",color:"#FFB800",description:"Movement skill"},power:{name:"Power",abbr:"PWR",color:"#FF6B00",description:"Explosive force"},endurance:{name:"Endurance",abbr:"END",color:"#0066FF",description:"Stamina"},vitality:{name:"Vitality",abbr:"VIT",color:"#9333EA",description:"Overall health"}},Z=["strength","constitution","dexterity","power","endurance","vitality"],Os=({characterStats:t,loading:a})=>{if(a)return e.jsx(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-2xl p-6 bg-gradient-to-br from-[var(--glass-white-5)] to-[var(--glass-white-10)] backdrop-blur-xl border border-[var(--border-subtle)]",children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-6 bg-[var(--glass-white-10)] rounded w-1/3"}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(o=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-[var(--glass-white-10)] rounded w-1/2"}),e.jsx("div",{className:"h-8 bg-[var(--glass-white-10)] rounded"})]},o))})]})});const s=t?.stats||{strength:0,constitution:0,dexterity:0,power:0,endurance:0,vitality:0},r=Z.reduce((o,l)=>o+(s[l]||0),0),n=Math.max(...Z.map(o=>s[o]||0),100);return e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"h-full rounded-2xl p-4 lg:p-5 bg-gradient-to-br from-[var(--glass-white-5)] to-[var(--glass-white-10)] backdrop-blur-xl border border-[var(--border-subtle)] hover:border-[var(--border-default)] transition-colors flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-[var(--brand-blue-500)]/20 to-purple-500/20 rounded-lg border border-[var(--border-subtle)]",children:e.jsx(x.Target,{className:"w-4 h-4 text-[var(--brand-blue-400)]"})}),e.jsx("div",{children:e.jsx("h3",{className:"font-bold text-sm text-[var(--text-primary)]",children:"Your Stats"})})]}),e.jsxs($,{to:"/stats",className:"text-xs text-[var(--brand-blue-400)] hover:text-[var(--brand-blue-300)] transition-colors flex items-center gap-0.5",children:["Details",e.jsx(x.ChevronRight,{className:"w-3 h-3"})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col gap-4",children:[e.jsx("div",{className:"hidden xl:flex flex-shrink-0 justify-center",children:e.jsxs("svg",{width:140,height:140,className:"mx-auto",children:[[.33,.66,1].map((o,l)=>{const c=[],m=2*Math.PI/6;for(let w=0;w<6;w++){const d=m*w-Math.PI/2,p=o*55;c.push(`${70+p*Math.cos(d)},${70+p*Math.sin(d)}`)}return e.jsx("polygon",{points:c.join(" "),fill:"none",stroke:"rgba(255,255,255,0.1)",strokeWidth:1},l)}),Z.map((o,l)=>{const m=2*Math.PI/6*l-Math.PI/2;return e.jsx("line",{x1:70,y1:70,x2:70+55*Math.cos(m),y2:70+55*Math.sin(m),stroke:"rgba(255,255,255,0.05)",strokeWidth:1},l)}),(()=>{const c=2*Math.PI/6,u=Z.map((f,m)=>{const w=c*m-Math.PI/2,p=(s[f]||0)/n*55;return`${70+p*Math.cos(w)},${70+p*Math.sin(w)}`});return e.jsx(b.polygon,{points:u.join(" "),fill:"rgba(59, 130, 246, 0.3)",stroke:"#3B82F6",strokeWidth:2,initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.5}})})(),Z.map((o,l)=>{const m=2*Math.PI/6*l-Math.PI/2,d=(s[o]||0)/n*55,p=70+d*Math.cos(m),k=70+d*Math.sin(m);return e.jsx(b.circle,{cx:p,cy:k,r:4,fill:Ae[o].color,initial:{scale:0},animate:{scale:1},transition:{delay:l*.05}},o)})]})}),e.jsx("div",{className:"flex-1 space-y-2",children:Z.map((o,l)=>{const c=s[o]||0,u=Ae[o];return e.jsx(At,{statKey:o,label:u.name,abbreviation:u.abbr,value:c,maxValue:n*1.2,color:u.color,description:u.description,delay:l*.06,showSegments:!0,segmentCount:10,size:"sm",variant:"default"},o)})})]}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-[var(--border-subtle)] flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-[var(--text-tertiary)]",children:"Power Level"}),e.jsx("span",{className:"text-lg font-bold bg-gradient-to-r from-[var(--brand-blue-400)] to-purple-400 bg-clip-text text-transparent",children:r.toFixed(0)})]})]})},Ds=({archetype:t,stats:a,wallet:s})=>{const r=Bs(t),n=a?.xp?Math.min(a.xp%1e3/10,100):15;return e.jsxs(b.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:300,damping:25},className:`
        relative overflow-hidden rounded-3xl p-8
        bg-gradient-to-br ${r.gradient}
        border border-white/10
        shadow-2xl shadow-black/30
      `,children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white rounded-full blur-3xl translate-x-1/2 -translate-y-1/2"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white rounded-full blur-3xl -translate-x-1/2 translate-y-1/2"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-white/20 backdrop-blur-sm rounded-full text-sm text-white/80 mb-3",children:[e.jsx("span",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),"Current Path"]}),e.jsx("h2",{className:"text-3xl md:text-4xl font-black text-white tracking-tight",children:r.label}),e.jsxs("div",{className:"flex items-center gap-6 mt-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-white",children:e.jsx(se,{value:a?.level||1,countUp:!0,glowOnChange:!0,glowColor:"auto"})}),e.jsxs("div",{className:"text-sm text-white/60 flex items-center gap-1",children:["Level ",e.jsx(ce,{term:"Level",size:"sm",iconColor:"rgba(255,255,255,0.6)"})]})]}),e.jsx("div",{className:"w-px h-12 bg-white/20"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-white",children:e.jsx(Es,{value:a?.xp||0})}),e.jsxs("div",{className:"text-sm text-white/60 flex items-center gap-1",children:["Total XP ",e.jsx(ce,{term:"XP",size:"sm",iconColor:"rgba(255,255,255,0.6)"})]})]}),e.jsx("div",{className:"w-px h-12 bg-white/20"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-white",children:e.jsx(se,{value:a?.streak||0,countUp:!0,glowOnChange:!0,glowColor:"auto"})}),e.jsx("div",{className:"text-sm text-white/60",children:"Day Streak"})]})]})]}),e.jsxs("div",{className:"flex flex-col items-start md:items-end gap-4",children:[e.jsxs($,{to:"/journey",className:"inline-flex items-center gap-2 px-6 py-3 bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-xl font-semibold text-white transition-all border border-white/10",children:["View Journey",e.jsx(x.ChevronRight,{className:"w-4 h-4"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/70",children:[e.jsx(Rt,{value:n,size:36,strokeWidth:3}),e.jsxs("span",{children:[Math.round(n),"% to Level ",(a?.level||1)+1]})]})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex justify-between text-sm text-white/60 mb-2",children:[e.jsx("span",{children:"Level Progress"}),e.jsxs("span",{children:[a?.xp?a.xp%1e3:0," / 1,000 XP"]})]}),e.jsx("div",{className:"h-2 bg-white/20 rounded-full overflow-hidden backdrop-blur-sm",children:e.jsx(b.div,{initial:{width:0},animate:{width:`${n}%`},transition:{duration:1,ease:"easeOut"},className:"h-full bg-white rounded-full"})})]})]})]})},fe=({icon:t,title:a,subtitle:s,time:r,trailing:n})=>e.jsxs(b.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center gap-4 p-4 rounded-xl bg-[var(--glass-white-5)] border border-[var(--border-subtle)] hover:bg-[var(--glass-white-10)] transition-colors cursor-pointer",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-xl bg-[var(--glass-white-10)] border border-[var(--border-subtle)] flex items-center justify-center text-[var(--text-secondary)]",children:e.jsx(t,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:a}),e.jsx("p",{className:"text-xs text-[var(--text-tertiary)]",children:s})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[n,e.jsx("span",{className:"text-xs text-[var(--text-quaternary)]",children:r})]})]}),Ws=({stats:t})=>{const a=[{muscle:"chest",percentage:35},{muscle:"shoulders",percentage:25},{muscle:"arms",percentage:25},{muscle:"core",percentage:15}];return e.jsxs(J,{className:"p-6",depth:"medium",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--text-primary)]",children:"Today's Focus"}),e.jsx("p",{className:"text-sm text-[var(--text-tertiary)]",children:"Push Day - Upper Body"})]}),e.jsx($,{to:"/workout",children:e.jsxs(Q,{variant:"primary",size:"sm",children:[e.jsx(x.Play,{className:"w-4 h-4 mr-2"}),"Start"]})})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-3 rounded-xl bg-[var(--glass-white-5)]",children:[e.jsx("div",{className:"text-2xl font-bold text-[var(--text-primary)]",children:"6"}),e.jsx("div",{className:"text-xs text-[var(--text-tertiary)]",children:"Exercises"})]}),e.jsxs("div",{className:"text-center p-3 rounded-xl bg-[var(--glass-white-5)]",children:[e.jsx("div",{className:"text-2xl font-bold text-[var(--text-primary)]",children:"45"}),e.jsx("div",{className:"text-xs text-[var(--text-tertiary)]",children:"Minutes"})]}),e.jsxs("div",{className:"text-center p-3 rounded-xl bg-[var(--glass-white-5)]",children:[e.jsx("div",{className:"text-2xl font-bold text-[var(--text-primary)]",children:"380"}),e.jsx("div",{className:"text-xs text-[var(--text-tertiary)]",children:"Calories"})]}),e.jsxs("div",{className:"text-center p-3 rounded-xl bg-[var(--glass-white-5)]",children:[e.jsx("div",{className:"text-2xl font-bold text-[var(--text-primary)]",children:"18"}),e.jsx("div",{className:"text-xs text-[var(--text-tertiary)]",children:"Sets"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-sm text-[var(--text-secondary)]",children:"Target Muscles"}),e.jsx("div",{className:"flex gap-2",children:["chest","shoulders","arms"].map(s=>e.jsx(Gt,{muscle:s,size:"sm"},s))})]}),e.jsx(Vt,{muscles:a,height:8})]})]})},zs=({muscleActivations:t})=>{const[a,s]=i.useState(null),r=$e(),n=(l,c,u)=>{s({muscleId:l,...c})},o=l=>{r(`/exercises?muscle=${l}`)};return e.jsxs(J,{className:"p-6",depth:"medium",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--text-primary)]",children:"Muscle Activation"}),e.jsx("p",{className:"text-sm text-[var(--text-tertiary)]",children:"Click muscles for details"})]}),e.jsxs($,{to:"/exercises",className:"text-sm text-[var(--brand-blue-400)] hover:text-[var(--brand-blue-300)] transition-colors flex items-center gap-1",children:["All exercises",e.jsx(x.ChevronRight,{className:"w-4 h-4"})]})]}),e.jsx("div",{className:"h-64",children:e.jsx(i.Suspense,{fallback:e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-[var(--glass-white-5)] rounded-xl",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-[var(--brand-blue-500)] border-t-transparent rounded-full animate-spin mx-auto mb-2"}),e.jsx("span",{className:"text-sm text-[var(--text-tertiary)]",children:"Loading body map..."})]})}),children:e.jsx(Rs,{muscleActivations:t,view:"front",size:"md",showLabels:!1,interactive:!0,onMuscleClick:n,className:"w-full h-full"})})}),a&&e.jsx(b.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 p-3 bg-[var(--glass-white-5)] rounded-xl border border-[var(--border-subtle)]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-[var(--text-primary)]",children:a.muscleId.replace(/-/g," ").replace(/\b\w/g,l=>l.toUpperCase())}),e.jsxs("p",{className:"text-xs text-[var(--text-tertiary)]",children:[a.activation||0,"% activated recently"]})]}),e.jsx(Q,{size:"sm",variant:"secondary",onClick:()=>o(a.muscleId),children:"View Exercises"})]})})]})},$s=({stats:t})=>{const a=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],s=new Date().getDay(),r=s===0?6:s-1,n=[!0,!0,!1,!0,!0,!1,!1];return e.jsxs(J,{className:"p-6",depth:"subtle",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--text-primary)]",children:"This Week"}),e.jsxs("p",{className:"text-sm text-[var(--text-tertiary)]",children:[t?.workouts||4," workouts completed"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl font-bold text-[var(--brand-blue-400)]",children:t?.streak||0}),e.jsx("span",{className:"text-sm text-[var(--text-tertiary)]",children:"day streak"})]})]}),e.jsx("div",{className:"flex justify-between gap-2",children:a.map((o,l)=>e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("div",{className:`
                aspect-square rounded-xl flex items-center justify-center mb-2
                ${l===r?"bg-[var(--brand-blue-500)] text-white":n[l]?"bg-[var(--feedback-success)]/20 text-[var(--feedback-success)]":"bg-[var(--glass-white-5)] text-[var(--text-quaternary)]"}
                ${l<=r?"":"opacity-50"}
              `,children:n[l]&&l<r?e.jsx(x.Check,{className:"w-4 h-4"}):l===r?e.jsx(x.Fire,{className:"w-4 h-4"}):null}),e.jsx("span",{className:`text-xs ${l===r?"text-[var(--brand-blue-400)] font-semibold":"text-[var(--text-quaternary)]"}`,children:o})]},o))})]})},Gs=[{title:"Training",items:[{to:"/dashboard",icon:x.Home,label:"Overview",active:!0},{to:"/workout",icon:x.Play,label:"Train"},{to:"/templates",icon:x.Clipboard,label:"Templates",badge:"New"},{to:"/journey",icon:x.Journey,label:"Journey"},{to:"/exercises",icon:x.Library,label:"Exercises"},{to:"/progression",icon:x.Chart,label:"Progress"},{to:"/body-measurements",icon:x.Target,label:"Body Stats",badge:"New"},{to:"/stats",icon:x.Target,label:"Stats"},{to:"/wellness",icon:x.Heart,label:"Wellness"},{to:"/goals",icon:x.Goal,label:"Goals"},{to:"/limitations",icon:x.Shield,label:"Limitations"},{to:"/pt-tests",icon:x.Clipboard,label:"PT Tests"}]},{title:"Social",items:[{to:"/messages",icon:x.Message,label:"Messages"},{to:"/community",icon:x.Community,label:"Community"},{to:"/crews",icon:x.Community,label:"Crews"},{to:"/rivals",icon:x.Trophy,label:"Rivals"},{to:"/competitions",icon:x.Trophy,label:"Competitions"},{to:"/locations",icon:x.Map,label:"Locations"}]},{title:"Account",items:[{to:"/wallet",icon:x.Wallet,label:"Wallet"},{to:"/skins",icon:x.Customize,label:"Customize"},{to:"/settings",icon:x.Settings,label:"Settings"},{to:"/profile",icon:x.User,label:"Profile"},{to:"/issues",icon:x.Feedback,label:"Feedback"}]}],Vs=[{to:"/dashboard",icon:x.Home,label:"Home",active:!0},{to:"/workout",icon:x.Play,label:"Train"},{to:"/journey",icon:x.Journey,label:"Journey"},{to:"/community",icon:x.Community,label:"Social"},{to:"/profile",icon:x.User,label:"Profile"}],be="musclemap_onboarding_tour_complete",Ie="musclemap_last_workout_date";function Pa(){const{user:t,logout:a}=ot(),s=$e(),[r,n]=i.useState(null),[o,l]=i.useState(null),[c,u]=i.useState(null),[f,m]=i.useState([]),[w,d]=i.useState(!0),[p,k]=i.useState(!0),[v,F]=i.useState(0),[M,j]=i.useState(!1),[I,W]=i.useState(!1),{hasCompletedTour:V}=nt();i.useEffect(()=>{const N=!!t?.onboardingCompletedAt,C=localStorage.getItem(be)==="true",_=V("onboarding");if(N&&!C&&localStorage.setItem(be,"true"),!N&&!C&&!_&&t){const B=setTimeout(()=>{W(!0)},1500);return()=>clearTimeout(B)}},[t,V]);const P=i.useCallback(async()=>{localStorage.setItem(be,"true"),W(!1);try{await K.post("/onboarding/complete",{}),re.info("Tour completion synced to server")}catch(N){re.warn("Failed to sync tour completion to server",{error:N})}},[]),T=t&&(!t.avatar_url||!t.bio),[h,O]=i.useState(T),[R,q]=i.useState(!1);i.useEffect(()=>{const N=localStorage.getItem(Ie);if(N){const C=(Date.now()-parseInt(N,10))/864e5;q(C>=3)}else if(r?.lastWorkoutDate){const C=(Date.now()-new Date(r.lastWorkoutDate).getTime())/864e5;q(C>=3)}},[r]),Ce("profile_incomplete",T,{delay:3e3}),Ce("no_workout_3_days",R,{delay:5e3});const{register:D,clear:S}=lt(),{showTip:E}=Be();i.useEffect(()=>(D({onComplete:N=>{localStorage.setItem(Ie,Date.now().toString()),E("workout_complete",{data:N})},onPR:N=>{E("new_achievement",{data:{type:"pr",...N}})},onLevelUp:N=>{E("level_up",{data:N})}}),()=>S()),[D,S,E]),i.useEffect(()=>{h&&!T&&t&&E("profile_completed",{data:{title:"ðŸŽ‰ Profile Complete!",message:"Welcome to MuscleMap! You're all set to start your fitness journey."}}),O(T)},[T,h,t,E]);const H=i.useCallback(N=>{N.route&&s(N.route)},[s]),{load:U}=Lt();i.useEffect(()=>{U().catch(()=>{})},[U]),i.useEffect(()=>{Promise.all([K.progress.stats().catch(()=>null),K.wallet.balance().catch(()=>null)]).then(([C,_])=>{n(C?.data||null),l(_),d(!1)});const N=localStorage.getItem("musclemap_token");N&&fetch("/api/messaging/unread-count",{headers:{Authorization:`Bearer ${N}`}}).then(C=>C.json()).then(C=>{C?.data?.unreadCount!==void 0&&F(C.data.unreadCount)}).catch(()=>{}),K.characterStats.me().then(C=>{u(C?.data),k(!1)}).catch(()=>{k(!1)}),fetch("/api/muscles/activations").then(C=>C.json()).then(C=>{C.data&&Array.isArray(C.data)&&m(C.data)}).catch(()=>{m([{muscleId:"pectoralis-major",activation:65},{muscleId:"deltoid-anterior",activation:45},{muscleId:"biceps-brachii",activation:30},{muscleId:"rectus-abdominis",activation:20},{muscleId:"quadriceps",activation:50}])})},[]);const z=i.useCallback(async()=>{j(!0),le("medium"),await Promise.all([K.progress.stats().catch(()=>null),K.wallet.balance().catch(()=>null),K.characterStats.me().catch(()=>null),U().catch(()=>null)]).then(([N,C,_])=>{n(N?.data||null),l(C),u(_?.data||null)}),j(!1)},[U]);return e.jsxs(It,{onRefresh:z,isRefreshing:M,refreshText:"Refreshing dashboard...",pullText:"Pull to refresh",releaseText:"Release to refresh",className:"min-h-screen relative",children:[e.jsx($t,{intensity:"subtle"}),e.jsx(Bt,{brandSlot:e.jsxs($,{to:"/dashboard",className:"flex items-center gap-3",children:[e.jsx(Tt,{size:"sm"}),e.jsx("span",{className:"font-bold text-lg text-[var(--text-primary)] hidden sm:block",children:"MuscleMap"})]}),rightContent:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs($,{to:"/messages",className:"relative",children:[e.jsx(Se,{size:"sm",children:e.jsx(x.Message,{className:"w-5 h-5"})}),v>0&&e.jsx("span",{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] px-1 bg-[var(--brand-pulse-500)] rounded-full border-2 border-[var(--void-base)] text-[10px] font-bold text-white flex items-center justify-center",children:v>99?"99+":v})]}),e.jsxs($,{to:"/wallet",className:"flex items-center gap-2 px-4 py-2 bg-[var(--glass-white-5)] hover:bg-[var(--glass-white-10)] rounded-xl border border-[var(--border-subtle)] transition-all",children:[e.jsx(x.Wallet,{className:"w-4 h-4 text-[var(--brand-blue-400)]"}),e.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:e.jsx(Ts,{value:o?.wallet?.balance||t?.credits||0})}),e.jsx(ce,{term:"Credits",size:"sm"})]}),e.jsx(Se,{size:"sm",onClick:a,children:e.jsx(x.Settings,{className:"w-5 h-5"})})]})}),e.jsxs("div",{className:"flex pt-16",children:[e.jsx(Ot,{className:"hidden lg:flex",children:Gs.map((N,C)=>e.jsx(Dt,{title:N.title,children:N.items.map((_,B)=>e.jsx(Wt,{to:_.to,icon:_.icon,label:_.label,active:_.active,badge:_.to==="/messages"&&v>0?v:_.badge},B))},C))}),e.jsx("main",{className:"flex-1 lg:ml-64 p-4 lg:p-8 pb-24 lg:pb-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs(b.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[e.jsxs("h1",{className:"text-3xl lg:text-4xl font-black text-[var(--text-primary)] tracking-tight mb-2",children:["Welcome back, ",t?.username||"Athlete"]}),e.jsx("p",{className:"text-[var(--text-secondary)]",children:"Continue your training journey. You're doing great!"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"lg:col-span-2","data-tour":"welcome",children:e.jsx(Ds,{archetype:t?.archetype,stats:r,wallet:o})}),e.jsx("div",{className:"lg:col-span-1","data-tour":"stats-card",children:e.jsx(Os,{characterStats:c,loading:p})})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[e.jsx(oe,{icon:x.Fire,label:"Day Streak",value:r?.streak||0,trend:12,variant:"pulse",animate:!0}),e.jsx(oe,{icon:x.Dumbbell,label:"Workouts",value:r?.workouts||0,sublabel:"This month",variant:"brand",animate:!0}),e.jsx(oe,{icon:x.Trophy,label:"Achievements",value:12,sublabel:"3 new",animate:!0,to:"/achievements"}),e.jsx(oe,{icon:x.Target,label:"VIP Status",value:o?.ranking?.vip_tier||"Bronze",variant:"success"})]}),e.jsx(Me,{name:"dashboard.stats",context:{user:t,stats:r,wallet:o},className:"mb-8",layout:"grid",gap:4}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-[var(--text-primary)] mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{"data-tour":"start-workout",children:e.jsx(ne,{to:"/workout",icon:x.Play,label:"Start Workout",description:"Begin your training session",gradient:"from-emerald-500 to-teal-600",delay:0})}),e.jsx(ne,{to:"/journey",icon:x.Journey,label:"Journey Map",description:"Track your progression path",gradient:"from-[var(--brand-blue-500)] to-violet-600",delay:.1}),e.jsx(ne,{to:"/exercises",icon:x.Library,label:"Exercise Library",description:"Browse all exercises",gradient:"from-[var(--brand-pulse-500)] to-rose-600",delay:.2}),t?.is_admin&&e.jsx(ne,{to:"/empire",icon:x.Crown,label:"Empire Control",description:"Admin dashboard & controls",gradient:"from-amber-500 to-orange-600",delay:.3})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsx(_t,{currentXP:r?.xp||0,xpForNextLevel:1e3,level:r?.level||1,levelTitle:r?.levelName||"Beginner"}),e.jsx(Fs,{quests:[{id:"1",title:"Complete a workout",xpReward:50,completed:!1,progress:0,total:1,icon:"ðŸ‹ï¸"},{id:"2",title:"Log 5,000 lbs volume",xpReward:75,completed:!1,progress:2500,total:5e3,icon:"ðŸ’ª"},{id:"3",title:"Hit a personal record",xpReward:100,completed:!1,progress:0,total:1,icon:"ðŸ†"}],onClaimReward:()=>{},resetTime:"6h 30m"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[e.jsx(he,{type:"positive",title:"Strength Gains!",message:"Your bench press improved 12% this month",icon:"ðŸ’ª",action:{label:"View Progress",onClick:()=>s("/progression")}}),e.jsx(he,{type:"info",title:"New Exercises",message:"5 new exercises match your goals",icon:"ðŸŽ¯",action:{label:"Explore",onClick:()=>s("/exercises")}}),e.jsx(he,{type:r?.streak>=3?"positive":"warning",title:r?.streak>=3?"Great Streak!":"Keep Going!",message:r?.streak>=3?`${r.streak} day streak - you're on fire!`:"Get back on track with a workout today",icon:r?.streak>=3?"ðŸ”¥":"âš¡"})]}),e.jsx("div",{className:"mb-8","data-tour":"daily-challenges",children:e.jsx(Pt,{userId:t?.id,onChallengeComplete:N=>{re.info("challenge_completed",{challengeId:N.id})},onRewardClaimed:(N,C)=>{re.info("challenge_reward_claimed",{challengeId:N.id,rewards:C})}})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsx(Ws,{stats:r}),e.jsx($s,{stats:r})]}),e.jsx("div",{className:"mb-8",children:e.jsx(ps,{})}),e.jsx("div",{className:"mb-8","data-tour":"muscle-map",children:e.jsx(zs,{muscleActivations:f})}),e.jsx("div",{className:"mb-8",children:e.jsx(ns,{})}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-[var(--text-primary)]",children:"Milestones"}),e.jsx($,{to:"/journey",className:"text-sm text-[var(--brand-blue-400)] hover:text-[var(--brand-blue-300)] transition-colors",children:"View all"})]}),e.jsx(J,{className:"p-6",depth:"subtle",children:e.jsx(ds,{limit:4})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-[var(--text-primary)]",children:"Adventure Map"}),e.jsx("p",{className:"text-sm text-[var(--text-tertiary)]",children:"Explore MuscleMap like an RPG - move your character to navigate"})]}),e.jsxs($,{to:"/adventure-map",className:"text-sm text-[var(--brand-blue-400)] hover:text-[var(--brand-blue-300)] transition-colors flex items-center gap-1",children:["Full Map",e.jsx(x.ChevronRight,{className:"w-4 h-4"})]})]}),e.jsxs(i.Suspense,{fallback:e.jsx("div",{className:"h-[250px] md:h-[280px] bg-white/5 rounded-2xl animate-pulse"}),children:[e.jsx(As,{className:"w-full",variant:"default",onExpand:()=>{}}),e.jsx(Is,{})]})]}),e.jsx("div",{className:"mb-8",children:e.jsx(_s,{})}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-[var(--text-primary)] mb-4",children:"Recent Activity"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(fe,{icon:x.Dumbbell,title:"Completed Chest Workout",subtitle:"6 exercises, 45 minutes",time:"2h ago",trailing:e.jsx("span",{className:"text-xs text-[var(--feedback-success)]",children:"+120 XP"})}),e.jsx(fe,{icon:x.Trophy,title:"Achievement Unlocked",subtitle:"First Week Warrior",time:"1d ago",trailing:e.jsx("span",{className:"text-xs text-[var(--brand-blue-400)]",children:"+50 XP"})}),e.jsx(fe,{icon:x.Heart,title:"Received High Five",subtitle:"From @FitnessPro",time:"2d ago"})]})]}),e.jsx("div",{className:"mb-8",children:e.jsx(os,{maxVisible:3,layout:"carousel",filter:["social","tracking","economy","competitive"],onFeatureClick:H,showProgress:!0})}),e.jsx(Me,{name:"dashboard.main",context:{user:t,stats:r,wallet:o,characterStats:c},className:"mb-8",layout:"vertical",gap:6})]})})]}),e.jsx(Ps,{position:"bottom-right",ariaLabel:"Start workout",actions:[{id:"start-workout",icon:e.jsx(ct,{className:"w-5 h-5"}),label:"Start Workout",onClick:()=>s("/workout"),color:"bg-green-500"},{id:"exercises",icon:e.jsx(dt,{className:"w-5 h-5"}),label:"Exercises",onClick:()=>s("/exercises"),color:"bg-blue-500"},{id:"templates",icon:e.jsx(Ht,{className:"w-5 h-5"}),label:"Templates",onClick:()=>s("/templates"),color:"bg-purple-500"},{id:"schedule",icon:e.jsx(ut,{className:"w-5 h-5"}),label:"Schedule",onClick:()=>s("/schedule"),color:"bg-orange-500"}]}),e.jsx(zt,{items:Vs}),e.jsx(jt,{}),e.jsx(Ns,{}),e.jsx(js,{}),e.jsx(Et,{preset:"onboarding",isOpen:I,onComplete:P,onSkip:P,showProgress:!0,showSkip:!0}),e.jsx(ms,{})]})}export{Pa as default};
