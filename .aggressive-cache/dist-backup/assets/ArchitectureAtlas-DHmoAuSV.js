import{r as p,j as e}from"./react-vendor-D847gc3Q.js";import{A as h,m as b}from"./index-2zunZQ15.js";const s=[{id:"frontend",title:"Frontend Architecture",description:"React web app and Expo mobile app",nodes:[{id:"web",label:"Web App",description:"React + Vite",type:"client",icon:"ðŸŒ",color:"#3b82f6"},{id:"mobile",label:"Mobile App",description:"React Native + Expo",type:"client",icon:"ðŸ“±",color:"#22c55e"},{id:"state",label:"Zustand Store",description:"Global state management",type:"service",icon:"ðŸ—„ï¸",color:"#8b5cf6"},{id:"apollo",label:"Apollo Client",description:"GraphQL client",type:"service",icon:"ðŸš€",color:"#e535ab"},{id:"api",label:"API Client",description:"@musclemap/client SDK",type:"service",icon:"ðŸ“¦",color:"#f59e0b"}],connections:[{from:"web",to:"state",label:"State",type:"data"},{from:"mobile",to:"state",label:"State",type:"data"},{from:"web",to:"apollo",label:"GraphQL",type:"data"},{from:"mobile",to:"api",label:"REST",type:"data"}]},{id:"backend",title:"Backend Architecture",description:"Fastify API server with modules",nodes:[{id:"fastify",label:"Fastify Server",description:"HTTP/GraphQL server",type:"server",icon:"âš¡",color:"#3b82f6"},{id:"graphql",label:"GraphQL API",description:"Apollo Server",type:"service",icon:"ðŸ”·",color:"#e535ab"},{id:"rest",label:"REST API",description:"47+ route modules",type:"service",icon:"ðŸ”Œ",color:"#22c55e"},{id:"auth",label:"Auth Module",description:"JWT authentication",type:"service",icon:"ðŸ”",color:"#f59e0b"},{id:"modules",label:"Feature Modules",description:"Skills, Credits, etc.",type:"service",icon:"ðŸ“¦",color:"#8b5cf6"}],connections:[{from:"fastify",to:"graphql",type:"data"},{from:"fastify",to:"rest",type:"data"},{from:"rest",to:"auth",label:"Auth",type:"auth"},{from:"rest",to:"modules",type:"data"}]},{id:"data",title:"Data Architecture",description:"PostgreSQL database and caching",nodes:[{id:"postgres",label:"PostgreSQL",description:"Primary database",type:"database",icon:"ðŸ˜",color:"#336791"},{id:"redis",label:"Redis",description:"Cache & sessions",type:"database",icon:"ðŸ”´",color:"#dc382d"},{id:"migrations",label:"Migrations",description:"44+ schema migrations",type:"service",icon:"ðŸ“‹",color:"#f59e0b"},{id:"schema",label:"Schema",description:"TypeScript types",type:"service",icon:"ðŸ“",color:"#3178c6"}],connections:[{from:"migrations",to:"postgres",label:"DDL",type:"data"},{from:"schema",to:"postgres",label:"Types",type:"data"},{from:"redis",to:"postgres",label:"Cache",type:"data"}]},{id:"deployment",title:"Deployment Architecture",description:"VPS hosting with Caddy proxy",nodes:[{id:"caddy",label:"Caddy",description:"Reverse proxy + SSL",type:"server",icon:"ðŸ”’",color:"#22c55e"},{id:"pm2",label:"PM2",description:"Process manager",type:"service",icon:"âš™ï¸",color:"#2b037a"},{id:"vps",label:"VPS",description:"Ubuntu server",type:"server",icon:"ðŸ–¥ï¸",color:"#e95420"},{id:"github",label:"GitHub",description:"Source control",type:"external",icon:"ðŸ™",color:"#333"}],connections:[{from:"github",to:"vps",label:"Deploy",type:"data"},{from:"caddy",to:"pm2",label:"Proxy",type:"data"},{from:"pm2",to:"vps",label:"Manage",type:"data"}]}],u={client:"from-blue-500/20 to-blue-500/5 border-blue-500/30",server:"from-green-500/20 to-green-500/5 border-green-500/30",database:"from-purple-500/20 to-purple-500/5 border-purple-500/30",service:"from-amber-500/20 to-amber-500/5 border-amber-500/30",external:"from-gray-500/20 to-gray-500/5 border-gray-500/30"};function v({className:m="",defaultDiagram:x="backend"}){const[l,y]=p.useState(x),[a,c]=p.useState(null),r=s.find(t=>t.id===l)||s[0];return e.jsxs("div",{className:`architecture-atlas ${m}`,children:[e.jsx("div",{className:"flex items-center gap-2 mb-6 overflow-x-auto pb-2",children:s.map(t=>e.jsx("button",{onClick:()=>y(t.id),className:`
              px-4 py-2 rounded-lg whitespace-nowrap
              transition-colors text-sm font-medium
              ${l===t.id?"bg-blue-500/20 text-blue-300 border border-blue-500/30":"bg-white/5 text-gray-400 hover:text-white hover:bg-white/10 border border-transparent"}
            `,children:t.title},t.id))}),e.jsx(h,{mode:"wait",children:e.jsxs(b.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:r.title}),e.jsx("p",{className:"text-gray-400",children:r.description})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-6",children:r.nodes.map(t=>e.jsxs(b.div,{onHoverStart:()=>c(t.id),onHoverEnd:()=>c(null),className:`
                  relative p-4 rounded-xl
                  bg-gradient-to-br ${u[t.type]}
                  border backdrop-blur-sm
                  transition-all duration-200
                  ${a===t.id?"scale-105 shadow-lg":""}
                `,children:[e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("span",{className:"text-3xl mb-2",children:t.icon}),e.jsx("h4",{className:"font-semibold text-white text-sm",children:t.label}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:t.description})]}),a&&a!==t.id&&e.jsx("div",{className:`
                      absolute inset-0 rounded-xl transition-opacity
                      ${r.connections.some(i=>i.from===a&&i.to===t.id||i.to===a&&i.from===t.id)?"bg-white/5":"bg-black/20"}
                    `})]},t.id))}),e.jsxs("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Data Flow"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.connections.map((t,i)=>{const d=r.nodes.find(o=>o.id===t.from),n=r.nodes.find(o=>o.id===t.to);return!d||!n?null:e.jsxs("div",{className:`
                      flex items-center gap-2 px-3 py-1.5 rounded-lg
                      bg-white/5 text-xs
                      ${a===t.from||a===t.to?"bg-blue-500/20 text-blue-300":"text-gray-400"}
                    `,children:[e.jsx("span",{children:d.icon}),e.jsx("span",{className:"text-gray-600",children:"â†’"}),e.jsx("span",{children:n.icon}),t.label&&e.jsxs("span",{className:"text-gray-500",children:["(",t.label,")"]})]},i)})})]})]},r.id)}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-white/10",children:[e.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wider mb-2",children:"Node Types"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:[{type:"client",label:"Client App",color:"bg-blue-500"},{type:"server",label:"Server",color:"bg-green-500"},{type:"database",label:"Database",color:"bg-purple-500"},{type:"service",label:"Service",color:"bg-amber-500"},{type:"external",label:"External",color:"bg-gray-500"}].map(t=>e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${t.color}`}),e.jsx("span",{className:"text-xs text-gray-400",children:t.label})]},t.type))})]})]})}export{v as A};
