import{r as b,j as e,L as F,a as $}from"./react-vendor-D847gc3Q.js";import{e as z,i as j,m as g,A as L}from"./index-DhiiJXo_.js";import{b as C,a as k}from"./sanitize-CfVRSXz9.js";import{G as M}from"./GlassSurface-CW71V7bR.js";import{G as h}from"./GlassButton-DjJSCZBJ.js";import{G as O,A as W,d as R}from"./GlassNav-C6nMJdQC.js";import{M as E}from"./MeshBackground-BqbFOsCF.js";import{M as q}from"./MuscleViewer-YOw917Sk.js";import"./leaflet-vendor-DZbo3Ov0.js";import"./apollo-vendor-BNHFeEEc.js";import"./reactflow-vendor-5ig9bY2l.js";import"./d3-vendor-DkU_Wy0v.js";import"./recharts-vendor-d8oTApeF.js";const n={Target:({className:t="w-5 h-5"})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),Plus:({className:t="w-5 h-5"})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),Scale:({className:t="w-5 h-5"})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"})}),Muscle:({className:t="w-5 h-5"})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 12h4m10 0h4M7 12v4a1 1 0 001 1h1M7 12V8a1 1 0 011-1h1m7 5v4a1 1 0 01-1 1h-1m1-5V8a1 1 0 00-1-1h-1m-4 0h4m-4 10h4"})}),Fire:({className:t="w-5 h-5"})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z"})}),Calendar:({className:t="w-5 h-5"})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),Check:({className:t="w-5 h-5"})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),Trophy:({className:t="w-5 h-5"})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),X:({className:t="w-5 h-5"})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})},y={weight_loss:{label:"Weight Loss",icon:n.Scale,color:"#22c55e",description:"Shed pounds"},weight_gain:{label:"Weight Gain",icon:n.Scale,color:"#3b82f6",description:"Gain healthy weight"},muscle_gain:{label:"Muscle Gain",icon:n.Muscle,color:"#8b5cf6",description:"Build muscle mass"},strength:{label:"Strength",icon:n.Fire,color:"#ef4444",description:"Get stronger"},endurance:{label:"Endurance",icon:n.Fire,color:"#f59e0b",description:"Build stamina"},flexibility:{label:"Flexibility",icon:n.Target,color:"#06b6d4",description:"Improve mobility"},general_fitness:{label:"General Fitness",icon:n.Target,color:"#10b981",description:"Overall health"},body_recomposition:{label:"Body Recomp",icon:n.Muscle,color:"#ec4899",description:"Lose fat, gain muscle"},athletic_performance:{label:"Performance",icon:n.Trophy,color:"#f97316",description:"Athletic goals"},rehabilitation:{label:"Rehabilitation",icon:n.Target,color:"#14b8a6",description:"Recovery"},maintenance:{label:"Maintenance",icon:n.Check,color:"#6366f1",description:"Stay consistent"}},I={muscle_gain:[{id:"chest",intensity:.9,isPrimary:!0},{id:"upper_back",intensity:.9,isPrimary:!0},{id:"quads",intensity:.85,isPrimary:!0},{id:"front_delts",intensity:.8,isPrimary:!1},{id:"biceps",intensity:.7,isPrimary:!1},{id:"triceps",intensity:.7,isPrimary:!1},{id:"hamstrings",intensity:.75,isPrimary:!1},{id:"glutes",intensity:.8,isPrimary:!1}],body_recomposition:[{id:"quads",intensity:.9,isPrimary:!0},{id:"glutes",intensity:.85,isPrimary:!0},{id:"upper_back",intensity:.85,isPrimary:!0},{id:"chest",intensity:.8,isPrimary:!1},{id:"abs",intensity:.7,isPrimary:!1},{id:"hamstrings",intensity:.75,isPrimary:!1}],strength:[{id:"chest",intensity:.95,isPrimary:!0},{id:"upper_back",intensity:.95,isPrimary:!0},{id:"quads",intensity:.9,isPrimary:!0},{id:"glutes",intensity:.85,isPrimary:!0},{id:"front_delts",intensity:.75,isPrimary:!1},{id:"triceps",intensity:.7,isPrimary:!1},{id:"hamstrings",intensity:.8,isPrimary:!1}],athletic_performance:[{id:"quads",intensity:.9,isPrimary:!0},{id:"hamstrings",intensity:.9,isPrimary:!0},{id:"glutes",intensity:.85,isPrimary:!0},{id:"calves",intensity:.8,isPrimary:!1},{id:"abs",intensity:.75,isPrimary:!1},{id:"upper_back",intensity:.7,isPrimary:!1}],weight_loss:[{id:"quads",intensity:.8,isPrimary:!0},{id:"glutes",intensity:.8,isPrimary:!0},{id:"upper_back",intensity:.7,isPrimary:!1},{id:"chest",intensity:.6,isPrimary:!1},{id:"abs",intensity:.5,isPrimary:!1}]};function G({goal:t,onUpdate:d,onDelete:p,showMuscleViewer:l=!1}){const i=y[t.goalType]||y.general_fitness,u=i.icon||n.Target,a=t.progress||0,c=t.status==="completed",x=t.status==="paused",o=I[t.goalType],r=l&&o&&o.length>0;return e.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`relative overflow-hidden rounded-2xl p-6 ${c?"bg-[var(--feedback-success)]/10":"bg-[var(--glass-white-5)]"} backdrop-blur-xl border border-[var(--border-subtle)]`,children:[t.isPrimary&&e.jsx("div",{className:"absolute top-3 right-3 px-2 py-1 bg-[var(--brand-blue-500)]/20 rounded-full",children:e.jsx("span",{className:"text-xs font-semibold text-[var(--brand-blue-400)]",children:"Primary"})}),e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:"p-3 rounded-xl",style:{backgroundColor:`${i.color}20`},children:e.jsx(u,{className:"w-6 h-6",style:{color:i.color}})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--text-primary)]",children:i.label}),e.jsx("p",{className:"text-sm text-[var(--text-tertiary)]",children:i.description})]})]}),r&&e.jsxs("div",{className:"mb-4 bg-[var(--void-deeper)] rounded-xl overflow-hidden",children:[e.jsx(q,{muscles:o,mode:"compact",interactive:!1,showLabels:!1,autoRotate:!1,className:"h-32"}),e.jsxs("div",{className:"px-3 py-2 border-t border-[var(--border-subtle)]",children:[e.jsx("span",{className:"text-xs text-[var(--text-tertiary)]",children:"Focus areas: "}),e.jsx("span",{className:"text-xs text-[var(--text-secondary)]",children:o.filter(m=>m.isPrimary).map(m=>m.id.replace(/_/g," ")).join(", ")})]})]}),t.targetValue&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsxs("span",{className:"text-[var(--text-secondary)]",children:[t.currentValue?.toFixed(1)||t.startingValue?.toFixed(1)||"0"," ",t.targetUnit]}),e.jsxs("span",{className:"text-[var(--text-tertiary)]",children:["Target: ",t.targetValue," ",t.targetUnit]})]}),e.jsx("div",{className:"h-2 bg-[var(--glass-white-10)] rounded-full overflow-hidden",children:e.jsx(g.div,{initial:{width:0},animate:{width:`${a}%`},transition:{duration:1,ease:"easeOut"},className:"h-full rounded-full",style:{backgroundColor:i.color}})}),e.jsx("div",{className:"text-right mt-1",children:e.jsxs("span",{className:"text-xs text-[var(--text-quaternary)]",children:[a,"% complete"]})})]}),t.targetDate&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-[var(--text-tertiary)] mb-4",children:[e.jsx(n.Calendar,{className:"w-4 h-4"}),e.jsx("span",{children:t.daysRemaining!==null?t.daysRemaining>0?`${t.daysRemaining} days remaining`:"Target date passed":`Due ${new Date(t.targetDate).toLocaleDateString()}`})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${c?"bg-[var(--feedback-success)]/20 text-[var(--feedback-success)]":x?"bg-[var(--feedback-warning)]/20 text-[var(--feedback-warning)]":"bg-[var(--brand-blue-500)]/20 text-[var(--brand-blue-400)]"}`,children:t.status.charAt(0).toUpperCase()+t.status.slice(1)}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(h,{variant:"ghost",size:"sm",onClick:()=>d(t),children:"Update"}),!c&&e.jsx(h,{variant:"ghost",size:"sm",onClick:()=>p(t.id),children:e.jsx(n.X,{className:"w-4 h-4"})})]})]})]})}function Y({isOpen:t,onClose:d,onSubmit:p,suggestions:l}){const[i,u]=b.useState(1),[a,c]=b.useState({goalType:"",targetValue:"",targetUnit:"lbs",startingValue:"",targetDate:"",isPrimary:!1,notes:""});if(!t)return null;const x=r=>{const m=l?.find(v=>v.goalType===r);c({...a,goalType:r,targetUnit:m?.suggestedTargetUnit||"lbs"}),u(2)},o=r=>{r.preventDefault(),p({...a,goalType:k(a.goalType),targetUnit:k(a.targetUnit),notes:k(a.notes),targetValue:a.targetValue?C(a.targetValue,{min:0}):null,startingValue:a.startingValue?C(a.startingValue,{min:0}):null}),c({goalType:"",targetValue:"",targetUnit:"lbs",startingValue:"",targetDate:"",isPrimary:!1,notes:""}),u(1)};return e.jsx(L,{children:e.jsx(g.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:d,children:e.jsxs(g.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"w-full max-w-lg bg-[var(--void-base)] border border-[var(--border-subtle)] rounded-2xl p-6 max-h-[90vh] overflow-y-auto",onClick:r=>r.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-[var(--text-primary)]",children:i===1?"Choose Goal Type":"Set Your Target"}),e.jsx("button",{onClick:d,className:"text-[var(--text-tertiary)] hover:text-[var(--text-primary)]",children:e.jsx(n.X,{className:"w-6 h-6"})})]}),i===1?e.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(y).map(([r,m])=>{const v=m.icon;return e.jsxs("button",{onClick:()=>x(r),className:"p-4 rounded-xl border border-[var(--border-subtle)] hover:border-[var(--border-default)] bg-[var(--glass-white-5)] hover:bg-[var(--glass-white-10)] transition-all text-left",children:[e.jsx("div",{className:"p-2 rounded-lg w-fit mb-2",style:{backgroundColor:`${m.color}20`},children:e.jsx(v,{className:"w-5 h-5",style:{color:m.color}})}),e.jsx("div",{className:"font-semibold text-[var(--text-primary)] text-sm",children:m.label}),e.jsx("div",{className:"text-xs text-[var(--text-tertiary)]",children:m.description})]},r)})}):e.jsxs("form",{onSubmit:o,className:"space-y-4",children:[e.jsx("div",{className:"p-3 rounded-xl bg-[var(--glass-white-5)] border border-[var(--border-subtle)]",children:e.jsx("div",{className:"flex items-center gap-3",children:(()=>{const r=y[a.goalType],m=r?.icon||n.Target;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:`${r?.color}20`},children:e.jsx(m,{className:"w-5 h-5",style:{color:r?.color}})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-[var(--text-primary)]",children:r?.label}),e.jsx("div",{className:"text-xs text-[var(--text-tertiary)]",children:r?.description})]})]})})()})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[var(--text-secondary)] mb-1",children:"Starting Value"}),e.jsx("input",{type:"number",step:"0.1",value:a.startingValue,onChange:r=>c({...a,startingValue:r.target.value}),className:"w-full px-3 py-2 rounded-lg bg-[var(--glass-white-5)] border border-[var(--border-subtle)] text-[var(--text-primary)]",placeholder:"e.g., 180"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[var(--text-secondary)] mb-1",children:"Target Value"}),e.jsx("input",{type:"number",step:"0.1",value:a.targetValue,onChange:r=>c({...a,targetValue:r.target.value}),className:"w-full px-3 py-2 rounded-lg bg-[var(--glass-white-5)] border border-[var(--border-subtle)] text-[var(--text-primary)]",placeholder:"e.g., 165"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[var(--text-secondary)] mb-1",children:"Unit"}),e.jsxs("select",{value:a.targetUnit,onChange:r=>c({...a,targetUnit:r.target.value}),className:"w-full px-3 py-2 rounded-lg bg-[var(--glass-white-5)] border border-[var(--border-subtle)] text-[var(--text-primary)]",children:[e.jsx("option",{value:"lbs",children:"Pounds (lbs)"}),e.jsx("option",{value:"kg",children:"Kilograms (kg)"}),e.jsx("option",{value:"percent",children:"Percent (%)"}),e.jsx("option",{value:"reps",children:"Reps"}),e.jsx("option",{value:"minutes",children:"Minutes"}),e.jsx("option",{value:"days",children:"Days"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[var(--text-secondary)] mb-1",children:"Target Date (Optional)"}),e.jsx("input",{type:"date",value:a.targetDate,onChange:r=>c({...a,targetDate:r.target.value}),className:"w-full px-3 py-2 rounded-lg bg-[var(--glass-white-5)] border border-[var(--border-subtle)] text-[var(--text-primary)]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[var(--text-secondary)] mb-1",children:"Notes (Optional)"}),e.jsx("textarea",{value:a.notes,onChange:r=>c({...a,notes:r.target.value}),rows:2,className:"w-full px-3 py-2 rounded-lg bg-[var(--glass-white-5)] border border-[var(--border-subtle)] text-[var(--text-primary)]",placeholder:"Any additional notes..."})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:a.isPrimary,onChange:r=>c({...a,isPrimary:r.target.checked}),className:"rounded border-[var(--border-subtle)]"}),e.jsx("span",{className:"text-sm text-[var(--text-secondary)]",children:"Set as primary goal"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(h,{type:"button",variant:"ghost",className:"flex-1",onClick:()=>u(1),children:"Back"}),e.jsx(h,{type:"submit",variant:"primary",className:"flex-1",children:"Create Goal"})]})]})]})})})}function H({isOpen:t,onClose:d,onSubmit:p,goal:l}){const[i,u]=b.useState({currentValue:l?.currentValue||"",targetValue:l?.targetValue||"",targetDate:l?.targetDate?l.targetDate.split("T")[0]:"",isPrimary:l?.isPrimary||!1,status:l?.status||"active",notes:l?.notes||""});if($.useEffect(()=>{l&&u({currentValue:l.currentValue||"",targetValue:l.targetValue||"",targetDate:l.targetDate?l.targetDate.split("T")[0]:"",isPrimary:l.isPrimary||!1,status:l.status||"active",notes:l.notes||""})},[l]),!t||!l)return null;const a=y[l.goalType],c=a?.icon||n.Target,x=o=>{o.preventDefault(),p(l.id,{currentValue:i.currentValue?C(i.currentValue,{min:0}):null,targetValue:i.targetValue?C(i.targetValue,{min:0}):null,targetDate:i.targetDate||null,isPrimary:i.isPrimary,status:i.status,notes:k(i.notes)})};return e.jsx(L,{children:e.jsx(g.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:d,children:e.jsxs(g.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"w-full max-w-lg bg-[var(--void-base)] border border-[var(--border-subtle)] rounded-2xl p-6 max-h-[90vh] overflow-y-auto",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-[var(--text-primary)]",children:"Update Goal"}),e.jsx("button",{onClick:d,className:"text-[var(--text-tertiary)] hover:text-[var(--text-primary)]",children:e.jsx(n.X,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"p-3 rounded-xl bg-[var(--glass-white-5)] border border-[var(--border-subtle)] mb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:`${a?.color}20`},children:e.jsx(c,{className:"w-5 h-5",style:{color:a?.color}})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-[var(--text-primary)] text-sm",children:a?.label||l.goalType}),e.jsx("div",{className:"text-xs text-[var(--text-tertiary)]",children:a?.description})]})]})}),e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:["Current Value (",l.targetUnit||"lbs",")"]}),e.jsx("input",{type:"number",value:i.currentValue,onChange:o=>u({...i,currentValue:o.target.value}),className:"w-full px-4 py-3 bg-[var(--void-deeper)] border border-[var(--border-subtle)] rounded-xl text-[var(--text-primary)] focus:border-[var(--brand-blue-400)] focus:ring-1 focus:ring-[var(--brand-blue-400)] outline-none",placeholder:"Current progress"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:["Target Value (",l.targetUnit||"lbs",")"]}),e.jsx("input",{type:"number",value:i.targetValue,onChange:o=>u({...i,targetValue:o.target.value}),className:"w-full px-4 py-3 bg-[var(--void-deeper)] border border-[var(--border-subtle)] rounded-xl text-[var(--text-primary)] focus:border-[var(--brand-blue-400)] focus:ring-1 focus:ring-[var(--brand-blue-400)] outline-none",placeholder:"Your target"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"Target Date"}),e.jsx("input",{type:"date",value:i.targetDate,onChange:o=>u({...i,targetDate:o.target.value}),className:"w-full px-4 py-3 bg-[var(--void-deeper)] border border-[var(--border-subtle)] rounded-xl text-[var(--text-primary)] focus:border-[var(--brand-blue-400)] focus:ring-1 focus:ring-[var(--brand-blue-400)] outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"Status"}),e.jsxs("select",{value:i.status,onChange:o=>u({...i,status:o.target.value}),className:"w-full px-4 py-3 bg-[var(--void-deeper)] border border-[var(--border-subtle)] rounded-xl text-[var(--text-primary)] focus:border-[var(--brand-blue-400)] focus:ring-1 focus:ring-[var(--brand-blue-400)] outline-none",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"paused",children:"Paused"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"abandoned",children:"Abandoned"})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:i.isPrimary,onChange:o=>u({...i,isPrimary:o.target.checked}),className:"w-5 h-5 rounded border-[var(--border-subtle)] bg-[var(--void-deeper)] text-[var(--brand-blue-500)] focus:ring-[var(--brand-blue-400)]"}),e.jsx("span",{className:"text-sm text-[var(--text-secondary)]",children:"Set as primary goal"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[var(--text-secondary)] mb-2",children:"Notes"}),e.jsx("textarea",{value:i.notes,onChange:o=>u({...i,notes:o.target.value}),rows:3,className:"w-full px-4 py-3 bg-[var(--void-deeper)] border border-[var(--border-subtle)] rounded-xl text-[var(--text-primary)] focus:border-[var(--brand-blue-400)] focus:ring-1 focus:ring-[var(--brand-blue-400)] outline-none resize-none",placeholder:"Optional notes about this goal..."})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx(h,{type:"button",variant:"ghost",onClick:d,className:"flex-1",children:"Cancel"}),e.jsx(h,{type:"submit",variant:"primary",className:"flex-1",children:"Save Changes"})]})]})]})})})}function oe(){const{user:t}=z(),[d,p]=b.useState([]),[l,i]=b.useState([]),[u,a]=b.useState(!0),[c,x]=b.useState(!1),[o,r]=b.useState(!1),[m,v]=b.useState(null),[N,D]=b.useState("active");b.useEffect(()=>{w(),U()},[N]);const w=async()=>{try{const s=await j.get(`/goals${N!=="all"?`?status=${N}`:""}`);p(s.data?.goals||[])}catch{}finally{a(!1)}},U=async()=>{try{const s=await j.get("/goals/suggestions");i(s.data?.suggestions||[])}catch{}},_=async s=>{try{await j.post("/goals",s),x(!1),w()}catch{}},P=s=>{v(s),r(!0)},A=async(s,f)=>{try{await j.put(`/goals/${s}`,f),r(!1),v(null),w()}catch{}},V=async s=>{if(confirm("Are you sure you want to delete this goal?"))try{await j.delete(`/goals/${s}`),w()}catch{}},S=d.filter(s=>s.status==="active");d.filter(s=>s.status==="completed");const T=d.find(s=>s.isPrimary&&s.status==="active");return e.jsxs("div",{className:"min-h-screen relative",children:[e.jsx(E,{intensity:"subtle"}),e.jsx(O,{brandSlot:e.jsxs(F,{to:"/dashboard",className:"flex items-center gap-3",children:[e.jsx(W,{size:32,breathing:!0}),e.jsx("span",{className:"font-bold text-lg text-[var(--text-primary)] hidden sm:block",children:"MuscleMap"})]})}),e.jsx("div",{className:"flex pt-16",children:e.jsx("main",{className:"flex-1 lg:ml-64 p-4 lg:p-8 pb-24 lg:pb-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-black text-[var(--text-primary)] tracking-tight",children:"Goals"}),e.jsx("p",{className:"text-[var(--text-secondary)]",children:"Set targets and track your progress"})]}),e.jsxs(h,{variant:"primary",onClick:()=>x(!0),children:[e.jsx(n.Plus,{className:"w-5 h-5 mr-2"}),"New Goal"]})]}),T&&e.jsxs(M,{className:"p-6 mb-8",depth:"medium",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(n.Trophy,{className:"w-5 h-5 text-[var(--brand-blue-400)]"}),e.jsx("span",{className:"text-sm font-semibold text-[var(--brand-blue-400)]",children:"Primary Goal"})]}),e.jsx(G,{goal:T,onUpdate:P,onDelete:V,showMuscleViewer:!0})]}),e.jsx("div",{className:"flex gap-2 mb-6",children:["active","completed","all"].map(s=>e.jsxs("button",{onClick:()=>D(s),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${N===s?"bg-[var(--brand-blue-500)] text-white":"bg-[var(--glass-white-5)] text-[var(--text-secondary)] hover:bg-[var(--glass-white-10)]"}`,children:[s.charAt(0).toUpperCase()+s.slice(1),s==="active"&&S.length>0&&e.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-white/20 rounded-full",children:S.length})]},s))}),u?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"w-8 h-8 border-2 border-[var(--brand-blue-500)] border-t-transparent rounded-full animate-spin"})}):d.length===0?e.jsxs(M,{className:"p-12 text-center",depth:"subtle",children:[e.jsx(n.Target,{className:"w-16 h-16 mx-auto mb-4 text-[var(--text-quaternary)]"}),e.jsx("h3",{className:"text-xl font-bold text-[var(--text-primary)] mb-2",children:"No Goals Yet"}),e.jsx("p",{className:"text-[var(--text-tertiary)] mb-6",children:"Set your first fitness goal to start tracking your progress"}),e.jsxs(h,{variant:"primary",onClick:()=>x(!0),children:[e.jsx(n.Plus,{className:"w-5 h-5 mr-2"}),"Create Your First Goal"]})]}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:d.filter(s=>!s.isPrimary||s.status!=="active").map(s=>e.jsx(G,{goal:s,onUpdate:P,onDelete:V},s.id))}),d.length===0&&l.length>0&&e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--text-primary)] mb-4",children:"Suggested Goals"}),e.jsx("div",{className:"grid gap-3 md:grid-cols-3",children:l.slice(0,6).map(s=>{const f=y[s.goalType],B=f?.icon||n.Target;return e.jsxs("button",{onClick:()=>x(!0),className:"p-4 rounded-xl border border-[var(--border-subtle)] hover:border-[var(--border-default)] bg-[var(--glass-white-5)] hover:bg-[var(--glass-white-10)] transition-all text-left",children:[e.jsx("div",{className:"p-2 rounded-lg w-fit mb-2",style:{backgroundColor:`${f?.color}20`},children:e.jsx(B,{className:"w-5 h-5",style:{color:f?.color}})}),e.jsx("div",{className:"font-semibold text-[var(--text-primary)]",children:s.title}),e.jsx("div",{className:"text-sm text-[var(--text-tertiary)]",children:s.description})]},s.goalType)})})]})]})})}),e.jsx(R,{items:[{to:"/dashboard",icon:n.Target,label:"Home"},{to:"/goals",icon:n.Target,label:"Goals",active:!0},{to:"/profile",icon:n.Target,label:"Profile"}]}),e.jsx(Y,{isOpen:c,onClose:()=>x(!1),onSubmit:_,suggestions:l}),e.jsx(H,{isOpen:o,onClose:()=>{r(!1),v(null)},onSubmit:A,goal:m})]})}export{oe as default};
