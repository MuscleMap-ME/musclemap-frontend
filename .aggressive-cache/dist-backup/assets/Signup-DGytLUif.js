import{u as y,r as d,j as e,L as g}from"./react-vendor-D847gc3Q.js";import{e as w,i as b,j,s as x,t as v}from"./index-CW1Bthq4.js";import{S as N}from"./SEO-B-NXRDHI.js";import{L as k}from"./Logo-u5Pq-Syc.js";import{s as C,a as S}from"./sanitize-CfVRSXz9.js";import"./leaflet-vendor-DZbo3Ov0.js";import"./apollo-vendor-BNHFeEEc.js";import"./reactflow-vendor-5ig9bY2l.js";import"./d3-vendor-DkU_Wy0v.js";import"./recharts-vendor-d8oTApeF.js";function F(){const h={"@context":"https://schema.org","@type":"WebPage",name:"Sign Up for MuscleMap",description:"Create your free MuscleMap account. Start tracking your fitness journey with real-time muscle visualization.",url:"https://musclemap.me/signup"},c=y(),{login:u}=w(),[r,l]=d.useState({username:"",email:"",password:"",confirmPassword:""}),[m,t]=d.useState(""),[p,n]=d.useState(!1),f=async a=>{if(a.preventDefault(),t(""),r.password.length<8){t("Password must be at least 8 characters");return}if(r.password!==r.confirmPassword){t("Passwords do not match");return}n(!0);try{const i={username:S(r.username),email:C(r.email),password:r.password},o=await b.auth.register(i);u(o.user,o.token),j("email"),x(o.user.id,{archetype:"none",has_completed_onboarding:!1}),c("/onboarding")}catch(i){const o=i.message||"";if(o.toLowerCase().includes("exist")){t("Account already exists. Trying to log you in...");try{const s=await b.auth.login(r.email,r.password);u(s.user,s.token),v("email"),x(s.user.id,{archetype:s.user.archetype||"none",has_completed_onboarding:!!s.user.archetype}),c(s.user?.archetype?"/dashboard":"/onboarding");return}catch(s){t(s.message||"Account exists but password is different. Please log in."),n(!1);return}}t(o||"Registration failed")}finally{n(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(N,{title:"Sign Up",description:"Create your free MuscleMap account. Start tracking your fitness journey with real-time muscle visualization.",structuredData:h}),e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{backgroundColor:"#0a0a0f",backgroundImage:"radial-gradient(circle at 70% 20%, rgba(99, 102, 241, 0.12), transparent 40%), radial-gradient(circle at 30% 80%, rgba(168, 85, 247, 0.12), transparent 40%)"},children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs(g,{to:"/",className:"inline-block",children:[e.jsx("div",{className:"mx-auto mb-4 w-20 h-20 rounded-2xl shadow-lg shadow-blue-500/20 hover:shadow-blue-500/40 transition-shadow duration-300 overflow-hidden",children:e.jsx(k,{size:"xl",priority:!0,className:"rounded-2xl"})}),e.jsx("h1",{className:"text-3xl font-black text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500",children:"MuscleMap"})]}),e.jsx("p",{className:"text-gray-400 mt-2",children:"Create your account"})]}),e.jsxs("form",{onSubmit:f,className:"bg-gray-800/80 backdrop-blur-sm border border-gray-700/50 rounded-xl p-6 space-y-4",children:[m&&e.jsx("div",{className:"p-3 bg-red-900/50 border border-red-500 rounded-lg text-red-300 text-sm",children:m}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 text-sm mb-1",children:"Username"}),e.jsx("input",{type:"text",value:r.username,onChange:a=>l({...r,username:a.target.value}),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:border-blue-500 focus:outline-none",placeholder:"Choose a username",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 text-sm mb-1",children:"Email"}),e.jsx("input",{type:"email",value:r.email,onChange:a=>l({...r,email:a.target.value}),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:border-blue-500 focus:outline-none",placeholder:"you@example.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 text-sm mb-1",children:"Password"}),e.jsx("input",{type:"password",value:r.password,onChange:a=>l({...r,password:a.target.value}),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:border-blue-500 focus:outline-none",placeholder:"At least 8 characters",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 text-sm mb-1",children:"Confirm Password"}),e.jsx("input",{type:"password",value:r.confirmPassword,onChange:a=>l({...r,confirmPassword:a.target.value}),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:border-blue-500 focus:outline-none",placeholder:"Confirm password",required:!0})]}),e.jsx("button",{type:"submit",disabled:p,className:"w-full p-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white font-bold rounded-lg disabled:opacity-50",children:p?"Please wait...":"Create Account"}),e.jsxs("p",{className:"text-center text-gray-400 text-sm",children:["Already have an account? ",e.jsx(g,{to:"/login",className:"text-blue-400 hover:text-blue-300",children:"Log in"})]})]})]})})]})}export{F as default};
