import{u as E,r as d,j as e,L as M}from"./react-vendor-D847gc3Q.js";import{G as o}from"./GlassSurface-CuHevRGA.js";import{G as i}from"./GlassButton-DMv1Jf8n.js";import{G as v}from"./GlassNav-CujyZLXz.js";import{G as k,a as C}from"./GlassMobileNav-B4xBgmkP.js";import{M as G}from"./MeshBackground-BlECXEOF.js";import{u as I,k as W,a as P}from"./nutritionStore-DZGSHMmM.js";import{c as O,d as $,u as F}from"./useNutrition-CTFUv6fp.js";import{c as _,aJ as A,aQ as B,m as j,aE as K}from"./index-C2MOd6aO.js";import{C as n}from"./check-B3Sev7pF.js";import{A as R}from"./arrow-left-DQSzhiC8.js";import{E as Y}from"./eye-wBbIO8PL.js";import{T as q}from"./trash-2-Ch3UwXxA.js";import{C as z}from"./chevron-right-oDVaZ2Sm.js";import{C as V}from"./circle-alert-BlOXgpv9.js";import"./leaflet-vendor-DZbo3Ov0.js";import"./recharts-vendor-CxtoZpzE.js";import"./d3-vendor-mcDw60ct.js";import"./apollo-vendor-BNHFeEEc.js";import"./reactflow-vendor-CYb5nRwM.js";const H=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],J=_("calculator",H),Q=[{value:"sedentary",label:"Sedentary",description:"Little or no exercise"},{value:"light",label:"Light",description:"Light exercise 1-3 days/week"},{value:"moderate",label:"Moderate",description:"Moderate exercise 3-5 days/week"},{value:"active",label:"Active",description:"Hard exercise 6-7 days/week"},{value:"very_active",label:"Very Active",description:"Physical job + hard exercise"}],U=[{value:"lose",label:"Lose Weight",color:"text-red-400"},{value:"maintain",label:"Maintain",color:"text-blue-400"},{value:"gain",label:"Build Muscle",color:"text-green-400"}],Z=[{value:"slow",label:"Slow",description:"~0.5 lb/week"},{value:"moderate",label:"Moderate",description:"~1 lb/week"},{value:"aggressive",label:"Aggressive",description:"~1.5 lb/week"}];function X({onCalculate:m,isLoading:x}){const[t,a]=d.useState({weightKg:"",heightCm:"",age:"",sex:"male",activityLevel:"moderate",goalType:"maintain",goalIntensity:"moderate"}),h=s=>{s.preventDefault(),m({...t,weightKg:parseFloat(t.weightKg),heightCm:parseFloat(t.heightCm),age:parseInt(t.age,10)})};return e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Weight (kg)"}),e.jsx("input",{type:"number",step:"0.1",required:!0,value:t.weightKg,onChange:s=>a({...t,weightKg:s.target.value}),className:`w-full px-4 py-3 bg-white/5 rounded-xl border border-white/10 text-white
                       focus:outline-none focus:border-green-500/50`,placeholder:"70"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Height (cm)"}),e.jsx("input",{type:"number",required:!0,value:t.heightCm,onChange:s=>a({...t,heightCm:s.target.value}),className:`w-full px-4 py-3 bg-white/5 rounded-xl border border-white/10 text-white
                       focus:outline-none focus:border-green-500/50`,placeholder:"175"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Age"}),e.jsx("input",{type:"number",required:!0,value:t.age,onChange:s=>a({...t,age:s.target.value}),className:`w-full px-4 py-3 bg-white/5 rounded-xl border border-white/10 text-white
                       focus:outline-none focus:border-green-500/50`,placeholder:"30"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Sex"}),e.jsxs("select",{value:t.sex,onChange:s=>a({...t,sex:s.target.value}),className:`w-full px-4 py-3 bg-white/5 rounded-xl border border-white/10 text-white
                       focus:outline-none focus:border-green-500/50`,children:[e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-3",children:"Activity Level"}),e.jsx("div",{className:"space-y-2",children:Q.map(s=>e.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-xl border cursor-pointer transition-colors ${t.activityLevel===s.value?"border-green-500/50 bg-green-500/10":"border-white/10 hover:bg-white/5"}`,children:[e.jsx("input",{type:"radio",name:"activityLevel",value:s.value,checked:t.activityLevel===s.value,onChange:u=>a({...t,activityLevel:u.target.value}),className:"sr-only"}),e.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${t.activityLevel===s.value?"border-green-400 bg-green-400":"border-white/30"}`,children:t.activityLevel===s.value&&e.jsx(n,{className:"w-3 h-3 text-black"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:s.label}),e.jsx("p",{className:"text-xs text-gray-400",children:s.description})]})]},s.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-3",children:"Goal"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:U.map(s=>e.jsx("button",{type:"button",onClick:()=>a({...t,goalType:s.value}),className:`p-4 rounded-xl border text-center transition-colors ${t.goalType===s.value?"border-green-500/50 bg-green-500/10":"border-white/10 hover:bg-white/5"}`,children:e.jsx("span",{className:`font-medium ${s.color}`,children:s.label})},s.value))})]}),t.goalType!=="maintain"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-3",children:"Intensity"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:Z.map(s=>e.jsxs("button",{type:"button",onClick:()=>a({...t,goalIntensity:s.value}),className:`p-4 rounded-xl border text-center transition-colors ${t.goalIntensity===s.value?"border-green-500/50 bg-green-500/10":"border-white/10 hover:bg-white/5"}`,children:[e.jsx("p",{className:"text-white font-medium",children:s.label}),e.jsx("p",{className:"text-xs text-gray-400",children:s.description})]},s.value))})]}),e.jsxs(i,{type:"submit",variant:"primary",className:"w-full",disabled:x,children:[e.jsx(J,{className:"w-4 h-4 mr-2"}),x?"Calculating...":"Calculate Goals"]})]})}function fe(){const m=E(),x=I(),t=W(),a=P(),{enable:h,disable:s,updatePreferences:u}=O(),{calculateGoals:S}=$(),{load:y}=F(),[f,g]=d.useState(!a),[L,p]=d.useState(!1),[c,r]=d.useState(!1);d.useEffect(()=>{y()},[y]);const D=async()=>{r(!0);try{await h(),g(!0)}catch{}finally{r(!1)}},N=async(l=!1)=>{r(!0);try{await s(l),m("/dashboard")}catch{}finally{r(!1),p(!1)}},T=async l=>{r(!0);try{await S(l),g(!1)}catch{}finally{r(!1)}},b=async l=>{if(t)try{await u({[l]:!t[l]})}catch{}};return x?e.jsxs("div",{className:"min-h-screen bg-gray-950",children:[e.jsx(G,{}),e.jsx(v,{}),e.jsx(k,{}),e.jsx("main",{className:"lg:pl-64 pt-16 pb-24 lg:pb-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx(M,{to:"/nutrition",children:e.jsx(i,{variant:"ghost",size:"sm",children:e.jsx(R,{className:"w-4 h-4"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Nutrition Settings"}),e.jsx("p",{className:"text-gray-400",children:"Configure your tracking preferences"})]})]}),a&&!f&&e.jsxs(o,{className:"p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Your Goals"}),e.jsx("button",{onClick:()=>g(!0),className:"text-sm text-green-400 hover:underline",children:"Recalculate"})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-white/5 rounded-xl",children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:a.calories}),e.jsx("p",{className:"text-xs text-gray-400",children:"Calories"})]}),e.jsxs("div",{className:"text-center p-4 bg-white/5 rounded-xl",children:[e.jsxs("p",{className:"text-2xl font-bold text-green-400",children:[a.proteinG,"g"]}),e.jsx("p",{className:"text-xs text-gray-400",children:"Protein"})]}),e.jsxs("div",{className:"text-center p-4 bg-white/5 rounded-xl",children:[e.jsxs("p",{className:"text-2xl font-bold text-blue-400",children:[a.carbsG,"g"]}),e.jsx("p",{className:"text-xs text-gray-400",children:"Carbs"})]}),e.jsxs("div",{className:"text-center p-4 bg-white/5 rounded-xl",children:[e.jsxs("p",{className:"text-2xl font-bold text-yellow-400",children:[a.fatG,"g"]}),e.jsx("p",{className:"text-xs text-gray-400",children:"Fat"})]})]}),a.workoutDayCalories>a.calories&&e.jsxs("div",{className:"mt-4 p-3 bg-green-500/10 rounded-xl text-sm text-green-300",children:[e.jsx(B,{className:"w-4 h-4 inline mr-2"}),"On workout days: ",a.workoutDayCalories," cal, ",a.workoutDayProteinG,"g protein"]}),e.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:["BMR: ",a.bmr," cal | TDEE: ",a.tdee," cal"]})]}),f&&e.jsxs(o,{className:"p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Calculate Your Goals"}),e.jsx(X,{onCalculate:T,isLoading:c})]}),e.jsxs(o,{className:"p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Preferences"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl cursor-pointer hover:bg-white/10 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Y,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Show on Dashboard"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Display nutrition widget on main dashboard"})]})]}),e.jsx("div",{onClick:()=>b("showOnDashboard"),className:`w-12 h-6 rounded-full p-1 transition-colors ${t?.showOnDashboard?"bg-green-500":"bg-white/20"}`,children:e.jsx(j.div,{className:"w-4 h-4 rounded-full bg-white",animate:{x:t?.showOnDashboard?24:0},transition:{type:"spring",stiffness:500,damping:30}})})]}),e.jsxs("label",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl cursor-pointer hover:bg-white/10 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(K,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Sync with Workouts"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Adjust calories on workout days"})]})]}),e.jsx("div",{onClick:()=>b("syncWithWorkouts"),className:`w-12 h-6 rounded-full p-1 transition-colors ${t?.syncWithWorkouts?"bg-green-500":"bg-white/20"}`,children:e.jsx(j.div,{className:"w-4 h-4 rounded-full bg-white",animate:{x:t?.syncWithWorkouts?24:0},transition:{type:"spring",stiffness:500,damping:30}})})]}),e.jsxs("label",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl cursor-pointer hover:bg-white/10 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(A,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Sync with Archetype"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Use archetype-specific nutrition profile"})]})]}),e.jsx("div",{onClick:()=>b("syncWithArchetype"),className:`w-12 h-6 rounded-full p-1 transition-colors ${t?.syncWithArchetype?"bg-green-500":"bg-white/20"}`,children:e.jsx(j.div,{className:"w-4 h-4 rounded-full bg-white",animate:{x:t?.syncWithArchetype?24:0},transition:{type:"spring",stiffness:500,damping:30}})})]})]})]}),e.jsxs(o,{className:"p-6 border border-red-500/20",children:[e.jsx("h2",{className:"text-lg font-semibold text-red-400 mb-4",children:"Danger Zone"}),L?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-500/10 rounded-xl",children:[e.jsx(V,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-red-400 font-medium",children:"Are you sure?"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"You can disable tracking and keep your data, or delete everything permanently."})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(i,{variant:"ghost",className:"flex-1",onClick:()=>p(!1),children:"Cancel"}),e.jsx(i,{variant:"ghost",className:"flex-1 text-yellow-400 border-yellow-400/30",onClick:()=>N(!1),disabled:c,children:"Disable Only"}),e.jsx(i,{variant:"ghost",className:"flex-1 text-red-400 border-red-400/30",onClick:()=>N(!0),disabled:c,children:"Delete All Data"})]})]}):e.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-3 w-full p-4 bg-red-500/10 rounded-xl text-left hover:bg-red-500/20 transition-colors",children:[e.jsx(q,{className:"w-5 h-5 text-red-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-red-400 font-medium",children:"Disable Nutrition Tracking"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Turn off tracking and optionally delete all data"})]}),e.jsx(z,{className:"w-5 h-5 text-red-400 ml-auto"})]})]})]})}),e.jsx(C,{})]}):e.jsxs("div",{className:"min-h-screen bg-gray-950",children:[e.jsx(G,{}),e.jsx(v,{}),e.jsx(k,{}),e.jsx("main",{className:"lg:pl-64 pt-16 pb-24 lg:pb-8",children:e.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs(o,{className:"p-8 text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-2xl bg-gradient-to-br from-green-500/20 to-emerald-500/20 flex items-center justify-center",children:e.jsx(A,{className:"w-10 h-10 text-green-400"})}),e.jsx("h1",{className:"text-2xl font-bold text-white mb-3",children:"Enable Nutrition Tracking"}),e.jsx("p",{className:"text-gray-400 mb-6 max-w-md mx-auto",children:"Track your meals, calories, and macros. Get personalized goals based on your body metrics and training archetype."}),e.jsxs("ul",{className:"text-left max-w-sm mx-auto mb-8 space-y-3",children:[e.jsxs("li",{className:"flex items-center gap-3 text-gray-300",children:[e.jsx(n,{className:"w-5 h-5 text-green-400"}),"Smart macro calculations"]}),e.jsxs("li",{className:"flex items-center gap-3 text-gray-300",children:[e.jsx(n,{className:"w-5 h-5 text-green-400"}),"Food database with barcode scanning"]}),e.jsxs("li",{className:"flex items-center gap-3 text-gray-300",children:[e.jsx(n,{className:"w-5 h-5 text-green-400"}),"Recipe & meal plan creation"]}),e.jsxs("li",{className:"flex items-center gap-3 text-gray-300",children:[e.jsx(n,{className:"w-5 h-5 text-green-400"}),"Archetype-specific recommendations"]}),e.jsxs("li",{className:"flex items-center gap-3 text-gray-300",children:[e.jsx(n,{className:"w-5 h-5 text-green-400"}),"Workout day calorie adjustments"]})]}),e.jsx(i,{variant:"primary",onClick:D,disabled:c,className:"w-full max-w-xs",children:c?"Enabling...":"Enable Nutrition Tracking"})]})})}),e.jsx(C,{})]})}export{fe as default};
