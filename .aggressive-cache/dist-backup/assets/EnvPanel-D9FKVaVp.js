import{r as a,j as e}from"./react-vendor-D1NxaRNd.js";import{G as N}from"./GlassSurface-BMiMerMg.js";import{L as v}from"./loader-circle-DomADKko.js";import{C as J}from"./circle-x-CzTKxUnZ.js";import{R as $}from"./refresh-cw-DKN_ISid.js";import{e as G,a9 as ne,ai as le,X as W,v as ie,bb as ce,a8 as oe}from"./index-DQWAB85b.js";import{S as de}from"./shield-check-CMiHnMZy.js";import{K as k}from"./key-Bz0CjJXL.js";import{C as M}from"./chevron-down-CQLwvwAX.js";import{C as F}from"./chevron-right-DHFnEUTE.js";import{T as Y}from"./triangle-alert-B_tDVAaX.js";import{H as me}from"./history-B8Xkp6cE.js";import{C as xe}from"./circle-check-big-DbeUmwgj.js";import{S as Q}from"./shield-alert-A1Cd3iMr.js";import{E as V}from"./eye-B-INNpgL.js";import{C as he}from"./check-DHU8jYOD.js";import{C as ue}from"./copy-CiKKiYLO.js";import{P as I}from"./pen-line-DG93HOP0.js";import{T as X}from"./trash-2-DPLvllCx.js";import{S as pe}from"./save-5XJKJZ5J.js";import"./leaflet-vendor-DZbo3Ov0.js";import"./recharts-vendor-BziRPEEi.js";import"./d3-vendor-mcDw60ct.js";import"./apollo-vendor-BMQ75Ycx.js";import"./reactflow-vendor-Dz2P_-Qa.js";const fe=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],A=G("eye-off",fe);const ge=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]],je=G("git-compare",ge),w="/api",ye=["SECRET","PASSWORD","TOKEN","KEY","PRIVATE","CREDENTIAL","AUTH","API_KEY","DATABASE_URL","REDIS_URL","JWT"];function C(s){const n=s.toUpperCase();return ye.some(i=>n.includes(i))}function _(s){return s?s.length<=4?"********":s.slice(0,2)+"********"+s.slice(-2):""}function be(s){if(!s)return"Unknown";const n=new Date(s),o=new Date-n,l=Math.floor(o/6e4),m=Math.floor(o/36e5),u=Math.floor(o/864e5);return l<1?"Just now":l<60?`${l}m ago`:m<24?`${m}h ago`:u<7?`${u}d ago`:n.toLocaleDateString()}function we(s){switch(s){case"created":return"text-green-400 bg-green-500/20";case"updated":return"text-blue-400 bg-blue-500/20";case"deleted":return"text-red-400 bg-red-500/20";default:return"text-gray-400 bg-gray-500/20"}}function Ne({variable:s,onEdit:n,onDelete:i,environment:o}){const[l,m]=a.useState(!1),[u,x]=a.useState(!1),d=C(s.key),b=async()=>{s.value&&(await navigator.clipboard.writeText(s.value),x(!0),setTimeout(()=>x(!1),2e3))};return e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-white/5 hover:bg-white/10 transition-colors group",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${d?"bg-red-500/20":"bg-blue-500/20"}`,children:d?e.jsx(Q,{className:"w-5 h-5 text-red-400"}):e.jsx(k,{className:"w-5 h-5 text-blue-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-white truncate",children:s.key}),d&&e.jsx("span",{className:"text-xs bg-red-500/20 text-red-400 px-1.5 py-0.5 rounded",children:"Sensitive"}),s.required&&e.jsx("span",{className:"text-xs bg-yellow-500/20 text-yellow-400 px-1.5 py-0.5 rounded",children:"Required"})]}),e.jsx("div",{className:"font-mono text-xs text-gray-400 mt-1 truncate",children:d&&!l?_(s.value):s.value||"(empty)"})]}),e.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[d&&e.jsx("button",{onClick:()=>m(!l),className:"p-1.5 rounded hover:bg-white/10 text-gray-400 transition-colors",title:l?"Hide value":"Show value",children:l?e.jsx(A,{className:"w-4 h-4"}):e.jsx(V,{className:"w-4 h-4"})}),e.jsx("button",{onClick:b,className:"p-1.5 rounded hover:bg-white/10 text-gray-400 transition-colors",title:"Copy value",children:u?e.jsx(he,{className:"w-4 h-4 text-green-400"}):e.jsx(ue,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>n(s),className:"p-1.5 rounded hover:bg-white/10 text-gray-400 transition-colors",title:"Edit variable",children:e.jsx(I,{className:"w-4 h-4"})}),!s.required&&e.jsx("button",{onClick:()=>i(s),className:"p-1.5 rounded hover:bg-red-500/20 text-gray-400 hover:text-red-400 transition-colors",title:"Delete variable",children:e.jsx(X,{className:"w-4 h-4"})})]})]})}function ve({variable:s,onSave:n,onClose:i,saving:o}){const[l,m]=a.useState(s?.key||""),[u,x]=a.useState(s?.value||""),[d,b]=a.useState(!1),c=!s?.key,j=C(l),S=p=>{p.preventDefault(),l.trim()&&n({key:l.trim(),value:u.trim()})};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:e.jsxs("div",{className:"w-full max-w-lg rounded-xl bg-gray-900/95 border border-white/10 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[c?e.jsx(k,{className:"w-5 h-5 text-cyan-400"}):e.jsx(I,{className:"w-5 h-5 text-cyan-400"}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:c?"Add Variable":"Edit Variable"})]}),e.jsx("button",{onClick:i,className:"p-1.5 rounded hover:bg-white/10 transition-colors",children:e.jsx(W,{className:"w-5 h-5 text-gray-400"})})]}),e.jsxs("form",{onSubmit:S,className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Variable Name"}),e.jsx("input",{type:"text",value:l,onChange:p=>m(p.target.value.toUpperCase().replace(/[^A-Z0-9_]/g,"")),placeholder:"MY_VARIABLE_NAME",className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500 font-mono",disabled:!c,autoFocus:c}),j&&e.jsxs("p",{className:"mt-1 text-xs text-red-400 flex items-center gap-1",children:[e.jsx(Q,{className:"w-3 h-3"}),"This key name indicates a sensitive value"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Value"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:d||!j?"text":"password",value:u,onChange:p=>x(p.target.value),placeholder:"Enter value...",className:"w-full px-3 py-2 pr-10 rounded-lg bg-white/5 border border-white/10 text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500 font-mono"}),j&&e.jsx("button",{type:"button",onClick:()=>b(!d),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded hover:bg-white/10 text-gray-400 transition-colors",children:d?e.jsx(A,{className:"w-4 h-4"}):e.jsx(V,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[e.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 rounded-lg text-sm text-gray-400 hover:bg-white/5 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:o||!l.trim(),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(pe,{className:"w-4 h-4"}),c?"Add Variable":"Save Changes"]})})]})]})]})})}function ke({varKey:s,devValue:n,prodValue:i}){const[o,l]=a.useState(!1),[m,u]=a.useState(!1),x=C(s),d=n!==i;return e.jsxs("div",{className:`grid grid-cols-3 gap-3 p-3 rounded-lg ${d?"bg-yellow-500/10 border border-yellow-500/20":"bg-white/5"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-mono text-white truncate",children:s}),d&&e.jsx(Y,{className:"w-4 h-4 text-yellow-400 flex-shrink-0"})]}),e.jsxs("div",{className:"flex items-center gap-2 font-mono text-xs",children:[e.jsx("span",{className:n?"text-gray-300":"text-gray-600",children:n?x&&!o?_(n):n:"(not set)"}),x&&n&&e.jsx("button",{onClick:()=>l(!o),className:"p-1 rounded hover:bg-white/10 text-gray-400 transition-colors flex-shrink-0",children:o?e.jsx(A,{className:"w-3 h-3"}):e.jsx(V,{className:"w-3 h-3"})})]}),e.jsxs("div",{className:"flex items-center gap-2 font-mono text-xs",children:[e.jsx("span",{className:i?"text-gray-300":"text-gray-600",children:i?x&&!m?_(i):i:"(not set)"}),x&&i&&e.jsx("button",{onClick:()=>u(!m),className:"p-1 rounded hover:bg-white/10 text-gray-400 transition-colors flex-shrink-0",children:m?e.jsx(A,{className:"w-3 h-3"}):e.jsx(V,{className:"w-3 h-3"})})]})]})}function Ce({entry:s}){const n=we(s.type);return e.jsxs("div",{className:"flex gap-3 py-3 border-b border-white/5 last:border-0",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${n}`,children:[s.type==="created"&&e.jsx(k,{className:"w-4 h-4"}),s.type==="updated"&&e.jsx(I,{className:"w-4 h-4"}),s.type==="deleted"&&e.jsx(X,{className:"w-4 h-4"})]}),e.jsx("div",{className:"flex-1 w-px bg-white/10 mt-2"})]}),e.jsxs("div",{className:"flex-1 min-w-0 pb-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:`font-medium ${n.split(" ")[0]}`,children:s.type.charAt(0).toUpperCase()+s.type.slice(1)}),e.jsx("span",{className:"font-mono text-white",children:s.key})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-400",children:[e.jsx(ce,{className:"w-3 h-3"}),e.jsx("span",{children:s.user||"System"}),e.jsx("span",{className:"text-gray-600",children:"•"}),e.jsx(oe,{className:"w-3 h-3"}),e.jsx("span",{children:be(s.timestamp)})]}),s.oldValue!==void 0&&s.newValue!==void 0&&e.jsx("div",{className:"mt-2 text-xs",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-red-400 line-through font-mono",children:C(s.key)?"********":s.oldValue||"(empty)"}),e.jsx("span",{className:"text-gray-500",children:"→"}),e.jsx("span",{className:"text-green-400 font-mono",children:C(s.key)?"********":s.newValue||"(empty)"})]})})]})]})}function Se({result:s}){const n=s.status==="valid",i=s.status==="warning";return e.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg ${n?"bg-green-500/10 border border-green-500/20":i?"bg-yellow-500/10 border border-yellow-500/20":"bg-red-500/10 border border-red-500/20"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0 ${n?"bg-green-500/20":i?"bg-yellow-500/20":"bg-red-500/20"}`,children:n?e.jsx(xe,{className:`w-5 h-5 ${n?"text-green-400":i?"text-yellow-400":"text-red-400"}`}):e.jsx(J,{className:`w-5 h-5 ${i?"text-yellow-400":"text-red-400"}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:s.check}),e.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${n?"bg-green-500/20 text-green-400":i?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:s.status})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:s.message}),s.details&&e.jsx("ul",{className:"mt-2 text-xs text-gray-500 list-disc list-inside",children:s.details.map((o,l)=>e.jsx("li",{children:o},l))})]})]})}function Xe(){const[s,n]=a.useState([]),[i,o]=a.useState([]),[l,m]=a.useState(""),[u,x]=a.useState(!0),[d,b]=a.useState(null),[c,j]=a.useState("variables"),[S,p]=a.useState(null),[Z,P]=a.useState(!1),[y,ee]=a.useState(null),[R,U]=a.useState(!1),[E,se]=a.useState([]),[L,K]=a.useState(!1),[H,O]=a.useState(null),[B,q]=a.useState(!1),h=a.useCallback(()=>{try{const t=localStorage.getItem("musclemap-auth");if(t){const f=JSON.parse(t);if(f?.state?.token)return{Authorization:`Bearer ${f.state.token}`}}const r=localStorage.getItem("musclemap_token");return r?{Authorization:`Bearer ${r}`}:{}}catch{return{}}},[]),g=a.useCallback(async()=>{try{x(!0),b(null);const t=await fetch(`${w}/admin/env/variables`,{headers:h()});if(!t.ok)throw new Error(`Failed to fetch variables: ${t.status}`);const r=await t.json(),f=r.databaseOverrides||r.variables||[];n(f),o(f)}catch(t){b(t.message)}finally{x(!1)}},[h]);a.useEffect(()=>{if(!l.trim())o(s);else{const t=l.toLowerCase();o(s.filter(r=>r.key.toLowerCase().includes(t)||r.value&&r.value.toLowerCase().includes(t)))}},[l,s]);const te=a.useCallback(async t=>{try{P(!0);const r=`${w}/admin/env/variables/${encodeURIComponent(t.key)}`,f=await fetch(r,{method:"PUT",headers:{"Content-Type":"application/json",...h()},body:JSON.stringify({value:t.value,environment:"production"})});if(!f.ok){const z=await f.json().catch(()=>({}));throw new Error(z.error?.message||z.message||`Failed to save: ${f.status}`)}await g(),p(null)}catch(r){alert(r.message)}finally{P(!1)}},[h,g]),ae=a.useCallback(async t=>{if(confirm(`Are you sure you want to delete ${t.key}?`))try{const r=await fetch(`${w}/admin/env/variables/${encodeURIComponent(t.key)}?environment=production`,{method:"DELETE",headers:h()});if(!r.ok)throw new Error(`Failed to delete: ${r.status}`);await g()}catch(r){alert(r.message)}},[h,g]),T=a.useCallback(async()=>{try{U(!0);const t=await fetch(`${w}/admin/env/compare`,{headers:h()});if(!t.ok)throw new Error(`Failed to fetch comparison: ${t.status}`);const r=await t.json();ee(r)}catch{}finally{U(!1)}},[h]),D=a.useCallback(async()=>{try{K(!0);const t=await fetch(`${w}/admin/env/audit`,{headers:h()});if(!t.ok)throw new Error(`Failed to fetch audit log: ${t.status}`);const r=await t.json();se(r.entries||[])}catch{}finally{K(!1)}},[h]),re=a.useCallback(async()=>{try{q(!0);const t=await fetch(`${w}/admin/env/validate`,{method:"POST",headers:h()});if(!t.ok)throw new Error(`Validation failed: ${t.status}`);const r=await t.json();O(r.results||[])}catch{}finally{q(!1)}},[h]);return a.useEffect(()=>{g()},[g]),a.useEffect(()=>{c==="comparison"&&!y&&T(),c==="audit"&&E.length===0&&D()},[c,y,E.length,T,D]),u?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(v,{className:"w-8 h-8 animate-spin text-cyan-400"})}):d?e.jsx(N,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col items-center gap-4 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-red-500/20 flex items-center justify-center",children:e.jsx(J,{className:"w-8 h-8 text-red-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:"Failed to Load"}),e.jsx("p",{className:"text-sm text-gray-400",children:d})]}),e.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors",children:[e.jsx($,{className:"w-4 h-4"}),"Retry"]})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(ne,{className:"w-6 h-6 text-cyan-400"}),"Environment Variables"]}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Manage configuration across environments"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:re,disabled:B,className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-green-500/20 hover:bg-green-500/30 text-green-400 border border-green-500/20 transition-colors disabled:opacity-50",children:[B?e.jsx(v,{className:"w-4 h-4 animate-spin"}):e.jsx(de,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Validate"})]}),e.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/5 hover:bg-white/10 border border-white/10 transition-colors",children:[e.jsx($,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-300",children:"Refresh"})]})]})]}),H&&e.jsxs(N,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[e.jsx(le,{className:"w-4 h-4 text-green-400"}),"Validation Results"]}),e.jsx("button",{onClick:()=>O(null),className:"p-1 rounded hover:bg-white/10 transition-colors",children:e.jsx(W,{className:"w-4 h-4 text-gray-400"})})]}),e.jsx("div",{className:"space-y-2",children:H.map((t,r)=>e.jsx(Se,{result:t},r))})]}),e.jsxs(N,{className:"p-4",children:[e.jsxs("button",{onClick:()=>j(c==="variables"?"":"variables"),className:"w-full flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[e.jsx(k,{className:"w-4 h-4 text-cyan-400"}),"Variables (",s.length,")"]}),c==="variables"?e.jsx(M,{className:"w-4 h-4 text-gray-400"}):e.jsx(F,{className:"w-4 h-4 text-gray-400"})]}),c==="variables"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ie,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:l,onChange:t=>m(t.target.value),placeholder:"Search variables...",className:"w-full pl-10 pr-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500 text-sm"})]}),e.jsxs("button",{onClick:()=>p({}),className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-cyan-500/20 hover:bg-cyan-500/30 text-cyan-400 transition-colors",children:[e.jsx(k,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Add Variable"})]})]}),e.jsx("div",{className:"space-y-2 max-h-96 overflow-auto",children:i.length===0?e.jsx("div",{className:"text-center py-8 text-gray-400",children:l?"No variables match your search":"No variables configured"}):i.map(t=>e.jsx(Ne,{variable:t,onEdit:p,onDelete:ae},t.key))})]})]}),e.jsxs(N,{className:"p-4",children:[e.jsxs("button",{onClick:()=>j(c==="comparison"?"":"comparison"),className:"w-full flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[e.jsx(je,{className:"w-4 h-4 text-purple-400"}),"Environment Comparison"]}),c==="comparison"?e.jsx(M,{className:"w-4 h-4 text-gray-400"}):e.jsx(F,{className:"w-4 h-4 text-gray-400"})]}),c==="comparison"&&e.jsxs(e.Fragment,{children:[R?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(v,{className:"w-6 h-6 animate-spin text-cyan-400"})}):y?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3 text-xs font-medium text-gray-400",children:[e.jsx("div",{children:"Variable"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-400"}),"Development"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-green-400"}),"Production"]})]}),e.jsx("div",{className:"space-y-2 max-h-96 overflow-auto",children:y.variables?.map(t=>e.jsx(ke,{varKey:t.key,devValue:t.dev,prodValue:t.prod},t.key))}),y.differences>0&&e.jsxs("div",{className:"mt-3 p-2 rounded bg-yellow-500/10 border border-yellow-500/20 text-xs text-yellow-400 flex items-center gap-2",children:[e.jsx(Y,{className:"w-4 h-4"}),y.differences," variable",y.differences!==1?"s":""," ","differ between environments"]})]}):e.jsx("div",{className:"text-center py-8 text-gray-400",children:"Failed to load comparison data"}),e.jsxs("button",{onClick:T,disabled:R,className:"mt-3 flex items-center gap-2 px-3 py-2 rounded-lg bg-white/5 hover:bg-white/10 text-gray-400 transition-colors disabled:opacity-50",children:[e.jsx($,{className:`w-4 h-4 ${R?"animate-spin":""}`}),e.jsx("span",{className:"text-sm",children:"Refresh Comparison"})]})]})]}),e.jsxs(N,{className:"p-4",children:[e.jsxs("button",{onClick:()=>j(c==="audit"?"":"audit"),className:"w-full flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[e.jsx(me,{className:"w-4 h-4 text-orange-400"}),"Audit Log"]}),c==="audit"?e.jsx(M,{className:"w-4 h-4 text-gray-400"}):e.jsx(F,{className:"w-4 h-4 text-gray-400"})]}),c==="audit"&&e.jsxs(e.Fragment,{children:[L?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(v,{className:"w-6 h-6 animate-spin text-cyan-400"})}):E.length>0?e.jsx("div",{className:"max-h-96 overflow-auto",children:E.map((t,r)=>e.jsx(Ce,{entry:t},r))}):e.jsx("div",{className:"text-center py-8 text-gray-400",children:"No audit log entries found"}),e.jsxs("button",{onClick:D,disabled:L,className:"mt-3 flex items-center gap-2 px-3 py-2 rounded-lg bg-white/5 hover:bg-white/10 text-gray-400 transition-colors disabled:opacity-50",children:[e.jsx($,{className:`w-4 h-4 ${L?"animate-spin":""}`}),e.jsx("span",{className:"text-sm",children:"Refresh Log"})]})]})]}),S!==null&&e.jsx(ve,{variable:S,onSave:te,onClose:()=>p(null),saving:Z})]})}export{Xe as default};
