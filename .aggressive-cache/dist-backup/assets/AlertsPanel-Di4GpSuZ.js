import{r as c,j as e}from"./react-vendor-D1NxaRNd.js";import{G as R}from"./GlassSurface-BMiMerMg.js";import{L as $}from"./loader-circle-DK5iRVaE.js";import{k as F,p as re,ab as ie,P as _,aa as I,Z as oe,M as ce,X as de}from"./index-Ccc0k-LV.js";import{R as me}from"./refresh-cw--UgqUSLd.js";import{C as P}from"./chevron-down-Cbq1_bAQ.js";import{C as D}from"./chevron-right-BHxPzRuv.js";import{S as he}from"./send-Bmm2bh_u.js";import{M as B}from"./mail-iDOqFdgq.js";import{C as xe}from"./circle-check-big-CScZQ-nr.js";import{T as O}from"./triangle-alert-CEKTQ3Ql.js";import{I as W}from"./info-B48uNrQx.js";import{P as J}from"./pen-_GlP3ZT5.js";import{T as z}from"./trash-2-CUWAUmYf.js";import{C as ue}from"./circle-x-DmCrv33A.js";import"./leaflet-vendor-DZbo3Ov0.js";import"./recharts-vendor-BziRPEEi.js";import"./d3-vendor-mcDw60ct.js";import"./apollo-vendor-BMQ75Ycx.js";import"./reactflow-vendor-Dz2P_-Qa.js";const ge=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],be=F("bell-off",ge);const pe=[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]],fe=F("webhook",pe),x="/api/admin/alerts",T=[{id:"cpu_usage",name:"CPU Usage",unit:"%"},{id:"memory_usage",name:"Memory Usage",unit:"%"},{id:"disk_usage",name:"Disk Usage",unit:"%"},{id:"api_latency",name:"API Latency",unit:"ms"},{id:"error_rate",name:"Error Rate",unit:"%"},{id:"request_count",name:"Request Count",unit:"/min"},{id:"active_connections",name:"Active Connections",unit:""},{id:"database_connections",name:"DB Connections",unit:""}],M=[{id:"gt",name:"Greater than",symbol:">"},{id:"gte",name:"Greater than or equal",symbol:">="},{id:"lt",name:"Less than",symbol:"<"},{id:"lte",name:"Less than or equal",symbol:"<="},{id:"eq",name:"Equal to",symbol:"="},{id:"neq",name:"Not equal to",symbol:"!="}],q=[{id:"critical",name:"Critical",color:"#ef4444",bgColor:"bg-red-500/20",textColor:"text-red-400"},{id:"warning",name:"Warning",color:"#f59e0b",bgColor:"bg-yellow-500/20",textColor:"text-yellow-400"},{id:"info",name:"Info",color:"#3b82f6",bgColor:"bg-blue-500/20",textColor:"text-blue-400"}],U=[{id:"email",name:"Email",icon:B,color:"#3b82f6"},{id:"slack",name:"Slack",icon:ce,color:"#4A154B"},{id:"webhook",name:"Webhook",icon:fe,color:"#10b981"}];function G(t){return t?new Date(t).toLocaleString():"N/A"}function X(t){return q.find(l=>l.id===t)||q[2]}function ye(t){const l=T.find(o=>o.id===t);return l?l.name:t}function je(t){const l=M.find(o=>o.id===t);return l?l.symbol:t}function L(t){const l=T.find(o=>o.id===t);return l?l.unit:""}function H({isOpen:t,onClose:l,title:o,children:d}){return t?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:l}),e.jsxs("div",{className:"relative w-full max-w-lg bg-gray-900/95 border border-white/10 rounded-xl shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:o}),e.jsx("button",{onClick:l,className:"p-1 rounded hover:bg-white/10 transition-colors",children:e.jsx(de,{className:"w-5 h-5 text-gray-400"})})]}),e.jsx("div",{className:"p-4",children:d})]})]}):null}function A({enabled:t,onChange:l,disabled:o}){return e.jsx("button",{onClick:()=>l(!t),disabled:o,className:`
        relative w-10 h-6 rounded-full transition-colors duration-200
        ${t?"bg-green-500":"bg-gray-600"}
        ${o?"opacity-50 cursor-not-allowed":"cursor-pointer"}
      `,children:e.jsx("div",{className:`
          absolute top-1 w-4 h-4 rounded-full bg-white shadow transition-transform duration-200
          ${t?"translate-x-5":"translate-x-1"}
        `})})}function we({rule:t,onEdit:l,onDelete:o,onToggle:d,onTest:a}){const[i,h]=c.useState(!1),s=X(t.severity),S=async()=>{h(!0),await a(t.id),h(!1)};return e.jsxs("div",{className:`p-4 rounded-lg bg-white/5 border ${t.enabled?"border-white/10":"border-white/5 opacity-60"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${s.bgColor}`,children:[t.severity==="critical"&&e.jsx(O,{className:`w-5 h-5 ${s.textColor}`}),t.severity==="warning"&&e.jsx(O,{className:`w-5 h-5 ${s.textColor}`}),t.severity==="info"&&e.jsx(W,{className:`w-5 h-5 ${s.textColor}`})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-white",children:t.name}),e.jsxs("div",{className:"text-xs text-gray-400",children:[ye(t.metric)," ",je(t.condition)," ",t.threshold,L(t.metric)]})]})]}),e.jsx(A,{enabled:t.enabled,onChange:y=>d(t.id,y)})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${s.bgColor} ${s.textColor}`,children:s.name}),t.lastTriggered&&e.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[e.jsx(I,{className:"w-3 h-3"}),"Last: ",G(t.lastTriggered)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:S,disabled:i,className:"flex items-center gap-1 px-2 py-1 rounded text-xs bg-cyan-500/20 hover:bg-cyan-500/30 text-cyan-400 transition-colors disabled:opacity-50",children:[i?e.jsx($,{className:"w-3 h-3 animate-spin"}):e.jsx(oe,{className:"w-3 h-3"}),"Test"]}),e.jsxs("button",{onClick:()=>l(t),className:"flex items-center gap-1 px-2 py-1 rounded text-xs bg-white/5 hover:bg-white/10 text-gray-300 transition-colors",children:[e.jsx(J,{className:"w-3 h-3"}),"Edit"]}),e.jsxs("button",{onClick:()=>o(t.id),className:"flex items-center gap-1 px-2 py-1 rounded text-xs bg-red-500/20 hover:bg-red-500/30 text-red-400 transition-colors",children:[e.jsx(z,{className:"w-3 h-3"}),"Delete"]})]})]})}function Ne({alert:t}){const l=X(t.severity);return e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-white/5",children:[e.jsxs("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${l.bgColor}`,children:[t.severity==="critical"&&e.jsx(ue,{className:`w-4 h-4 ${l.textColor}`}),t.severity==="warning"&&e.jsx(O,{className:`w-4 h-4 ${l.textColor}`}),t.severity==="info"&&e.jsx(W,{className:`w-4 h-4 ${l.textColor}`})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-white truncate",children:t.message}),e.jsxs("div",{className:"text-xs text-gray-400",children:[t.ruleName," - ",G(t.timestamp)]})]}),e.jsx("div",{className:`text-xs px-2 py-0.5 rounded ${l.bgColor} ${l.textColor}`,children:l.name})]})}function ve({channel:t,onEdit:l,onDelete:o,onToggle:d}){const a=U.find(h=>h.id===t.type)||U[0],i=a.icon;return e.jsxs("div",{className:`p-4 rounded-lg bg-white/5 border ${t.enabled?"border-white/10":"border-white/5 opacity-60"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:`${a.color}20`},children:e.jsx(i,{className:"w-5 h-5",style:{color:a.color}})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-white",children:t.name}),e.jsx("div",{className:"text-xs text-gray-400",children:a.name})]})]}),e.jsx(A,{enabled:t.enabled,onChange:h=>d(t.id,h)})]}),e.jsxs("div",{className:"text-xs text-gray-400 mb-3 truncate",children:[t.type==="email"&&t.config?.email,t.type==="slack"&&t.config?.webhookUrl?.substring(0,40)+"...",t.type==="webhook"&&t.config?.url?.substring(0,40)+"..."]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>l(t),className:"flex items-center gap-1 px-2 py-1 rounded text-xs bg-white/5 hover:bg-white/10 text-gray-300 transition-colors",children:[e.jsx(J,{className:"w-3 h-3"}),"Edit"]}),e.jsxs("button",{onClick:()=>o(t.id),className:"flex items-center gap-1 px-2 py-1 rounded text-xs bg-red-500/20 hover:bg-red-500/30 text-red-400 transition-colors",children:[e.jsx(z,{className:"w-3 h-3"}),"Delete"]})]})]})}function Ce({rule:t,onSave:l,onCancel:o,loading:d}){const[a,i]=c.useState({name:t?.name||"",metric:t?.metric||T[0].id,condition:t?.condition||M[0].id,threshold:t?.threshold||0,severity:t?.severity||"warning",enabled:t?.enabled??!0,channels:t?.channels||[]}),h=s=>{s.preventDefault(),l(a)};return e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Rule Name"}),e.jsx("input",{type:"text",value:a.name,onChange:s=>i({...a,name:s.target.value}),placeholder:"High CPU Alert",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Metric"}),e.jsx("select",{value:a.metric,onChange:s=>i({...a,metric:s.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-cyan-500",children:T.map(s=>e.jsx("option",{value:s.id,className:"bg-gray-900",children:s.name},s.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Condition"}),e.jsx("select",{value:a.condition,onChange:s=>i({...a,condition:s.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-cyan-500",children:M.map(s=>e.jsxs("option",{value:s.id,className:"bg-gray-900",children:[s.name," (",s.symbol,")"]},s.id))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Threshold ",L(a.metric)&&`(${L(a.metric)})`]}),e.jsx("input",{type:"number",value:a.threshold,onChange:s=>i({...a,threshold:parseFloat(s.target.value)||0}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-cyan-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Severity"}),e.jsx("select",{value:a.severity,onChange:s=>i({...a,severity:s.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-cyan-500",children:q.map(s=>e.jsx("option",{value:s.id,className:"bg-gray-900",children:s.name},s.id))})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{enabled:a.enabled,onChange:s=>i({...a,enabled:s})}),e.jsx("span",{className:"text-sm text-gray-300",children:"Enable rule"})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t border-white/10",children:[e.jsx("button",{type:"button",onClick:o,className:"px-4 py-2 rounded-lg bg-white/5 hover:bg-white/10 text-gray-300 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:d,className:"px-4 py-2 rounded-lg bg-cyan-500 hover:bg-cyan-600 text-white transition-colors disabled:opacity-50",children:d?e.jsx($,{className:"w-4 h-4 animate-spin"}):t?"Update Rule":"Create Rule"})]})]})}function ke({channel:t,onSave:l,onCancel:o,loading:d}){const[a,i]=c.useState({name:t?.name||"",type:t?.type||"email",enabled:t?.enabled??!0,config:t?.config||{}}),h=s=>{s.preventDefault(),l(a)};return e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Channel Name"}),e.jsx("input",{type:"text",value:a.name,onChange:s=>i({...a,name:s.target.value}),placeholder:"Production Alerts",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Channel Type"}),e.jsx("select",{value:a.type,onChange:s=>i({...a,type:s.target.value,config:{}}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-cyan-500",children:U.map(s=>e.jsx("option",{value:s.id,className:"bg-gray-900",children:s.name},s.id))})]}),a.type==="email"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email Address"}),e.jsx("input",{type:"email",value:a.config.email||"",onChange:s=>i({...a,config:{...a.config,email:s.target.value}}),placeholder:"alerts@example.com",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500",required:!0})]}),a.type==="slack"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Webhook URL"}),e.jsx("input",{type:"url",value:a.config.webhookUrl||"",onChange:s=>i({...a,config:{...a.config,webhookUrl:s.target.value}}),placeholder:"https://hooks.slack.com/services/...",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Channel (optional)"}),e.jsx("input",{type:"text",value:a.config.channel||"",onChange:s=>i({...a,config:{...a.config,channel:s.target.value}}),placeholder:"#alerts",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500"})]})]}),a.type==="webhook"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Webhook URL"}),e.jsx("input",{type:"url",value:a.config.url||"",onChange:s=>i({...a,config:{...a.config,url:s.target.value}}),placeholder:"https://api.example.com/webhook",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"HTTP Method"}),e.jsxs("select",{value:a.config.method||"POST",onChange:s=>i({...a,config:{...a.config,method:s.target.value}}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-cyan-500",children:[e.jsx("option",{value:"POST",className:"bg-gray-900",children:"POST"}),e.jsx("option",{value:"PUT",className:"bg-gray-900",children:"PUT"}),e.jsx("option",{value:"PATCH",className:"bg-gray-900",children:"PATCH"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Secret Header (optional)"}),e.jsx("input",{type:"text",value:a.config.secret||"",onChange:s=>i({...a,config:{...a.config,secret:s.target.value}}),placeholder:"X-Webhook-Secret: your-secret",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{enabled:a.enabled,onChange:s=>i({...a,enabled:s})}),e.jsx("span",{className:"text-sm text-gray-300",children:"Enable channel"})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t border-white/10",children:[e.jsx("button",{type:"button",onClick:o,className:"px-4 py-2 rounded-lg bg-white/5 hover:bg-white/10 text-gray-300 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:d,className:"px-4 py-2 rounded-lg bg-cyan-500 hover:bg-cyan-600 text-white transition-colors disabled:opacity-50",children:d?e.jsx($,{className:"w-4 h-4 animate-spin"}):t?"Update Channel":"Create Channel"})]})]})}function ze(){const[t,l]=c.useState([]),[o,d]=c.useState([]),[a,i]=c.useState([]),[h,s]=c.useState(!0),[S,y]=c.useState(!1),[b,E]=c.useState("rules"),[Z,j]=c.useState(!1),[V,w]=c.useState(!1),[N,v]=c.useState(null),[C,k]=c.useState(null),u=c.useCallback(()=>{try{const n=localStorage.getItem("musclemap-auth");if(n){const m=JSON.parse(n);if(m?.state?.token)return{Authorization:`Bearer ${m.state.token}`}}const r=localStorage.getItem("musclemap_token");return r?{Authorization:`Bearer ${r}`}:{}}catch{return{}}},[]),p=c.useCallback(async()=>{try{const[n,r,m]=await Promise.all([fetch(`${x}/rules`,{headers:u()}),fetch(`${x}/channels`,{headers:u()}),fetch(`${x}/history`,{headers:u()})]);if(n.ok){const g=await n.json();l(g.rules||[])}if(r.ok){const g=await r.json();d(g.channels||[])}if(m.ok){const g=await m.json();i(g.alerts||[])}}catch{}finally{s(!1)}},[u]),Y=async n=>{y(!0);try{const r=N?`${x}/rules/${N.id}`:`${x}/rules`;(await fetch(r,{method:N?"PUT":"POST",headers:{"Content-Type":"application/json",...u()},body:JSON.stringify(n)})).ok&&(j(!1),v(null),p())}catch{}finally{y(!1)}},K=async n=>{if(confirm("Are you sure you want to delete this rule?"))try{(await fetch(`${x}/rules/${n}`,{method:"DELETE",headers:u()})).ok&&p()}catch{}},Q=async(n,r)=>{try{(await fetch(`${x}/rules/${n}/toggle`,{method:"PATCH",headers:{"Content-Type":"application/json",...u()},body:JSON.stringify({enabled:r})})).ok&&l(g=>g.map(f=>f.id===n?{...f,enabled:r}:f))}catch{}},ee=async n=>{try{const r=await fetch(`${x}/test/${n}`,{method:"POST",headers:u()});if(r.ok){const m=await r.json();alert(m.message||"Test alert sent successfully!")}else alert("Failed to send test alert")}catch{alert("Failed to send test alert")}},te=async n=>{y(!0);try{const r=C?`${x}/channels/${C.id}`:`${x}/channels`;(await fetch(r,{method:C?"PUT":"POST",headers:{"Content-Type":"application/json",...u()},body:JSON.stringify(n)})).ok&&(w(!1),k(null),p())}catch{}finally{y(!1)}},se=async n=>{if(confirm("Are you sure you want to delete this channel?"))try{(await fetch(`${x}/channels/${n}`,{method:"DELETE",headers:u()})).ok&&p()}catch{}},ae=async(n,r)=>{try{(await fetch(`${x}/channels/${n}/toggle`,{method:"PATCH",headers:{"Content-Type":"application/json",...u()},body:JSON.stringify({enabled:r})})).ok&&d(g=>g.map(f=>f.id===n?{...f,enabled:r}:f))}catch{}},ne=n=>{v(n),j(!0)},le=n=>{k(n),w(!0)};return c.useEffect(()=>{p()},[p]),h?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx($,{className:"w-8 h-8 animate-spin text-cyan-400"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(re,{className:"w-6 h-6 text-cyan-400"}),"Alerts Configuration"]}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Configure alert rules and notification channels"})]}),e.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/5 hover:bg-white/10 border border-white/10 transition-colors",children:[e.jsx(me,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-300",children:"Refresh"})]})]}),e.jsxs(R,{className:"p-4",children:[e.jsxs("button",{onClick:()=>E(b==="rules"?"":"rules"),className:"w-full flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[e.jsx(ie,{className:"w-4 h-4 text-yellow-400"}),"Alert Rules (",t.length,")"]}),b==="rules"?e.jsx(P,{className:"w-4 h-4 text-gray-400"}):e.jsx(D,{className:"w-4 h-4 text-gray-400"})]}),b==="rules"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-4",children:e.jsxs("button",{onClick:()=>{v(null),j(!0)},className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-cyan-500/20 hover:bg-cyan-500/30 text-cyan-400 transition-colors",children:[e.jsx(_,{className:"w-4 h-4"}),"Add Rule"]})}),t.length===0?e.jsxs("div",{className:"text-center text-gray-400 py-8",children:[e.jsx(be,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No alert rules configured"}),e.jsx("p",{className:"text-sm",children:"Create a rule to start monitoring"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map(n=>e.jsx(we,{rule:n,onEdit:ne,onDelete:K,onToggle:Q,onTest:ee},n.id))})]})]}),e.jsxs(R,{className:"p-4",children:[e.jsxs("button",{onClick:()=>E(b==="channels"?"":"channels"),className:"w-full flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[e.jsx(he,{className:"w-4 h-4 text-green-400"}),"Notification Channels (",o.length,")"]}),b==="channels"?e.jsx(P,{className:"w-4 h-4 text-gray-400"}):e.jsx(D,{className:"w-4 h-4 text-gray-400"})]}),b==="channels"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-4",children:e.jsxs("button",{onClick:()=>{k(null),w(!0)},className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-green-500/20 hover:bg-green-500/30 text-green-400 transition-colors",children:[e.jsx(_,{className:"w-4 h-4"}),"Add Channel"]})}),o.length===0?e.jsxs("div",{className:"text-center text-gray-400 py-8",children:[e.jsx(B,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No notification channels configured"}),e.jsx("p",{className:"text-sm",children:"Add a channel to receive alerts"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map(n=>e.jsx(ve,{channel:n,onEdit:le,onDelete:se,onToggle:ae},n.id))})]})]}),e.jsxs(R,{className:"p-4",children:[e.jsxs("button",{onClick:()=>E(b==="history"?"":"history"),className:"w-full flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[e.jsx(I,{className:"w-4 h-4 text-purple-400"}),"Alert History (",a.length,")"]}),b==="history"?e.jsx(P,{className:"w-4 h-4 text-gray-400"}):e.jsx(D,{className:"w-4 h-4 text-gray-400"})]}),b==="history"&&e.jsx(e.Fragment,{children:a.length===0?e.jsxs("div",{className:"text-center text-gray-400 py-8",children:[e.jsx(xe,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No alerts triggered yet"}),e.jsx("p",{className:"text-sm",children:"Alerts will appear here when triggered"})]}):e.jsx("div",{className:"space-y-2 max-h-96 overflow-auto",children:a.map((n,r)=>e.jsx(Ne,{alert:n},n.id||r))})})]}),e.jsx(H,{isOpen:Z,onClose:()=>{j(!1),v(null)},title:N?"Edit Alert Rule":"Create Alert Rule",children:e.jsx(Ce,{rule:N,onSave:Y,onCancel:()=>{j(!1),v(null)},loading:S})}),e.jsx(H,{isOpen:V,onClose:()=>{w(!1),k(null)},title:C?"Edit Notification Channel":"Create Notification Channel",children:e.jsx(ke,{channel:C,onSave:te,onCancel:()=>{w(!1),k(null)},loading:S})})]})}export{ze as default};
