import{R as q}from"./RouteNode-Cd0ywJ_D.js";import{A as qe,u as et,a as tt}from"./RouteNode-Cd0ywJ_D.js";import{j as e,r as p,u as $,d as O}from"./react-vendor-D847gc3Q.js";import{a as P,R as ee,b as te,d as se,e as H,B as G,f as Y,C as oe,M as re}from"./reactflow-vendor-5ig9bY2l.js";import{A as Q,m as T}from"./index-DhiiJXo_.js";import{D as ot}from"./DocsAtlas-UmOkP6jc.js";import{R as at}from"./RoadmapAtlas-Divl-rIT.js";import{A as it}from"./ArchitectureAtlas-Be9ByS_w.js";import"./leaflet-vendor-DZbo3Ov0.js";import"./d3-vendor-DkU_Wy0v.js";import"./apollo-vendor-BNHFeEEc.js";import"./recharts-vendor-d8oTApeF.js";function ae({searchQuery:t,onSearchChange:s,showSearch:o=!0}){const{zoomIn:r,zoomOut:a,fitView:l}=P();return e.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2 z-10",children:[o&&e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:t,onChange:i=>s(i.target.value),placeholder:"Search routes...",className:`
              w-40 md:w-48 px-3 py-1.5 pr-8
              text-sm text-white placeholder-gray-400
              bg-white/10 backdrop-blur-md
              border border-white/10 rounded-lg
              focus:outline-none focus:border-blue-500/50
              transition-all
            `}),e.jsx("svg",{className:"absolute right-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),e.jsxs("div",{className:"flex items-center gap-1 p-1 bg-white/10 backdrop-blur-md border border-white/10 rounded-lg",children:[e.jsx("button",{onClick:()=>a(),className:"p-1.5 text-white/70 hover:text-white hover:bg-white/10 rounded transition-colors",title:"Zoom out",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),e.jsx("button",{onClick:()=>l({padding:.2,duration:300}),className:"p-1.5 text-white/70 hover:text-white hover:bg-white/10 rounded transition-colors",title:"Fit to view",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})}),e.jsx("button",{onClick:()=>r(),className:"p-1.5 text-white/70 hover:text-white hover:bg-white/10 rounded transition-colors",title:"Zoom in",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})]})}function ne({categories:t,activeCategories:s,onToggleCategory:o}){const[r,a]=p.useState(!1);return e.jsx("div",{className:"absolute bottom-4 left-4 z-10",children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/10 rounded-lg overflow-hidden",children:[e.jsxs("button",{onClick:()=>a(!r),className:"flex items-center gap-2 px-3 py-2 text-sm text-white/80 hover:text-white hover:bg-white/5 w-full transition-colors",children:[e.jsx("svg",{className:`w-4 h-4 transition-transform ${r?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),e.jsx("span",{children:"Legend"})]}),r&&e.jsxs("div",{className:"px-3 pb-3 pt-1 space-y-2 border-t border-white/10",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-[10px] uppercase tracking-wider text-gray-500 mb-1",children:"Categories"}),t.map(l=>e.jsxs("button",{onClick:()=>o(l.id),className:`
                    flex items-center gap-2 text-xs w-full px-1.5 py-0.5 rounded
                    transition-colors
                    ${s.includes(l.id)?"text-white bg-white/10":"text-gray-400 hover:text-white hover:bg-white/5"}
                  `,children:[e.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:l.color}}),e.jsx("span",{children:l.label})]},l.id))]}),e.jsxs("div",{className:"space-y-1 pt-2 border-t border-white/10",children:[e.jsx("div",{className:"text-[10px] uppercase tracking-wider text-gray-500 mb-1",children:"Access Level"}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 px-1.5",children:[e.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-green-500/50"}),e.jsx("span",{children:"Public"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 px-1.5",children:[e.jsx("svg",{className:"w-2.5 h-2.5 text-amber-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),e.jsx("span",{children:"Login Required"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 px-1.5",children:[e.jsx("svg",{className:"w-2.5 h-2.5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{children:"Admin Only"})]})]})]})]})})}function ie({value:t,onChange:s,placeholder:o="Search...",resultCount:r,autoFocus:a=!1,className:l=""}){const i=p.useRef(null);p.useEffect(()=>{a&&i.current&&i.current.focus()},[a]);const n=()=>{s(""),i.current?.focus()};return p.useEffect(()=>{const d=c=>{(c.metaKey||c.ctrlKey)&&c.key==="k"&&(c.preventDefault(),i.current?.focus()),c.key==="Escape"&&document.activeElement===i.current&&i.current?.blur()};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[]),e.jsxs("div",{className:`relative ${l}`,children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{ref:i,type:"text",value:t,onChange:d=>s(d.target.value),placeholder:o,className:`
          w-full pl-9 pr-20 py-2
          text-sm text-white placeholder-gray-500
          bg-white/5 backdrop-blur-md
          border border-white/10 rounded-lg
          focus:outline-none focus:border-blue-500/50 focus:bg-white/10
          transition-all duration-200
        `}),e.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-1.5",children:[t&&r!==void 0&&e.jsxs("span",{className:"text-xs text-gray-500 tabular-nums",children:[r," result",r!==1?"s":""]}),t&&e.jsx("button",{onClick:n,className:"p-1 text-gray-400 hover:text-white transition-colors rounded",children:e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),!t&&e.jsxs("kbd",{className:"hidden md:inline-flex items-center gap-0.5 px-1.5 py-0.5 text-[10px] text-gray-500 bg-white/5 rounded border border-white/10",children:[e.jsx("span",{className:"text-[9px]",children:"‚åò"}),"K"]})]})]})}function le(t){const[s,o]=p.useState(""),r=p.useMemo(()=>{if(!t||!s.trim())return[];const n=s.toLowerCase().trim(),d=[];return t.categories.forEach(c=>{c.label.toLowerCase().includes(n)&&d.push({id:`category-${c.id}`,type:"category",category:c,matchType:"category",score:c.label.toLowerCase().startsWith(n)?100:80}),c.routes.forEach(u=>{let b=0,h="label";u.label.toLowerCase().includes(n)?(b=u.label.toLowerCase().startsWith(n)?95:85,h="label"):u.path.toLowerCase().includes(n)?(b=70,h="path"):u.description.toLowerCase().includes(n)&&(b=50,h="description"),b>0&&d.push({id:u.id,type:"route",route:u,category:c,matchType:h,score:b})})}),d.sort((c,u)=>u.score-c.score)},[t,s]),a=p.useMemo(()=>r.filter(n=>n.type==="route").map(n=>n.id),[r]),l=p.useMemo(()=>{const n=new Set;return r.forEach(d=>{d.type==="category"&&d.category&&n.add(d.category.id),d.type==="route"&&d.category&&n.add(d.category.id)}),Array.from(n)},[r]),i=p.useCallback(()=>{o("")},[]);return{query:s,setQuery:o,results:r,highlightedIds:a,highlightedCategoryIds:l,resultCount:r.filter(n=>n.type==="route").length,hasResults:r.length>0,clearSearch:i}}const x={},ce=5*60*1e3;function de(){const[t,s]=p.useState({routeAtlas:x.routeAtlas||null,docsAtlas:x.docsAtlas||null,roadmapAtlas:x.roadmapAtlas||null,loading:!x.routeAtlas,error:null}),o=p.useCallback(async(a=!1)=>{const l=Date.now();if(!a&&x.timestamp&&l-x.timestamp<ce&&x.routeAtlas){s({routeAtlas:x.routeAtlas,docsAtlas:x.docsAtlas||null,roadmapAtlas:x.roadmapAtlas||null,loading:!1,error:null});return}s(i=>({...i,loading:!0,error:null}));try{const[i,n,d]=await Promise.allSettled([fetch("/atlases/route-atlas.json"),fetch("/atlases/docs-atlas.json"),fetch("/atlases/roadmap-atlas.json")]);let c=null,u=null,b=null;i.status==="fulfilled"&&i.value.ok&&(c=await i.value.json(),x.routeAtlas=c),n.status==="fulfilled"&&n.value.ok&&(u=await n.value.json(),x.docsAtlas=u),d.status==="fulfilled"&&d.value.ok&&(b=await d.value.json(),x.roadmapAtlas=b),x.timestamp=l,s({routeAtlas:c,docsAtlas:u,roadmapAtlas:b,loading:!1,error:null})}catch(i){s(n=>({...n,loading:!1,error:i instanceof Error?i:new Error("Failed to fetch atlas data")}))}},[]);p.useEffect(()=>{o()},[o]);const r=p.useCallback(()=>o(!0),[o]);return{...t,refresh:r}}const ue={version:"1.0.0",generated:"static",categories:[{id:"core",label:"Core",color:"#3b82f6",icon:"activity",routes:[{id:"dashboard",path:"/dashboard",label:"Dashboard",description:"Your personal training hub",protection:"protected"},{id:"workout",path:"/workout",label:"Workout",description:"Log training sessions",protection:"protected"},{id:"exercises",path:"/exercises",label:"Exercises",description:"65+ exercises with muscle data",protection:"protected"},{id:"journey",path:"/journey",label:"Journey",description:"Personalized training path",protection:"protected"},{id:"progression",path:"/progression",label:"Progression",description:"Track strength gains",protection:"protected"},{id:"skills",path:"/skills",label:"Skills",description:"7 skill trees with 45+ skills",protection:"public"},{id:"martial-arts",path:"/martial-arts",label:"Martial Arts",description:"10 disciplines, 60+ techniques",protection:"public"}]},{id:"community",label:"Community",color:"#22c55e",icon:"users",routes:[{id:"community",path:"/community",label:"Community Hub",description:"Feed, map, and stats",protection:"protected"},{id:"crews",path:"/crews",label:"Crews",description:"Team up with others",protection:"protected"},{id:"rivals",path:"/rivals",label:"Rivals",description:"Friendly competition",protection:"protected"},{id:"competitions",path:"/competitions",label:"Competitions",description:"Compete for rewards",protection:"protected"},{id:"highfives",path:"/highfives",label:"High Fives",description:"Celebrate achievements",protection:"protected"},{id:"messages",path:"/messages",label:"Messages",description:"Connect with others",protection:"protected"}]},{id:"account",label:"Account",color:"#f59e0b",icon:"wallet",routes:[{id:"profile",path:"/profile",label:"Profile",description:"Your public profile",protection:"protected"},{id:"settings",path:"/settings",label:"Settings",description:"App preferences",protection:"protected"},{id:"credits",path:"/credits",label:"Credits",description:"Credit balance and history",protection:"protected"},{id:"wallet",path:"/wallet",label:"Wallet",description:"Manage payments",protection:"protected"},{id:"stats",path:"/stats",label:"Stats",description:"Character stats",protection:"protected"}]},{id:"health",label:"Health",color:"#ec4899",icon:"heart",routes:[{id:"wellness",path:"/wellness",label:"Wellness",description:"Wearable integrations",protection:"protected"},{id:"goals",path:"/goals",label:"Goals",description:"Set and track goals",protection:"protected"},{id:"limitations",path:"/limitations",label:"Limitations",description:"Injury accommodations",protection:"protected"},{id:"pt-tests",path:"/pt-tests",label:"PT Tests",description:"Military fitness tests",protection:"protected"}]},{id:"docs",label:"Documentation",color:"#8b5cf6",icon:"book-open",routes:[{id:"landing",path:"/",label:"Home",description:"Welcome to MuscleMap",protection:"public"},{id:"features",path:"/features",label:"Features",description:"Feature overview",protection:"public"},{id:"technology",path:"/technology",label:"Technology",description:"Tech stack",protection:"public"},{id:"science",path:"/science",label:"Science",description:"The methodology",protection:"public"},{id:"design",path:"/design",label:"Design",description:"Design system",protection:"public"},{id:"docs",path:"/docs",label:"Docs",description:"Full documentation",protection:"public"}]},{id:"issues",label:"Issue Tracker",color:"#ef4444",icon:"bug",routes:[{id:"issues",path:"/issues",label:"Issues",description:"Report and track bugs",protection:"public"},{id:"roadmap",path:"/roadmap",label:"Roadmap",description:"Feature roadmap",protection:"public"},{id:"updates",path:"/updates",label:"Dev Updates",description:"Latest changes",protection:"public"}]}]},pe=280,B=160,he=70,A=3,be={routeNode:q};function D(t,s,o,r,a){const l=[],i=[];let n=0;return t.categories.filter(c=>r.length===0||r.includes(c.id)).forEach(c=>{const u=c.routes;Math.ceil(u.length/A);const b=Math.min(u.length,A)*B;l.push({id:`category-${c.id}`,type:"default",position:{x:n+b/2-60,y:-40},data:{label:c.label},style:{background:`${c.color}20`,border:`1px solid ${c.color}50`,borderRadius:"8px",padding:"6px 16px",fontSize:"13px",fontWeight:600,color:c.color,pointerEvents:"none"},draggable:!1,selectable:!1,connectable:!1}),u.forEach((h,m)=>{const y=Math.floor(m/A),f=m%A,w=n+f*B,v=y*he+20,k=o.includes(h.id),j=h.path===s;l.push({id:h.id,type:"routeNode",position:{x:w,y:v},data:{route:h,category:c,isHighlighted:k,isCurrentRoute:j,onNavigate:a}})}),n+=b+pe}),{nodes:l,edges:i}}function xe({className:t="",height:s=480,showSearch:o=!0,showLegend:r=!0,compact:a=!1}){const l=$(),i=O(),{fitView:n}=P(),d=p.useRef(null),c=p.useRef(!1),{routeAtlas:u,loading:b}=de(),h=u||ue,[m,y]=p.useState([]),{query:f,setQuery:w,highlightedIds:v,resultCount:k}=le(h),j=p.useCallback(g=>{l(g)},[l]),L=p.useCallback(g=>{d.current=g,setTimeout(()=>{g.fitView({padding:.1,duration:0}),c.current=!0},50)},[]),{nodes:R,edges:E}=p.useMemo(()=>D(h,i.pathname,v,m,j),[h,i.pathname,v,m,j]),[S,C,X]=te(R),[Z,I,J]=se(E);p.useEffect(()=>{const{nodes:g,edges:N}=D(h,i.pathname,v,m,j);C(g),I(N),c.current&&d.current&&setTimeout(()=>{d.current?.fitView({padding:.1,duration:300})},50)},[h,i.pathname,v,m,j,C,I]);const K=p.useCallback(g=>{y(N=>N.includes(g)?N.filter(U=>U!==g):[...N,g])},[]);return b?e.jsx("div",{className:`atlas-container flex items-center justify-center ${t}`,style:{height:s},children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm text-gray-400",children:"Loading atlas..."})]})}):e.jsxs("div",{className:`atlas-container relative rounded-2xl overflow-hidden ${t}`,style:{height:s,background:"rgba(255, 255, 255, 0.03)",border:"1px solid rgba(255, 255, 255, 0.08)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"},children:[e.jsxs(H,{nodes:S,edges:Z,onNodesChange:X,onEdgesChange:J,onInit:L,nodeTypes:be,fitView:!0,fitViewOptions:{padding:.1,includeHiddenNodes:!1},minZoom:.2,maxZoom:2,proOptions:{hideAttribution:!0},style:{background:"transparent"},nodesDraggable:!1,nodesConnectable:!1,elementsSelectable:!1,panOnDrag:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!1,children:[e.jsx(G,{variant:Y.Dots,color:"rgba(255, 255, 255, 0.05)",gap:20,size:1}),e.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2 z-10",children:[o&&e.jsx(ie,{value:f,onChange:w,placeholder:"Search routes...",resultCount:f?k:void 0,className:"w-44 md:w-52"}),e.jsx(ae,{searchQuery:"",onSearchChange:()=>{},showSearch:!1})]}),r&&!a&&e.jsx(ne,{categories:h.categories,activeCategories:m,onToggleCategory:K})]}),f&&e.jsxs("div",{className:"absolute top-4 left-4 px-3 py-1.5 bg-blue-500/20 border border-blue-500/30 rounded-lg text-sm text-blue-300 z-10",children:[k," result",k!==1?"s":"",' for "',f,'"']}),!a&&e.jsxs("div",{className:"absolute bottom-4 right-4 px-3 py-1.5 bg-white/5 border border-white/10 rounded-lg text-xs text-gray-400 z-10",children:[e.jsx("span",{className:"text-pink-400 mr-1",children:"‚óè"}),"You are here: ",e.jsx("span",{className:"text-white font-medium",children:i.pathname})]})]})}function me(t){return e.jsx(ee,{children:e.jsx(xe,{...t})})}function fe(t){const s=[];return t?(t.journeyStep&&t.journeyTotal&&t.journeyStep<t.journeyTotal&&s.push({path:"/journey",label:"Continue Journey",reason:`Step ${t.journeyStep} of ${t.journeyTotal}`,icon:"üó∫Ô∏è",color:"#3b82f6"}),s.push({path:"/workout",label:"Log Workout",reason:"Track your session",icon:"üèãÔ∏è",color:"#22c55e"}),s.push({path:"/progression",label:"View Progress",reason:"Check your gains",icon:"üìà",color:"#f59e0b"}),(!t.skillTreesCompleted||t.skillTreesCompleted<3)&&s.push({path:"/skills",label:"Skill Trees",reason:`${t.skillTreesCompleted||0}/7 completed`,icon:"üå≥",color:"#8b5cf6"}),s.slice(0,3)):[{path:"/journey",label:"Start Journey",reason:"Begin your training path",icon:"üó∫Ô∏è",color:"#3b82f6"},{path:"/exercises",label:"Exercises",reason:"Explore 65+ exercises",icon:"üí™",color:"#22c55e"},{path:"/skills",label:"Skills",reason:"Check out skill trees",icon:"üå≥",color:"#8b5cf6"}]}function Ie({userProgress:t,className:s=""}){const o=$(),r=O(),[a,l]=p.useState(!1),i=fe(t);return e.jsxs("div",{className:`dashboard-atlas ${s}`,children:[e.jsxs("div",{className:`
          relative rounded-xl overflow-hidden
          bg-white/5 border border-white/10
          backdrop-blur-md
        `,children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500/20 to-purple-500/20 flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white",children:"Site Map"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Explore MuscleMap"})]})]}),e.jsx("button",{onClick:()=>l(!a),className:`
              p-2 rounded-lg
              bg-white/5 hover:bg-white/10
              text-gray-400 hover:text-white
              transition-colors
            `,title:a?"Collapse":"Expand",children:e.jsx("svg",{className:`w-5 h-5 transition-transform ${a?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})})]}),t&&e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 border-b border-white/5 bg-white/[0.02]",children:[t.level&&e.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-blue-500/20 text-blue-300 text-xs font-medium",children:["Level ",t.level]}),t.skillTreesCompleted!==void 0&&e.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-purple-500/20 text-purple-300 text-xs font-medium",children:[t.skillTreesCompleted,"/7 Skills"]}),t.journeyStep&&t.journeyTotal&&e.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-green-500/20 text-green-300 text-xs font-medium",children:["Journey ",Math.round(t.journeyStep/t.journeyTotal*100),"%"]})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wider mb-3",children:"Recommended"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:i.map(n=>e.jsxs("button",{onClick:()=>o(n.path),className:`
                  flex flex-col items-center p-3 rounded-lg
                  bg-white/5 hover:bg-white/10
                  border border-transparent hover:border-white/10
                  transition-all duration-200
                  group
                `,children:[e.jsx("span",{className:"text-xl mb-1 group-hover:scale-110 transition-transform",children:n.icon}),e.jsx("span",{className:"text-xs font-medium text-white",children:n.label}),e.jsx("span",{className:"text-[10px] text-gray-500",children:n.reason})]},n.path))})]}),e.jsx("div",{className:"px-4 py-2 border-t border-white/5 bg-white/[0.02]",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[e.jsx("span",{className:"text-pink-400 animate-pulse",children:"‚óè"}),e.jsx("span",{children:"You are here:"}),e.jsx("span",{className:"text-white font-medium",children:r.pathname})]})})]}),e.jsx(Q,{children:a&&e.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",onClick:()=>l(!1),children:e.jsxs(T.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"w-full max-w-6xl max-h-[90vh] overflow-hidden rounded-2xl bg-gray-900 border border-white/10",onClick:n=>n.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:"MuscleMap Site Map"}),e.jsx("button",{onClick:()=>l(!1),className:"p-2 rounded-lg hover:bg-white/10 text-gray-400 hover:text-white transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"p-4",children:e.jsx(me,{height:600,showSearch:!0,showLegend:!0})})]})})})]})}const ge={padding:.2,duration:300},we={hideAttribution:!0};function Be({nodes:t,edges:s,onNodesChange:o,onEdgesChange:r,onConnect:a,nodeTypes:l,edgeTypes:i,children:n,className:d="",style:c,height:u=500,showMiniMap:b=!1,showControls:h=!1,showBackground:m=!0,fitViewOptions:y=ge,minZoom:f=.2,maxZoom:w=2,defaultZoom:v=1,panOnDrag:k=!0,zoomOnScroll:j=!0,zoomOnPinch:L=!0,preventScrolling:R=!0}){const E=p.useCallback(S=>{const C=S.data;return C?.category?.color?C.category.color:"rgba(255, 255, 255, 0.3)"},[]);return e.jsx("div",{className:`atlas-canvas ${d}`,style:{height:u,background:"rgba(255, 255, 255, 0.03)",border:"1px solid rgba(255, 255, 255, 0.08)",borderRadius:"16px",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",overflow:"hidden",...c},children:e.jsxs(H,{nodes:t,edges:s,onNodesChange:o,onEdgesChange:r,onConnect:a,nodeTypes:l,edgeTypes:i,fitView:!0,fitViewOptions:y,minZoom:f,maxZoom:w,defaultViewport:{x:0,y:0,zoom:v},panOnDrag:k,zoomOnScroll:j,zoomOnPinch:L,preventScrolling:R,proOptions:we,style:{background:"transparent"},children:[m&&e.jsx(G,{variant:Y.Dots,color:"rgba(255, 255, 255, 0.05)",gap:20,size:1}),h&&e.jsx(oe,{showZoom:!0,showFitView:!0,showInteractive:!1,style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px"}}),b&&e.jsx(re,{nodeColor:E,maskColor:"rgba(0, 0, 0, 0.8)",style:{background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px"}}),n]})})}const ve={public:{label:"Public",color:"text-green-400",bg:"bg-green-500/20"},protected:{label:"Login Required",color:"text-amber-400",bg:"bg-amber-500/20"},admin:{label:"Admin Only",color:"text-red-400",bg:"bg-red-500/20"}};function De({route:t,position:s,onNavigate:o,onClose:r}){if(!t||!s)return null;const a=ve[t.protection];return e.jsx(Q,{children:e.jsx(T.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},transition:{duration:.15},className:"fixed z-50 pointer-events-auto",style:{left:s.x,top:s.y,transform:"translate(-50%, -100%)",marginTop:-10},children:e.jsxs("div",{className:`
            min-w-[200px] max-w-[280px] p-4 rounded-xl
            bg-gray-900/95 backdrop-blur-xl
            border border-white/10
            shadow-2xl shadow-black/50
          `,children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-white text-base",children:t.label}),e.jsx("button",{onClick:r,className:"p-1 text-gray-400 hover:text-white transition-colors",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"text-xs text-gray-500 font-mono mb-2",children:t.path}),e.jsx("p",{className:"text-sm text-gray-300 mb-3",children:t.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`text-xs px-2 py-1 rounded ${a.bg} ${a.color}`,children:a.label}),e.jsxs("button",{onClick:()=>o(t.path),className:`
                flex items-center gap-1.5
                px-3 py-1.5 rounded-lg
                bg-blue-500/20 text-blue-400
                hover:bg-blue-500/30 hover:text-blue-300
                transition-colors text-sm font-medium
              `,children:["Go",e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})]}),e.jsx("div",{className:"absolute left-1/2 bottom-0 w-3 h-3 bg-gray-900/95 border-r border-b border-white/10",style:{transform:"translate(-50%, 50%) rotate(45deg)"}})]})})})}function ze(){const t=$(),s=O(),o=p.useCallback(i=>{t(i)},[t]),r=p.useCallback((i,n)=>{const d=n?`/docs/${i}#${n}`:`/docs/${i}`;t(d)},[t]),a=p.useCallback(i=>{t(`/roadmap#${i}`)},[t]),l=p.useCallback(i=>!!(s.pathname===i||i==="/"&&s.pathname==="/"||i!=="/"&&s.pathname.startsWith(i+"/")),[s.pathname]);return{currentPath:s.pathname,navigateToRoute:o,navigateToDoc:r,navigateToRoadmapItem:a,isCurrentRoute:l}}const je=300,z=180,ye=80,M=3;function _e(t,s,o,r){const a=[],l=[];let i=0;return t.categories.forEach((n,d)=>{const c=Math.min(n.routes.length,M)*z;a.push({id:`category-${n.id}`,type:"default",position:{x:i+c/2-60,y:-50},data:{label:n.label},style:{background:`${n.color}20`,border:`1px solid ${n.color}40`,borderRadius:"8px",padding:"8px 16px",fontSize:"14px",fontWeight:600,color:n.color},draggable:!1,selectable:!1}),n.routes.forEach((u,b)=>{const h=Math.floor(b/M),m=b%M,y=i+m*z,f=h*ye+30;a.push({id:u.id,type:"routeNode",position:{x:y,y:f},data:{route:u,category:n,isHighlighted:o.includes(u.id),isCurrentRoute:u.path===s,onNavigate:r}}),u.relatedRoutes&&u.relatedRoutes.forEach(w=>{l.push({id:`${u.id}-${w}`,source:u.id,target:w,style:{stroke:"rgba(255,255,255,0.1)"},animated:!1})})}),i+=c+je}),{nodes:a,edges:l}}function Ve(t,s){if(!s.trim())return[];const o=s.toLowerCase(),r=[];return t.categories.forEach(a=>{a.routes.forEach(l=>{(l.label.toLowerCase().includes(o)||l.path.toLowerCase().includes(o)||l.description.toLowerCase().includes(o))&&r.push(l.id)})}),r}function Fe(t,s){const o=[];return t.categories.forEach(r=>{s.includes(r.id)&&r.routes.forEach(a=>{o.push(a.id)})}),o}const _={core:"#3b82f6",community:"#22c55e",account:"#f59e0b",health:"#ec4899",docs:"#8b5cf6",issues:"#ef4444",auth:"#6b7280",admin:"#991b1b",default:"#64748b"},Pe={public:{bg:"rgba(34, 197, 94, 0.1)",text:"#22c55e",border:"rgba(34, 197, 94, 0.3)"},protected:{bg:"rgba(245, 158, 11, 0.1)",text:"#f59e0b",border:"rgba(245, 158, 11, 0.3)"},admin:{bg:"rgba(239, 68, 68, 0.1)",text:"#ef4444",border:"rgba(239, 68, 68, 0.3)"}},He={completed:{bg:"rgba(34, 197, 94, 0.1)",text:"#22c55e",border:"rgba(34, 197, 94, 0.3)"},"in-progress":{bg:"rgba(59, 130, 246, 0.1)",text:"#3b82f6",border:"rgba(59, 130, 246, 0.3)"},planned:{bg:"rgba(107, 114, 128, 0.1)",text:"#6b7280",border:"rgba(107, 114, 128, 0.3)"}};function V(t){return _[t]||_.default}function ke(t,s){if(t.startsWith("#")){const o=parseInt(t.slice(1,3),16),r=parseInt(t.slice(3,5),16),a=parseInt(t.slice(5,7),16);return`rgba(${o}, ${r}, ${a}, ${s})`}if(t.startsWith("rgb")){const o=t.match(/[\d.]+/g);if(o){const[r,a,l]=o;return`rgba(${r}, ${a}, ${l}, ${s})`}}return t}function Ge(t,s){const o=V(t);return V(s),t===s?ke(o,.3):"rgba(255, 255, 255, 0.1)"}function Ye(t){switch(t){case"label":return"rgba(59, 130, 246, 0.5)";case"path":return"rgba(139, 92, 246, 0.5)";case"description":return"rgba(107, 114, 128, 0.5)";default:return"rgba(255, 255, 255, 0.3)"}}function Ce(t,s){if(!s.trim())return[];const o=s.toLowerCase(),r=[];return t.categories.forEach(a=>{a.routes.forEach(l=>{(l.label.toLowerCase().includes(o)||l.path.toLowerCase().includes(o)||l.description.toLowerCase().includes(o))&&r.push(l.id)})}),r}function Ne(t,s){if(s.length===0)return W(t);const o=[];return t.categories.forEach(r=>{r.routes.forEach(a=>{s.includes(a.protection)&&o.push(a.id)})}),o}function Ae(t,s){if(s.length===0)return W(t);const o=[];return t.categories.forEach(r=>{s.includes(r.id)&&r.routes.forEach(a=>{o.push(a.id)})}),o}function Qe(t,s){let o=W(t);if(s.search.trim()){const r=Ce(t,s.search);o=o.filter(a=>r.includes(a))}if(s.categories.length>0){const r=Ae(t,s.categories);o=o.filter(a=>r.includes(a))}if(s.protection.length>0){const r=Ne(t,s.protection);o=o.filter(a=>r.includes(a))}return s.showHidden||(o=o.filter(r=>Le(t,r)?.protection!=="admin")),o}function W(t){const s=[];return t.categories.forEach(o=>{o.routes.forEach(r=>{s.push(r.id)})}),s}function Le(t,s){for(const o of t.categories){const r=o.routes.find(a=>a.id===s);if(r)return r}return null}function Xe(t,s){for(const o of t.categories)if(o.routes.some(r=>r.id===s))return o;return null}function Ze(t,s){for(const o of t.categories){const r=o.routes.find(a=>a.path===s);if(r)return r}return null}function Je(t,s){if(!s.trim())return t;const o=s.toLowerCase();return[...t].sort((r,a)=>{const l=F(r,o);return F(a,o)-l})}function F(t,s){let o=0;return t.label.toLowerCase()===s?o+=100:t.label.toLowerCase().startsWith(s)?o+=80:t.label.toLowerCase().includes(s)&&(o+=60),t.path.toLowerCase().includes(s)&&(o+=30),t.description.toLowerCase().includes(s)&&(o+=10),o}export{it as ArchitectureAtlas,Be as AtlasCanvas,ae as AtlasControls,ne as AtlasLegend,qe as AtlasProvider,ie as AtlasSearch,De as AtlasTooltip,_ as CATEGORY_COLORS,Ie as DashboardAtlas,ot as DocsAtlas,Pe as PROTECTION_COLORS,at as RoadmapAtlas,me as RouteAtlas,q as RouteNode,He as STATUS_COLORS,Qe as applyFilters,Ve as filterRoutes,Ae as filterRoutesByCategories,Ne as filterRoutesByProtection,Ce as filterRoutesBySearch,Xe as findCategoryByRouteId,Le as findRouteById,Ze as findRouteByPath,_e as generateRouteLayout,W as getAllRouteIds,V as getCategoryColor,Ge as getEdgeColor,Ye as getHighlightColor,Fe as getRoutesByCategories,Je as sortRoutesByRelevance,et as useAtlas,de as useAtlasData,ze as useAtlasNavigation,tt as useAtlasOptional,le as useAtlasSearch,ke as withAlpha};
