import{r as i,j as e}from"./react-vendor-D1NxaRNd.js";import{u as k}from"./useNetworkStatus-Dja6a-1i.js";import{u as R,h as n,A as D,m as O,X as W}from"./index-CfuVQjw9.js";import{W as E}from"./wifi-off-_uHy3oGK.js";import{W as u}from"./wifi-Byx040zU.js";import{R as T}from"./refresh-cw-DTemmWBr.js";import"./leaflet-vendor-DZbo3Ov0.js";import"./apollo-vendor-BMQ75Ycx.js";import"./reactflow-vendor-Dz2P_-Qa.js";import"./d3-vendor-mcDw60ct.js";import"./recharts-vendor-BziRPEEi.js";function F({position:o="top",showQuality:d=!1,className:p="",dismissible:x=!1}){const{reducedMotion:r}=R(),{isOnline:t,effectiveType:a,isSlowConnection:l,saveData:w}=k(),[g,c]=i.useState(!1),[s,f]=i.useState(!1),[m,h]=i.useState(!1);i.useEffect(()=>{if(!t)h(!0),c(!1),n("warning");else if(m){f(!0),n("success");const S=setTimeout(()=>{f(!1),h(!1)},3e3);return()=>clearTimeout(S)}},[t,m]);const b=()=>{n("light"),c(!0)},j=()=>{n("light"),window.location.reload()},y=()=>t?a==="slow-2g"||a==="2g"?"Very slow connection":a==="3g"?"Slow connection":w?"Data saver enabled":"Connected":"Offline",v=()=>t?l?"bg-yellow-500/90":s?"bg-green-500/90":"bg-blue-500/90":"bg-red-500/90",N=!g&&(!t||s||d&&l),C=o==="top"?"top-0 pt-[env(safe-area-inset-top,0px)]":"bottom-0 pb-[env(safe-area-inset-bottom,0px)]";return e.jsx(D,{children:N&&e.jsx(O.div,{initial:{y:o==="top"?-100:100,opacity:0},animate:{y:0,opacity:1},exit:{y:o==="top"?-100:100,opacity:0},transition:{type:r?"tween":"spring",damping:25,stiffness:300,duration:r?.15:void 0},className:`
            fixed left-0 right-0 z-[100]
            ${C}
            ${p}
          `,children:e.jsxs("div",{className:`
              mx-4 my-2 px-4 py-3 rounded-xl
              ${v()}
              backdrop-blur-lg shadow-lg
              flex items-center justify-between gap-3
            `,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[t?s?e.jsx(u,{className:"w-5 h-5 text-white flex-shrink-0"}):e.jsx(u,{className:"w-5 h-5 text-white flex-shrink-0 opacity-60"}):e.jsx(E,{className:"w-5 h-5 text-white flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:s?"Back online!":y()}),!t&&e.jsx("p",{className:"text-xs text-white/70",children:"Some features may be unavailable"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[!t&&e.jsx("button",{onClick:j,className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors touch-target-sm","aria-label":"Retry connection",children:e.jsx(T,{className:"w-4 h-4 text-white"})}),(x||t)&&e.jsx("button",{onClick:b,className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors touch-target-sm","aria-label":"Dismiss",children:e.jsx(W,{className:"w-4 h-4 text-white"})})]})]})})})}export{F as OfflineIndicator,F as default};
