var gs=Object.defineProperty;var Es=(n,e,t)=>e in n?gs(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var p=(n,e,t)=>Es(n,typeof e!="symbol"?e+"":e,t);import{R as ei,r as N}from"./react-vendor-D1NxaRNd.js";const ti=!1;function G(n){try{return n()}catch{}}const an=G(()=>globalThis)||G(()=>window)||G(()=>self)||G(()=>global)||G(function(){return G.constructor("return this")()}),xn="4.0.11",Zn=new Map;function ni(n){const e=Zn.get(n)||1;return Zn.set(n,e+1),`${n}:${e}:${Math.random().toString(36).slice(2)}`}function Ss(n,e=0){const t=ni("stringifyForDisplay");return JSON.stringify(n,(r,i)=>i===void 0?t:i,e).split(JSON.stringify(t)).join("<undefined>")}const er="Invariant Violation";class Cn extends Error{constructor(e=er){super(e),this.name=er,Object.setPrototypeOf(this,Cn.prototype)}}const ri=["debug","log","warn","error","silent"];let ws=ri.indexOf("silent");function C(n,...e){if(!n)throw z(...e)}function xt(n){return function(e,...t){if(ri.indexOf(n)>=ws){const r=console[n]||console.log;if(typeof e=="number"){const i=e;e=ii(i),e||(e=si(i,t),t=[])}r(e,...t)}}}C.debug=xt("debug");C.log=xt("log");C.warn=xt("warn");C.error=xt("error");function z(n,...e){return new Cn(ii(n,e)||si(n,e))}const tr=Symbol.for("ApolloErrorMessageHandler_"+xn);function cn(n){if(typeof n=="string")return n;try{return Ss(n,2).slice(0,1e3)}catch{return"<non-serializable>"}}function ii(n,e=[]){if(n)return an[tr]&&an[tr](n,e.map(cn))}function si(n,e=[]){if(n)return typeof n=="string"?e.reduce((t,r)=>t.replace(/%[sdfo]/,cn(r)),n):`An error occurred! For more details, see the full error text at https://go.apollo.dev/c/err#${encodeURIComponent(JSON.stringify({version:xn,message:n,args:e.map(cn)}))}`}const nr=Symbol.for("__APOLLO_CONTEXT__");function Nn(){C("createContext"in ei,37);let n=N.createContext[nr];return n||(Object.defineProperty(N.createContext,nr,{value:n=N.createContext({}),enumerable:!1,writable:!1,configurable:!0}),n.displayName="ApolloContext"),n}const Ou=({client:n,children:e})=>{const t=Nn(),r=N.useContext(t),i=N.useMemo(()=>({...r,client:n||r.client}),[r,n]);return C(i.client,38),N.createElement(t.Provider,{value:i},e)};function Ct(n){const e=N.useContext(Nn()),t=n||e.client;return C(!!t,28),t}const{toString:rr,hasOwnProperty:ks}=Object.prototype,ir=Function.prototype.toString,un=new Map;function _(n,e){try{return ln(n,e)}finally{un.clear()}}function ln(n,e){if(n===e)return!0;const t=rr.call(n),r=rr.call(e);if(t!==r)return!1;switch(t){case"[object Array]":if(n.length!==e.length)return!1;case"[object Object]":{if(or(n,e))return!0;const i=sr(n),s=sr(e),o=i.length;if(o!==s.length)return!1;for(let a=0;a<o;++a)if(!ks.call(e,i[a]))return!1;for(let a=0;a<o;++a){const c=i[a];if(!ln(n[c],e[c]))return!1}return!0}case"[object Error]":return n.name===e.name&&n.message===e.message;case"[object Number]":if(n!==n)return e!==e;case"[object Boolean]":case"[object Date]":return+n==+e;case"[object RegExp]":case"[object String]":return n==`${e}`;case"[object Map]":case"[object Set]":{if(n.size!==e.size)return!1;if(or(n,e))return!0;const i=n.entries(),s=t==="[object Map]";for(;;){const o=i.next();if(o.done)break;const[a,c]=o.value;if(!e.has(a)||s&&!ln(c,e.get(a)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":n=new Uint8Array(n),e=new Uint8Array(e);case"[object DataView]":{let i=n.byteLength;if(i===e.byteLength)for(;i--&&n[i]===e[i];);return i===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{const i=ir.call(n);return i!==ir.call(e)?!1:!Is(i,Ts)}}return!1}function sr(n){return Object.keys(n).filter(Os,n)}function Os(n){return this[n]!==void 0}const Ts="{ [native code] }";function Is(n,e){const t=n.length-e.length;return t>=0&&n.indexOf(e,t)===t}function or(n,e){let t=un.get(n);if(t){if(t.has(e))return!0}else un.set(n,t=new Set);return t.add(e),!1}function lt(n,e){if(!!!n)throw new Error(e)}function xs(n){return typeof n=="object"&&n!==null}function Cs(n,e){if(!!!n)throw new Error("Unexpected invariant triggered.")}const Ns=/\r\n|[\n\r]/g;function fn(n,e){let t=0,r=1;for(const i of n.body.matchAll(Ns)){if(typeof i.index=="number"||Cs(!1),i.index>=e)break;t=i.index+i[0].length,r+=1}return{line:r,column:e+1-t}}function _s(n){return oi(n.source,fn(n.source,n.start))}function oi(n,e){const t=n.locationOffset.column-1,r="".padStart(t)+n.body,i=e.line-1,s=n.locationOffset.line-1,o=e.line+s,a=e.line===1?t:0,c=e.column+a,u=`${n.name}:${o}:${c}
`,l=r.split(/\r\n|[\n\r]/g),f=l[i];if(f.length>120){const h=Math.floor(c/80),d=c%80,y=[];for(let g=0;g<f.length;g+=80)y.push(f.slice(g,g+80));return u+ar([[`${o} |`,y[0]],...y.slice(1,h+1).map(g=>["|",g]),["|","^".padStart(d)],["|",y[h+1]]])}return u+ar([[`${o-1} |`,l[i-1]],[`${o} |`,f],["|","^".padStart(c)],[`${o+1} |`,l[i+1]]])}function ar(n){const e=n.filter(([r,i])=>i!==void 0),t=Math.max(...e.map(([r])=>r.length));return e.map(([r,i])=>r.padStart(t)+(i?" "+i:"")).join(`
`)}function Ds(n){const e=n[0];return e==null||"kind"in e||"length"in e?{nodes:e,source:n[1],positions:n[2],path:n[3],originalError:n[4],extensions:n[5]}:e}class _n extends Error{constructor(e,...t){var r,i,s;const{nodes:o,source:a,positions:c,path:u,originalError:l,extensions:f}=Ds(t);super(e),this.name="GraphQLError",this.path=u??void 0,this.originalError=l??void 0,this.nodes=cr(Array.isArray(o)?o:o?[o]:void 0);const h=cr((r=this.nodes)===null||r===void 0?void 0:r.map(y=>y.loc).filter(y=>y!=null));this.source=a??(h==null||(i=h[0])===null||i===void 0?void 0:i.source),this.positions=c??h?.map(y=>y.start),this.locations=c&&a?c.map(y=>fn(a,y)):h?.map(y=>fn(y.source,y.start));const d=xs(l?.extensions)?l?.extensions:void 0;this.extensions=(s=f??d)!==null&&s!==void 0?s:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),l!=null&&l.stack?Object.defineProperty(this,"stack",{value:l.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,_n):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const t of this.nodes)t.loc&&(e+=`

`+_s(t.loc));else if(this.source&&this.locations)for(const t of this.locations)e+=`

`+oi(this.source,t);return e}toJSON(){const e={message:this.message};return this.locations!=null&&(e.locations=this.locations),this.path!=null&&(e.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function cr(n){return n===void 0||n.length===0?void 0:n}function P(n,e,t){return new _n(`Syntax Error: ${t}`,{source:n,positions:[e]})}class As{constructor(e,t,r){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=r}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class ai{constructor(e,t,r,i,s,o){this.kind=e,this.start=t,this.end=r,this.line=i,this.column=s,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const ci={Name:[],Document:["definitions"],OperationDefinition:["description","name","variableDefinitions","directives","selectionSet"],VariableDefinition:["description","variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["description","name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"],TypeCoordinate:["name"],MemberCoordinate:["name","memberName"],ArgumentCoordinate:["name","fieldName","argumentName"],DirectiveCoordinate:["name"],DirectiveArgumentCoordinate:["name","argumentName"]},Fs=new Set(Object.keys(ci));function ur(n){const e=n?.kind;return typeof e=="string"&&Fs.has(e)}var Y;(function(n){n.QUERY="query",n.MUTATION="mutation",n.SUBSCRIPTION="subscription"})(Y||(Y={}));var hn;(function(n){n.QUERY="QUERY",n.MUTATION="MUTATION",n.SUBSCRIPTION="SUBSCRIPTION",n.FIELD="FIELD",n.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",n.FRAGMENT_SPREAD="FRAGMENT_SPREAD",n.INLINE_FRAGMENT="INLINE_FRAGMENT",n.VARIABLE_DEFINITION="VARIABLE_DEFINITION",n.SCHEMA="SCHEMA",n.SCALAR="SCALAR",n.OBJECT="OBJECT",n.FIELD_DEFINITION="FIELD_DEFINITION",n.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",n.INTERFACE="INTERFACE",n.UNION="UNION",n.ENUM="ENUM",n.ENUM_VALUE="ENUM_VALUE",n.INPUT_OBJECT="INPUT_OBJECT",n.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(hn||(hn={}));var S;(function(n){n.NAME="Name",n.DOCUMENT="Document",n.OPERATION_DEFINITION="OperationDefinition",n.VARIABLE_DEFINITION="VariableDefinition",n.SELECTION_SET="SelectionSet",n.FIELD="Field",n.ARGUMENT="Argument",n.FRAGMENT_SPREAD="FragmentSpread",n.INLINE_FRAGMENT="InlineFragment",n.FRAGMENT_DEFINITION="FragmentDefinition",n.VARIABLE="Variable",n.INT="IntValue",n.FLOAT="FloatValue",n.STRING="StringValue",n.BOOLEAN="BooleanValue",n.NULL="NullValue",n.ENUM="EnumValue",n.LIST="ListValue",n.OBJECT="ObjectValue",n.OBJECT_FIELD="ObjectField",n.DIRECTIVE="Directive",n.NAMED_TYPE="NamedType",n.LIST_TYPE="ListType",n.NON_NULL_TYPE="NonNullType",n.SCHEMA_DEFINITION="SchemaDefinition",n.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",n.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",n.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",n.FIELD_DEFINITION="FieldDefinition",n.INPUT_VALUE_DEFINITION="InputValueDefinition",n.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",n.UNION_TYPE_DEFINITION="UnionTypeDefinition",n.ENUM_TYPE_DEFINITION="EnumTypeDefinition",n.ENUM_VALUE_DEFINITION="EnumValueDefinition",n.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",n.DIRECTIVE_DEFINITION="DirectiveDefinition",n.SCHEMA_EXTENSION="SchemaExtension",n.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",n.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",n.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",n.UNION_TYPE_EXTENSION="UnionTypeExtension",n.ENUM_TYPE_EXTENSION="EnumTypeExtension",n.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension",n.TYPE_COORDINATE="TypeCoordinate",n.MEMBER_COORDINATE="MemberCoordinate",n.ARGUMENT_COORDINATE="ArgumentCoordinate",n.DIRECTIVE_COORDINATE="DirectiveCoordinate",n.DIRECTIVE_ARGUMENT_COORDINATE="DirectiveArgumentCoordinate"})(S||(S={}));function dn(n){return n===9||n===32}function He(n){return n>=48&&n<=57}function ui(n){return n>=97&&n<=122||n>=65&&n<=90}function li(n){return ui(n)||n===95}function Rs(n){return ui(n)||He(n)||n===95}function Ps(n){var e;let t=Number.MAX_SAFE_INTEGER,r=null,i=-1;for(let o=0;o<n.length;++o){var s;const a=n[o],c=Ms(a);c!==a.length&&(r=(s=r)!==null&&s!==void 0?s:o,i=o,o!==0&&c<t&&(t=c))}return n.map((o,a)=>a===0?o:o.slice(t)).slice((e=r)!==null&&e!==void 0?e:0,i+1)}function Ms(n){let e=0;for(;e<n.length&&dn(n.charCodeAt(e));)++e;return e}function Ls(n,e){const t=n.replace(/"""/g,'\\"""'),r=t.split(/\r\n|[\n\r]/g),i=r.length===1,s=r.length>1&&r.slice(1).every(d=>d.length===0||dn(d.charCodeAt(0))),o=t.endsWith('\\"""'),a=n.endsWith('"')&&!o,c=n.endsWith("\\"),u=a||c,l=!i||n.length>70||u||s||o;let f="";const h=i&&dn(n.charCodeAt(0));return(l&&!h||s)&&(f+=`
`),f+=t,(l||u)&&(f+=`
`),'"""'+f+'"""'}var b;(function(n){n.SOF="<SOF>",n.EOF="<EOF>",n.BANG="!",n.DOLLAR="$",n.AMP="&",n.PAREN_L="(",n.PAREN_R=")",n.DOT=".",n.SPREAD="...",n.COLON=":",n.EQUALS="=",n.AT="@",n.BRACKET_L="[",n.BRACKET_R="]",n.BRACE_L="{",n.PIPE="|",n.BRACE_R="}",n.NAME="Name",n.INT="Int",n.FLOAT="Float",n.STRING="String",n.BLOCK_STRING="BlockString",n.COMMENT="Comment"})(b||(b={}));class js{constructor(e){const t=new ai(b.SOF,0,0,0,0);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==b.EOF)do if(e.next)e=e.next;else{const t=qs(this,e.end);e.next=t,t.prev=e,e=t}while(e.kind===b.COMMENT);return e}}function Vs(n){return n===b.BANG||n===b.DOLLAR||n===b.AMP||n===b.PAREN_L||n===b.PAREN_R||n===b.DOT||n===b.SPREAD||n===b.COLON||n===b.EQUALS||n===b.AT||n===b.BRACKET_L||n===b.BRACKET_R||n===b.BRACE_L||n===b.PIPE||n===b.BRACE_R}function Fe(n){return n>=0&&n<=55295||n>=57344&&n<=1114111}function Nt(n,e){return fi(n.charCodeAt(e))&&hi(n.charCodeAt(e+1))}function fi(n){return n>=55296&&n<=56319}function hi(n){return n>=56320&&n<=57343}function pe(n,e){const t=n.source.body.codePointAt(e);if(t===void 0)return b.EOF;if(t>=32&&t<=126){const r=String.fromCodePoint(t);return r==='"'?`'"'`:`"${r}"`}return"U+"+t.toString(16).toUpperCase().padStart(4,"0")}function R(n,e,t,r,i){const s=n.line,o=1+t-n.lineStart;return new ai(e,t,r,s,o,i)}function qs(n,e){const t=n.source.body,r=t.length;let i=e;for(;i<r;){const s=t.charCodeAt(i);switch(s){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++n.line,n.lineStart=i;continue;case 13:t.charCodeAt(i+1)===10?i+=2:++i,++n.line,n.lineStart=i;continue;case 35:return Bs(n,i);case 33:return R(n,b.BANG,i,i+1);case 36:return R(n,b.DOLLAR,i,i+1);case 38:return R(n,b.AMP,i,i+1);case 40:return R(n,b.PAREN_L,i,i+1);case 41:return R(n,b.PAREN_R,i,i+1);case 46:if(t.charCodeAt(i+1)===46&&t.charCodeAt(i+2)===46)return R(n,b.SPREAD,i,i+3);break;case 58:return R(n,b.COLON,i,i+1);case 61:return R(n,b.EQUALS,i,i+1);case 64:return R(n,b.AT,i,i+1);case 91:return R(n,b.BRACKET_L,i,i+1);case 93:return R(n,b.BRACKET_R,i,i+1);case 123:return R(n,b.BRACE_L,i,i+1);case 124:return R(n,b.PIPE,i,i+1);case 125:return R(n,b.BRACE_R,i,i+1);case 34:return t.charCodeAt(i+1)===34&&t.charCodeAt(i+2)===34?Gs(n,i):Qs(n,i)}if(He(s)||s===45)return Us(n,i,s);if(li(s))return Ys(n,i);throw P(n.source,i,s===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:Fe(s)||Nt(t,i)?`Unexpected character: ${pe(n,i)}.`:`Invalid character: ${pe(n,i)}.`)}return R(n,b.EOF,r,r)}function Bs(n,e){const t=n.source.body,r=t.length;let i=e+1;for(;i<r;){const s=t.charCodeAt(i);if(s===10||s===13)break;if(Fe(s))++i;else if(Nt(t,i))i+=2;else break}return R(n,b.COMMENT,e,i,t.slice(e+1,i))}function Us(n,e,t){const r=n.source.body;let i=e,s=t,o=!1;if(s===45&&(s=r.charCodeAt(++i)),s===48){if(s=r.charCodeAt(++i),He(s))throw P(n.source,i,`Invalid number, unexpected digit after 0: ${pe(n,i)}.`)}else i=Vt(n,i,s),s=r.charCodeAt(i);if(s===46&&(o=!0,s=r.charCodeAt(++i),i=Vt(n,i,s),s=r.charCodeAt(i)),(s===69||s===101)&&(o=!0,s=r.charCodeAt(++i),(s===43||s===45)&&(s=r.charCodeAt(++i)),i=Vt(n,i,s),s=r.charCodeAt(i)),s===46||li(s))throw P(n.source,i,`Invalid number, expected digit but got: ${pe(n,i)}.`);return R(n,o?b.FLOAT:b.INT,e,i,r.slice(e,i))}function Vt(n,e,t){if(!He(t))throw P(n.source,e,`Invalid number, expected digit but got: ${pe(n,e)}.`);const r=n.source.body;let i=e+1;for(;He(r.charCodeAt(i));)++i;return i}function Qs(n,e){const t=n.source.body,r=t.length;let i=e+1,s=i,o="";for(;i<r;){const a=t.charCodeAt(i);if(a===34)return o+=t.slice(s,i),R(n,b.STRING,e,i+1,o);if(a===92){o+=t.slice(s,i);const c=t.charCodeAt(i+1)===117?t.charCodeAt(i+2)===123?zs(n,i):Ws(n,i):$s(n,i);o+=c.value,i+=c.size,s=i;continue}if(a===10||a===13)break;if(Fe(a))++i;else if(Nt(t,i))i+=2;else throw P(n.source,i,`Invalid character within String: ${pe(n,i)}.`)}throw P(n.source,i,"Unterminated string.")}function zs(n,e){const t=n.source.body;let r=0,i=3;for(;i<12;){const s=t.charCodeAt(e+i++);if(s===125){if(i<5||!Fe(r))break;return{value:String.fromCodePoint(r),size:i}}if(r=r<<4|Be(s),r<0)break}throw P(n.source,e,`Invalid Unicode escape sequence: "${t.slice(e,e+i)}".`)}function Ws(n,e){const t=n.source.body,r=lr(t,e+2);if(Fe(r))return{value:String.fromCodePoint(r),size:6};if(fi(r)&&t.charCodeAt(e+6)===92&&t.charCodeAt(e+7)===117){const i=lr(t,e+8);if(hi(i))return{value:String.fromCodePoint(r,i),size:12}}throw P(n.source,e,`Invalid Unicode escape sequence: "${t.slice(e,e+6)}".`)}function lr(n,e){return Be(n.charCodeAt(e))<<12|Be(n.charCodeAt(e+1))<<8|Be(n.charCodeAt(e+2))<<4|Be(n.charCodeAt(e+3))}function Be(n){return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:-1}function $s(n,e){const t=n.source.body;switch(t.charCodeAt(e+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw P(n.source,e,`Invalid character escape sequence: "${t.slice(e,e+2)}".`)}function Gs(n,e){const t=n.source.body,r=t.length;let i=n.lineStart,s=e+3,o=s,a="";const c=[];for(;s<r;){const u=t.charCodeAt(s);if(u===34&&t.charCodeAt(s+1)===34&&t.charCodeAt(s+2)===34){a+=t.slice(o,s),c.push(a);const l=R(n,b.BLOCK_STRING,e,s+3,Ps(c).join(`
`));return n.line+=c.length-1,n.lineStart=i,l}if(u===92&&t.charCodeAt(s+1)===34&&t.charCodeAt(s+2)===34&&t.charCodeAt(s+3)===34){a+=t.slice(o,s),o=s+1,s+=4;continue}if(u===10||u===13){a+=t.slice(o,s),c.push(a),u===13&&t.charCodeAt(s+1)===10?s+=2:++s,a="",o=s,i=s;continue}if(Fe(u))++s;else if(Nt(t,s))s+=2;else throw P(n.source,s,`Invalid character within String: ${pe(n,s)}.`)}throw P(n.source,s,"Unterminated string.")}function Ys(n,e){const t=n.source.body,r=t.length;let i=e+1;for(;i<r;){const s=t.charCodeAt(i);if(Rs(s))++i;else break}return R(n,b.NAME,e,i,t.slice(e,i))}const Hs=10,di=2;function Dn(n){return _t(n,[])}function _t(n,e){switch(typeof n){case"string":return JSON.stringify(n);case"function":return n.name?`[function ${n.name}]`:"[function]";case"object":return Js(n,e);default:return String(n)}}function Js(n,e){if(n===null)return"null";if(e.includes(n))return"[Circular]";const t=[...e,n];if(Ks(n)){const r=n.toJSON();if(r!==n)return typeof r=="string"?r:_t(r,t)}else if(Array.isArray(n))return Zs(n,t);return Xs(n,t)}function Ks(n){return typeof n.toJSON=="function"}function Xs(n,e){const t=Object.entries(n);return t.length===0?"{}":e.length>di?"["+eo(n)+"]":"{ "+t.map(([i,s])=>i+": "+_t(s,e)).join(", ")+" }"}function Zs(n,e){if(n.length===0)return"[]";if(e.length>di)return"[Array]";const t=Math.min(Hs,n.length),r=n.length-t,i=[];for(let s=0;s<t;++s)i.push(_t(n[s],e));return r===1?i.push("... 1 more item"):r>1&&i.push(`... ${r} more items`),"["+i.join(", ")+"]"}function eo(n){const e=Object.prototype.toString.call(n).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof n.constructor=="function"){const t=n.constructor.name;if(typeof t=="string"&&t!=="")return t}return e}const to=globalThis.process&&!0,no=to?function(e,t){return e instanceof t}:function(e,t){if(e instanceof t)return!0;if(typeof e=="object"&&e!==null){var r;const i=t.prototype[Symbol.toStringTag],s=Symbol.toStringTag in e?e[Symbol.toStringTag]:(r=e.constructor)===null||r===void 0?void 0:r.name;if(i===s){const o=Dn(e);throw new Error(`Cannot use ${i} "${o}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class pi{constructor(e,t="GraphQL request",r={line:1,column:1}){typeof e=="string"||lt(!1,`Body must be a string. Received: ${Dn(e)}.`),this.body=e,this.name=t,this.locationOffset=r,this.locationOffset.line>0||lt(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||lt(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function ro(n){return no(n,pi)}function io(n,e){const t=new so(n,e),r=t.parseDocument();return Object.defineProperty(r,"tokenCount",{enumerable:!1,value:t.tokenCount}),r}class so{constructor(e,t={}){const{lexer:r,...i}=t;if(r)this._lexer=r;else{const s=ro(e)?e:new pi(e);this._lexer=new js(s)}this._options=i,this._tokenCounter=0}get tokenCount(){return this._tokenCounter}parseName(){const e=this.expectToken(b.NAME);return this.node(e,{kind:S.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:S.DOCUMENT,definitions:this.many(b.SOF,this.parseDefinition,b.EOF)})}parseDefinition(){if(this.peek(b.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(e&&t.kind===b.BRACE_L)throw P(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are not supported on shorthand queries.");if(t.kind===b.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition()}if(e)throw P(this._lexer.source,this._lexer.token.start,"Unexpected description, only GraphQL definitions support descriptions.");switch(t.value){case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(t)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(b.BRACE_L))return this.node(e,{kind:S.OPERATION_DEFINITION,operation:Y.QUERY,description:void 0,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const t=this.parseDescription(),r=this.parseOperationType();let i;return this.peek(b.NAME)&&(i=this.parseName()),this.node(e,{kind:S.OPERATION_DEFINITION,operation:r,description:t,name:i,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(b.NAME);switch(e.value){case"query":return Y.QUERY;case"mutation":return Y.MUTATION;case"subscription":return Y.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(b.PAREN_L,this.parseVariableDefinition,b.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:S.VARIABLE_DEFINITION,description:this.parseDescription(),variable:this.parseVariable(),type:(this.expectToken(b.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(b.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(b.DOLLAR),this.node(e,{kind:S.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:S.SELECTION_SET,selections:this.many(b.BRACE_L,this.parseSelection,b.BRACE_R)})}parseSelection(){return this.peek(b.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,t=this.parseName();let r,i;return this.expectOptionalToken(b.COLON)?(r=t,i=this.parseName()):i=t,this.node(e,{kind:S.FIELD,alias:r,name:i,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(b.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(b.PAREN_L,t,b.PAREN_R)}parseArgument(e=!1){const t=this._lexer.token,r=this.parseName();return this.expectToken(b.COLON),this.node(t,{kind:S.ARGUMENT,name:r,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(b.SPREAD);const t=this.expectOptionalKeyword("on");return!t&&this.peek(b.NAME)?this.node(e,{kind:S.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:S.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const e=this._lexer.token,t=this.parseDescription();return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(e,{kind:S.FRAGMENT_DEFINITION,description:t,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:S.FRAGMENT_DEFINITION,description:t,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(e){const t=this._lexer.token;switch(t.kind){case b.BRACKET_L:return this.parseList(e);case b.BRACE_L:return this.parseObject(e);case b.INT:return this.advanceLexer(),this.node(t,{kind:S.INT,value:t.value});case b.FLOAT:return this.advanceLexer(),this.node(t,{kind:S.FLOAT,value:t.value});case b.STRING:case b.BLOCK_STRING:return this.parseStringLiteral();case b.NAME:switch(this.advanceLexer(),t.value){case"true":return this.node(t,{kind:S.BOOLEAN,value:!0});case"false":return this.node(t,{kind:S.BOOLEAN,value:!1});case"null":return this.node(t,{kind:S.NULL});default:return this.node(t,{kind:S.ENUM,value:t.value})}case b.DOLLAR:if(e)if(this.expectToken(b.DOLLAR),this._lexer.token.kind===b.NAME){const r=this._lexer.token.value;throw P(this._lexer.source,t.start,`Unexpected variable "$${r}" in constant value.`)}else throw this.unexpected(t);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:S.STRING,value:e.value,block:e.kind===b.BLOCK_STRING})}parseList(e){const t=()=>this.parseValueLiteral(e);return this.node(this._lexer.token,{kind:S.LIST,values:this.any(b.BRACKET_L,t,b.BRACKET_R)})}parseObject(e){const t=()=>this.parseObjectField(e);return this.node(this._lexer.token,{kind:S.OBJECT,fields:this.any(b.BRACE_L,t,b.BRACE_R)})}parseObjectField(e){const t=this._lexer.token,r=this.parseName();return this.expectToken(b.COLON),this.node(t,{kind:S.OBJECT_FIELD,name:r,value:this.parseValueLiteral(e)})}parseDirectives(e){const t=[];for(;this.peek(b.AT);)t.push(this.parseDirective(e));return t}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const t=this._lexer.token;return this.expectToken(b.AT),this.node(t,{kind:S.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let t;if(this.expectOptionalToken(b.BRACKET_L)){const r=this.parseTypeReference();this.expectToken(b.BRACKET_R),t=this.node(e,{kind:S.LIST_TYPE,type:r})}else t=this.parseNamedType();return this.expectOptionalToken(b.BANG)?this.node(e,{kind:S.NON_NULL_TYPE,type:t}):t}parseNamedType(){return this.node(this._lexer.token,{kind:S.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(b.STRING)||this.peek(b.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");const r=this.parseConstDirectives(),i=this.many(b.BRACE_L,this.parseOperationTypeDefinition,b.BRACE_R);return this.node(e,{kind:S.SCHEMA_DEFINITION,description:t,directives:r,operationTypes:i})}parseOperationTypeDefinition(){const e=this._lexer.token,t=this.parseOperationType();this.expectToken(b.COLON);const r=this.parseNamedType();return this.node(e,{kind:S.OPERATION_TYPE_DEFINITION,operation:t,type:r})}parseScalarTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");const r=this.parseName(),i=this.parseConstDirectives();return this.node(e,{kind:S.SCALAR_TYPE_DEFINITION,description:t,name:r,directives:i})}parseObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");const r=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:S.OBJECT_TYPE_DEFINITION,description:t,name:r,interfaces:i,directives:s,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(b.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(b.BRACE_L,this.parseFieldDefinition,b.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,t=this.parseDescription(),r=this.parseName(),i=this.parseArgumentDefs();this.expectToken(b.COLON);const s=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(e,{kind:S.FIELD_DEFINITION,description:t,name:r,arguments:i,type:s,directives:o})}parseArgumentDefs(){return this.optionalMany(b.PAREN_L,this.parseInputValueDef,b.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,t=this.parseDescription(),r=this.parseName();this.expectToken(b.COLON);const i=this.parseTypeReference();let s;this.expectOptionalToken(b.EQUALS)&&(s=this.parseConstValueLiteral());const o=this.parseConstDirectives();return this.node(e,{kind:S.INPUT_VALUE_DEFINITION,description:t,name:r,type:i,defaultValue:s,directives:o})}parseInterfaceTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");const r=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:S.INTERFACE_TYPE_DEFINITION,description:t,name:r,interfaces:i,directives:s,fields:o})}parseUnionTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");const r=this.parseName(),i=this.parseConstDirectives(),s=this.parseUnionMemberTypes();return this.node(e,{kind:S.UNION_TYPE_DEFINITION,description:t,name:r,directives:i,types:s})}parseUnionMemberTypes(){return this.expectOptionalToken(b.EQUALS)?this.delimitedMany(b.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");const r=this.parseName(),i=this.parseConstDirectives(),s=this.parseEnumValuesDefinition();return this.node(e,{kind:S.ENUM_TYPE_DEFINITION,description:t,name:r,directives:i,values:s})}parseEnumValuesDefinition(){return this.optionalMany(b.BRACE_L,this.parseEnumValueDefinition,b.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,t=this.parseDescription(),r=this.parseEnumValueName(),i=this.parseConstDirectives();return this.node(e,{kind:S.ENUM_VALUE_DEFINITION,description:t,name:r,directives:i})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw P(this._lexer.source,this._lexer.token.start,`${ct(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");const r=this.parseName(),i=this.parseConstDirectives(),s=this.parseInputFieldsDefinition();return this.node(e,{kind:S.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:r,directives:i,fields:s})}parseInputFieldsDefinition(){return this.optionalMany(b.BRACE_L,this.parseInputValueDef,b.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===b.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const t=this.parseConstDirectives(),r=this.optionalMany(b.BRACE_L,this.parseOperationTypeDefinition,b.BRACE_R);if(t.length===0&&r.length===0)throw this.unexpected();return this.node(e,{kind:S.SCHEMA_EXTENSION,directives:t,operationTypes:r})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const t=this.parseName(),r=this.parseConstDirectives();if(r.length===0)throw this.unexpected();return this.node(e,{kind:S.SCALAR_TYPE_EXTENSION,name:t,directives:r})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const t=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(r.length===0&&i.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:S.OBJECT_TYPE_EXTENSION,name:t,interfaces:r,directives:i,fields:s})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const t=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(r.length===0&&i.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:S.INTERFACE_TYPE_EXTENSION,name:t,interfaces:r,directives:i,fields:s})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const t=this.parseName(),r=this.parseConstDirectives(),i=this.parseUnionMemberTypes();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:S.UNION_TYPE_EXTENSION,name:t,directives:r,types:i})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const t=this.parseName(),r=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:S.ENUM_TYPE_EXTENSION,name:t,directives:r,values:i})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const t=this.parseName(),r=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:S.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:r,fields:i})}parseDirectiveDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(b.AT);const r=this.parseName(),i=this.parseArgumentDefs(),s=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const o=this.parseDirectiveLocations();return this.node(e,{kind:S.DIRECTIVE_DEFINITION,description:t,name:r,arguments:i,repeatable:s,locations:o})}parseDirectiveLocations(){return this.delimitedMany(b.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(hn,t.value))return t;throw this.unexpected(e)}parseSchemaCoordinate(){const e=this._lexer.token,t=this.expectOptionalToken(b.AT),r=this.parseName();let i;!t&&this.expectOptionalToken(b.DOT)&&(i=this.parseName());let s;return(t||i)&&this.expectOptionalToken(b.PAREN_L)&&(s=this.parseName(),this.expectToken(b.COLON),this.expectToken(b.PAREN_R)),t?s?this.node(e,{kind:S.DIRECTIVE_ARGUMENT_COORDINATE,name:r,argumentName:s}):this.node(e,{kind:S.DIRECTIVE_COORDINATE,name:r}):i?s?this.node(e,{kind:S.ARGUMENT_COORDINATE,name:r,fieldName:i,argumentName:s}):this.node(e,{kind:S.MEMBER_COORDINATE,name:r,memberName:i}):this.node(e,{kind:S.TYPE_COORDINATE,name:r})}node(e,t){return this._options.noLocation!==!0&&(t.loc=new As(e,this._lexer.lastToken,this._lexer.source)),t}peek(e){return this._lexer.token.kind===e}expectToken(e){const t=this._lexer.token;if(t.kind===e)return this.advanceLexer(),t;throw P(this._lexer.source,t.start,`Expected ${yi(e)}, found ${ct(t)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e?(this.advanceLexer(),!0):!1}expectKeyword(e){const t=this._lexer.token;if(t.kind===b.NAME&&t.value===e)this.advanceLexer();else throw P(this._lexer.source,t.start,`Expected "${e}", found ${ct(t)}.`)}expectOptionalKeyword(e){const t=this._lexer.token;return t.kind===b.NAME&&t.value===e?(this.advanceLexer(),!0):!1}unexpected(e){const t=e??this._lexer.token;return P(this._lexer.source,t.start,`Unexpected ${ct(t)}.`)}any(e,t,r){this.expectToken(e);const i=[];for(;!this.expectOptionalToken(r);)i.push(t.call(this));return i}optionalMany(e,t,r){if(this.expectOptionalToken(e)){const i=[];do i.push(t.call(this));while(!this.expectOptionalToken(r));return i}return[]}many(e,t,r){this.expectToken(e);const i=[];do i.push(t.call(this));while(!this.expectOptionalToken(r));return i}delimitedMany(e,t){this.expectOptionalToken(e);const r=[];do r.push(t.call(this));while(this.expectOptionalToken(e));return r}advanceLexer(){const{maxTokens:e}=this._options,t=this._lexer.advance();if(t.kind!==b.EOF&&(++this._tokenCounter,e!==void 0&&this._tokenCounter>e))throw P(this._lexer.source,t.start,`Document contains more that ${e} tokens. Parsing aborted.`)}}function ct(n){const e=n.value;return yi(n.kind)+(e!=null?` "${e}"`:"")}function yi(n){return Vs(n)?`"${n}"`:n}function oo(n){return`"${n.replace(ao,co)}"`}const ao=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function co(n){return uo[n.charCodeAt(0)]}const uo=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],An=Object.freeze({});function K(n,e,t=ci){const r=new Map;for(const v of Object.values(S))r.set(v,lo(e,v));let i,s=Array.isArray(n),o=[n],a=-1,c=[],u=n,l,f;const h=[],d=[];do{a++;const v=a===o.length,E=v&&c.length!==0;if(v){if(l=d.length===0?void 0:h[h.length-1],u=f,f=d.pop(),E)if(s){u=u.slice();let O=0;for(const[T,q]of c){const B=T-O;q===null?(u.splice(B,1),O++):u[B]=q}}else{u={...u};for(const[O,T]of c)u[O]=T}a=i.index,o=i.keys,c=i.edits,s=i.inArray,i=i.prev}else if(f){if(l=s?a:o[a],u=f[l],u==null)continue;h.push(l)}let k;if(!Array.isArray(u)){var y,g;ur(u)||lt(!1,`Invalid AST Node: ${Dn(u)}.`);const O=v?(y=r.get(u.kind))===null||y===void 0?void 0:y.leave:(g=r.get(u.kind))===null||g===void 0?void 0:g.enter;if(k=O?.call(e,u,l,f,h,d),k===An)break;if(k===!1){if(!v){h.pop();continue}}else if(k!==void 0&&(c.push([l,k]),!v))if(ur(k))u=k;else{h.pop();continue}}if(k===void 0&&E&&c.push([l,u]),v)h.pop();else{var m;i={inArray:s,index:a,keys:o,edits:c,prev:i},s=Array.isArray(u),o=s?u:(m=t[u.kind])!==null&&m!==void 0?m:[],a=-1,c=[],f&&d.push(f),f=u}}while(i!==void 0);return c.length!==0?c[c.length-1][1]:n}function lo(n,e){const t=n[e];return typeof t=="object"?t:typeof t=="function"?{enter:t,leave:void 0}:{enter:n.enter,leave:n.leave}}function fo(n){return K(n,po)}const ho=80,po={Name:{leave:n=>n.value},Variable:{leave:n=>"$"+n.name},Document:{leave:n=>w(n.definitions,`

`)},OperationDefinition:{leave(n){const e=qt(n.variableDefinitions)?x(`(
`,w(n.variableDefinitions,`
`),`
)`):x("(",w(n.variableDefinitions,", "),")"),t=x("",n.description,`
`)+w([n.operation,w([n.name,e]),w(n.directives," ")]," ");return(t==="query"?"":t+" ")+n.selectionSet}},VariableDefinition:{leave:({variable:n,type:e,defaultValue:t,directives:r,description:i})=>x("",i,`
`)+n+": "+e+x(" = ",t)+x(" ",w(r," "))},SelectionSet:{leave:({selections:n})=>$(n)},Field:{leave({alias:n,name:e,arguments:t,directives:r,selectionSet:i}){const s=x("",n,": ")+e;let o=s+x("(",w(t,", "),")");return o.length>ho&&(o=s+x(`(
`,ft(w(t,`
`)),`
)`)),w([o,w(r," "),i]," ")}},Argument:{leave:({name:n,value:e})=>n+": "+e},FragmentSpread:{leave:({name:n,directives:e})=>"..."+n+x(" ",w(e," "))},InlineFragment:{leave:({typeCondition:n,directives:e,selectionSet:t})=>w(["...",x("on ",n),w(e," "),t]," ")},FragmentDefinition:{leave:({name:n,typeCondition:e,variableDefinitions:t,directives:r,selectionSet:i,description:s})=>x("",s,`
`)+`fragment ${n}${x("(",w(t,", "),")")} on ${e} ${x("",w(r," ")," ")}`+i},IntValue:{leave:({value:n})=>n},FloatValue:{leave:({value:n})=>n},StringValue:{leave:({value:n,block:e})=>e?Ls(n):oo(n)},BooleanValue:{leave:({value:n})=>n?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:n})=>n},ListValue:{leave:({values:n})=>"["+w(n,", ")+"]"},ObjectValue:{leave:({fields:n})=>"{"+w(n,", ")+"}"},ObjectField:{leave:({name:n,value:e})=>n+": "+e},Directive:{leave:({name:n,arguments:e})=>"@"+n+x("(",w(e,", "),")")},NamedType:{leave:({name:n})=>n},ListType:{leave:({type:n})=>"["+n+"]"},NonNullType:{leave:({type:n})=>n+"!"},SchemaDefinition:{leave:({description:n,directives:e,operationTypes:t})=>x("",n,`
`)+w(["schema",w(e," "),$(t)]," ")},OperationTypeDefinition:{leave:({operation:n,type:e})=>n+": "+e},ScalarTypeDefinition:{leave:({description:n,name:e,directives:t})=>x("",n,`
`)+w(["scalar",e,w(t," ")]," ")},ObjectTypeDefinition:{leave:({description:n,name:e,interfaces:t,directives:r,fields:i})=>x("",n,`
`)+w(["type",e,x("implements ",w(t," & ")),w(r," "),$(i)]," ")},FieldDefinition:{leave:({description:n,name:e,arguments:t,type:r,directives:i})=>x("",n,`
`)+e+(qt(t)?x(`(
`,ft(w(t,`
`)),`
)`):x("(",w(t,", "),")"))+": "+r+x(" ",w(i," "))},InputValueDefinition:{leave:({description:n,name:e,type:t,defaultValue:r,directives:i})=>x("",n,`
`)+w([e+": "+t,x("= ",r),w(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:n,name:e,interfaces:t,directives:r,fields:i})=>x("",n,`
`)+w(["interface",e,x("implements ",w(t," & ")),w(r," "),$(i)]," ")},UnionTypeDefinition:{leave:({description:n,name:e,directives:t,types:r})=>x("",n,`
`)+w(["union",e,w(t," "),x("= ",w(r," | "))]," ")},EnumTypeDefinition:{leave:({description:n,name:e,directives:t,values:r})=>x("",n,`
`)+w(["enum",e,w(t," "),$(r)]," ")},EnumValueDefinition:{leave:({description:n,name:e,directives:t})=>x("",n,`
`)+w([e,w(t," ")]," ")},InputObjectTypeDefinition:{leave:({description:n,name:e,directives:t,fields:r})=>x("",n,`
`)+w(["input",e,w(t," "),$(r)]," ")},DirectiveDefinition:{leave:({description:n,name:e,arguments:t,repeatable:r,locations:i})=>x("",n,`
`)+"directive @"+e+(qt(t)?x(`(
`,ft(w(t,`
`)),`
)`):x("(",w(t,", "),")"))+(r?" repeatable":"")+" on "+w(i," | ")},SchemaExtension:{leave:({directives:n,operationTypes:e})=>w(["extend schema",w(n," "),$(e)]," ")},ScalarTypeExtension:{leave:({name:n,directives:e})=>w(["extend scalar",n,w(e," ")]," ")},ObjectTypeExtension:{leave:({name:n,interfaces:e,directives:t,fields:r})=>w(["extend type",n,x("implements ",w(e," & ")),w(t," "),$(r)]," ")},InterfaceTypeExtension:{leave:({name:n,interfaces:e,directives:t,fields:r})=>w(["extend interface",n,x("implements ",w(e," & ")),w(t," "),$(r)]," ")},UnionTypeExtension:{leave:({name:n,directives:e,types:t})=>w(["extend union",n,w(e," "),x("= ",w(t," | "))]," ")},EnumTypeExtension:{leave:({name:n,directives:e,values:t})=>w(["extend enum",n,w(e," "),$(t)]," ")},InputObjectTypeExtension:{leave:({name:n,directives:e,fields:t})=>w(["extend input",n,w(e," "),$(t)]," ")},TypeCoordinate:{leave:({name:n})=>n},MemberCoordinate:{leave:({name:n,memberName:e})=>w([n,x(".",e)])},ArgumentCoordinate:{leave:({name:n,fieldName:e,argumentName:t})=>w([n,x(".",e),x("(",t,":)")])},DirectiveCoordinate:{leave:({name:n})=>w(["@",n])},DirectiveArgumentCoordinate:{leave:({name:n,argumentName:e})=>w(["@",n,x("(",e,":)")])}};function w(n,e=""){var t;return(t=n?.filter(r=>r).join(e))!==null&&t!==void 0?t:""}function $(n){return x(`{
`,ft(w(n,`
`)),`
}`)}function x(n,e,t=""){return e!=null&&e!==""?n+e+t:""}function ft(n){return x("  ",n.replace(/\n/g,`
  `))}function qt(n){var e;return(e=n?.some(t=>t.includes(`
`)))!==null&&e!==void 0?e:!1}var pn=function(n,e){return pn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},pn(n,e)};function W(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");pn(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var vt=function(){return vt=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},vt.apply(this,arguments)};function yo(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(f){o(f)}}function c(l){try{u(r.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}function mi(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(t=0)),t;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(l){u=[6,l],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Te(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ie(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s}function xe(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}function Ee(n){return this instanceof Ee?(this.v=n,this):new Ee(n)}function mo(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(d){return function(y){return Promise.resolve(y).then(d,f)}}function a(d,y){r[d]&&(i[d]=function(g){return new Promise(function(m,v){s.push([d,g,m,v])>1||c(d,g)})},y&&(i[d]=y(i[d])))}function c(d,y){try{u(r[d](y))}catch(g){h(s[0][3],g)}}function u(d){d.value instanceof Ee?Promise.resolve(d.value.v).then(l,f):h(s[0][2],d)}function l(d){c("next",d)}function f(d){c("throw",d)}function h(d,y){d(y),s.shift(),s.length&&c(s[0][0],s[0][1])}}function bo(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Te=="function"?Te(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,c){o=n[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}function F(n){return typeof n=="function"}function Fn(n){var e=function(r){Error.call(r),r.stack=new Error().stack},t=n(e);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Bt=Fn(function(n){return function(t){n(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function gt(n,e){if(n){var t=n.indexOf(e);0<=t&&n.splice(t,1)}}var nt=function(){function n(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return n.prototype.unsubscribe=function(){var e,t,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=Te(o),c=a.next();!c.done;c=a.next()){var u=c.value;u.remove(this)}}catch(g){e={error:g}}finally{try{c&&!c.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else o.remove(this);var l=this.initialTeardown;if(F(l))try{l()}catch(g){s=g instanceof Bt?g.errors:[g]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var h=Te(f),d=h.next();!d.done;d=h.next()){var y=d.value;try{fr(y)}catch(g){s=s??[],g instanceof Bt?s=xe(xe([],Ie(s)),Ie(g.errors)):s.push(g)}}}catch(g){r={error:g}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}if(s)throw new Bt(s)}},n.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)fr(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}},n.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},n.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},n.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&gt(t,e)},n.prototype.remove=function(e){var t=this._finalizers;t&&gt(t,e),e instanceof n&&e._removeParent(this)},n.EMPTY=function(){var e=new n;return e.closed=!0,e}(),n}(),bi=nt.EMPTY;function vi(n){return n instanceof nt||n&&"closed"in n&&F(n.remove)&&F(n.add)&&F(n.unsubscribe)}function fr(n){F(n)?n():n.unsubscribe()}var vo={Promise:void 0},go={setTimeout:function(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return setTimeout.apply(void 0,xe([n,e],Ie(t)))},clearTimeout:function(n){return clearTimeout(n)},delegate:void 0};function gi(n){go.setTimeout(function(){throw n})}function hr(){}function ht(n){n()}var Rn=function(n){W(e,n);function e(t){var r=n.call(this)||this;return r.isStopped=!1,t?(r.destination=t,vi(t)&&t.add(r)):r.destination=wo,r}return e.create=function(t,r,i){return new Je(t,r,i)},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,n.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(nt),Eo=function(){function n(e){this.partialObserver=e}return n.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(r){ut(r)}},n.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(r){ut(r)}else ut(e)},n.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){ut(t)}},n}(),Je=function(n){W(e,n);function e(t,r,i){var s=n.call(this)||this,o;return F(t)||!t?o={next:t??void 0,error:r??void 0,complete:i??void 0}:o=t,s.destination=new Eo(o),s}return e}(Rn);function ut(n){gi(n)}function So(n){throw n}var wo={closed:!0,next:hr,error:So,complete:hr},Pn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Mn(n){return n}function ko(n){return n.length===0?Mn:n.length===1?n[0]:function(t){return n.reduce(function(r,i){return i(r)},t)}}var A=function(){function n(e){e&&(this._subscribe=e)}return n.prototype.lift=function(e){var t=new n;return t.source=this,t.operator=e,t},n.prototype.subscribe=function(e,t,r){var i=this,s=To(e)?e:new Je(e,t,r);return ht(function(){var o=i,a=o.operator,c=o.source;s.add(a?a.call(s,c):c?i._subscribe(s):i._trySubscribe(s))}),s},n.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},n.prototype.forEach=function(e,t){var r=this;return t=dr(t),new t(function(i,s){var o=new Je({next:function(a){try{e(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},n.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)},n.prototype[Pn]=function(){return this},n.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ko(e)(this)},n.prototype.toPromise=function(e){var t=this;return e=dr(e),new e(function(r,i){var s;t.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},n.create=function(e){return new n(e)},n}();function dr(n){var e;return(e=n??vo.Promise)!==null&&e!==void 0?e:Promise}function Oo(n){return n&&F(n.next)&&F(n.error)&&F(n.complete)}function To(n){return n&&n instanceof Rn||Oo(n)&&vi(n)}function Io(n){return F(n?.lift)}function X(n){return function(e){if(Io(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(n,e,t,r,i){return new xo(n,e,t,r,i)}var xo=function(n){W(e,n);function e(t,r,i,s,o,a){var c=n.call(this,t)||this;return c.onFinalize=o,c.shouldUnsubscribe=a,c._next=r?function(u){try{r(u)}catch(l){t.error(l)}}:n.prototype._next,c._error=s?function(u){try{s(u)}catch(l){t.error(l)}finally{this.unsubscribe()}}:n.prototype._error,c._complete=i?function(){try{i()}catch(u){t.error(u)}finally{this.unsubscribe()}}:n.prototype._complete,c}return e.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;n.prototype.unsubscribe.call(this),!r&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},e}(Rn),Co=Fn(function(n){return function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Re=function(n){W(e,n);function e(){var t=n.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype.lift=function(t){var r=new pr(this,this);return r.operator=t,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new Co},e.prototype.next=function(t){var r=this;ht(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=Te(r.currentObservers),a=o.next();!a.done;a=o.next()){var c=a.value;c.next(t)}}catch(u){i={error:u}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(t){var r=this;ht(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=t;for(var i=r.observers;i.length;)i.shift().error(t)}})},e.prototype.complete=function(){var t=this;ht(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var r=t.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(t){return this._throwIfClosed(),n.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var r=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?bi:(this.currentObservers=null,a.push(t),new nt(function(){r.currentObservers=null,gt(a,t)}))},e.prototype._checkFinalizedStatuses=function(t){var r=this,i=r.hasError,s=r.thrownError,o=r.isStopped;i?t.error(s):o&&t.complete()},e.prototype.asObservable=function(){var t=new A;return t.source=this,t},e.create=function(t,r){return new pr(t,r)},e}(A),pr=function(n){W(e,n);function e(t,r){var i=n.call(this)||this;return i.destination=t,i.source=r,i}return e.prototype.next=function(t){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,t)},e.prototype.error=function(t){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,t)},e.prototype.complete=function(){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||r===void 0||r.call(t)},e.prototype._subscribe=function(t){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(t))!==null&&i!==void 0?i:bi},e}(Re),No=function(n){W(e,n);function e(t){var r=n.call(this)||this;return r._value=t,r}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(t){var r=n.prototype._subscribe.call(this,t);return!r.closed&&t.next(this._value),r},e.prototype.getValue=function(){var t=this,r=t.hasError,i=t.thrownError,s=t._value;if(r)throw i;return this._throwIfClosed(),s},e.prototype.next=function(t){n.prototype.next.call(this,this._value=t)},e}(Re),Ln={now:function(){return(Ln.delegate||Date).now()},delegate:void 0},_o=function(n){W(e,n);function e(t,r,i){t===void 0&&(t=1/0),r===void 0&&(r=1/0),i===void 0&&(i=Ln);var s=n.call(this)||this;return s._bufferSize=t,s._windowTime=r,s._timestampProvider=i,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=r===1/0,s._bufferSize=Math.max(1,t),s._windowTime=Math.max(1,r),s}return e.prototype.next=function(t){var r=this,i=r.isStopped,s=r._buffer,o=r._infiniteTimeWindow,a=r._timestampProvider,c=r._windowTime;i||(s.push(t),!o&&s.push(a.now()+c)),this._trimBuffer(),n.prototype.next.call(this,t)},e.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(t),i=this,s=i._infiniteTimeWindow,o=i._buffer,a=o.slice(),c=0;c<a.length&&!t.closed;c+=s?1:2)t.next(a[c]);return this._checkFinalizedStatuses(t),r},e.prototype._trimBuffer=function(){var t=this,r=t._bufferSize,i=t._timestampProvider,s=t._buffer,o=t._infiniteTimeWindow,a=(o?1:2)*r;if(r<1/0&&a<s.length&&s.splice(0,s.length-a),!o){for(var c=i.now(),u=0,l=1;l<s.length&&s[l]<=c;l+=2)u=l;u&&s.splice(0,u+1)}},e}(Re),Do=function(n){W(e,n);function e(t,r){return n.call(this)||this}return e.prototype.schedule=function(t,r){return this},e}(nt),yr={setInterval:function(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return setInterval.apply(void 0,xe([n,e],Ie(t)))},clearInterval:function(n){return clearInterval(n)},delegate:void 0},Ao=function(n){W(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.scheduler=t,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(t,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=t;var s=this.id,o=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(o,s,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,r),this},e.prototype.requestAsyncId=function(t,r,i){return i===void 0&&(i=0),yr.setInterval(t.flush.bind(t,this),i)},e.prototype.recycleAsyncId=function(t,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&yr.clearInterval(r)},e.prototype.execute=function(t,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(t,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,r){var i=!1,s;try{this.work(t)}catch(o){i=!0,s=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s},e.prototype.unsubscribe=function(){if(!this.closed){var t=this,r=t.id,i=t.scheduler,s=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,gt(s,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,n.prototype.unsubscribe.call(this)}},e}(Do),Fo=1,Ut,yn={};function mr(n){return n in yn?(delete yn[n],!0):!1}var Ei={setImmediate:function(n){var e=Fo++;return yn[e]=!0,Ut||(Ut=Promise.resolve()),Ut.then(function(){return mr(e)&&n()}),e},clearImmediate:function(n){mr(n)}},Ro=Ei.setImmediate,Po=Ei.clearImmediate,br={setImmediate:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return Ro.apply(void 0,xe([],Ie(n)))},clearImmediate:function(n){return Po(n)},delegate:void 0},Mo=function(n){W(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.scheduler=t,i.work=r,i}return e.prototype.requestAsyncId=function(t,r,i){return i===void 0&&(i=0),i!==null&&i>0?n.prototype.requestAsyncId.call(this,t,r,i):(t.actions.push(this),t._scheduled||(t._scheduled=br.setImmediate(t.flush.bind(t,void 0))))},e.prototype.recycleAsyncId=function(t,r,i){var s;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return n.prototype.recycleAsyncId.call(this,t,r,i);var o=t.actions;r!=null&&((s=o[o.length-1])===null||s===void 0?void 0:s.id)!==r&&(br.clearImmediate(r),t._scheduled===r&&(t._scheduled=void 0))},e}(Ao),vr=function(){function n(e,t){t===void 0&&(t=n.now),this.schedulerActionCtor=e,this.now=t}return n.prototype.schedule=function(e,t,r){return t===void 0&&(t=0),new this.schedulerActionCtor(this,e).schedule(r,t)},n.now=Ln.now,n}(),Lo=function(n){W(e,n);function e(t,r){r===void 0&&(r=vr.now);var i=n.call(this,t,r)||this;return i.actions=[],i._active=!1,i}return e.prototype.flush=function(t){var r=this.actions;if(this._active){r.push(t);return}var i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=r.shift());if(this._active=!1,i){for(;t=r.shift();)t.unsubscribe();throw i}},e}(vr),jo=function(n){W(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.flush=function(t){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var i=this.actions,s;t=t||i.shift();do if(s=t.execute(t.state,t.delay))break;while((t=i[0])&&t.id===r&&i.shift());if(this._active=!1,s){for(;(t=i[0])&&t.id===r&&i.shift();)t.unsubscribe();throw s}},e}(Lo),Vo=new jo(Mo),Ke=new A(function(n){return n.complete()});function qo(n){return n&&F(n.schedule)}function Bo(n){return n[n.length-1]}function Si(n){return qo(Bo(n))?n.pop():void 0}var wi=function(n){return n&&typeof n.length=="number"&&typeof n!="function"};function ki(n){return F(n?.then)}function Oi(n){return F(n[Pn])}function Ti(n){return Symbol.asyncIterator&&F(n?.[Symbol.asyncIterator])}function Ii(n){return new TypeError("You provided "+(n!==null&&typeof n=="object"?"an invalid object":"'"+n+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Uo(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var xi=Uo();function Ci(n){return F(n?.[xi])}function Ni(n){return mo(this,arguments,function(){var t,r,i,s;return mi(this,function(o){switch(o.label){case 0:t=n.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,Ee(t.read())];case 3:return r=o.sent(),i=r.value,s=r.done,s?[4,Ee(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,Ee(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function _i(n){return F(n?.getReader)}function ce(n){if(n instanceof A)return n;if(n!=null){if(Oi(n))return Qo(n);if(wi(n))return zo(n);if(ki(n))return Wo(n);if(Ti(n))return Di(n);if(Ci(n))return $o(n);if(_i(n))return Go(n)}throw Ii(n)}function Qo(n){return new A(function(e){var t=n[Pn]();if(F(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function zo(n){return new A(function(e){for(var t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function Wo(n){return new A(function(e){n.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,gi)})}function $o(n){return new A(function(e){var t,r;try{for(var i=Te(n),s=i.next();!s.done;s=i.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(a){t={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}e.complete()})}function Di(n){return new A(function(e){Yo(n,e).catch(function(t){return e.error(t)})})}function Go(n){return Di(Ni(n))}function Yo(n,e){var t,r,i,s;return yo(this,void 0,void 0,function(){var o,a;return mi(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),t=bo(n),c.label=1;case 1:return[4,t.next()];case 2:if(r=c.sent(),!!r.done)return[3,4];if(o=r.value,e.next(o),e.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),i={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(s=t.return)?[4,s.call(t)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function de(n,e,t,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function jn(n,e){return e===void 0&&(e=0),X(function(t,r){t.subscribe(se(r,function(i){return de(r,n,function(){return r.next(i)},e)},function(){return de(r,n,function(){return r.complete()},e)},function(i){return de(r,n,function(){return r.error(i)},e)}))})}function Ai(n,e){return e===void 0&&(e=0),X(function(t,r){r.add(n.schedule(function(){return t.subscribe(r)},e))})}function Ho(n,e){return ce(n).pipe(Ai(e),jn(e))}function Jo(n,e){return ce(n).pipe(Ai(e),jn(e))}function Ko(n,e){return new A(function(t){var r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function Xo(n,e){return new A(function(t){var r;return de(t,e,function(){r=n[xi](),de(t,e,function(){var i,s,o;try{i=r.next(),s=i.value,o=i.done}catch(a){t.error(a);return}o?t.complete():t.next(s)},0,!0)}),function(){return F(r?.return)&&r.return()}})}function Fi(n,e){if(!n)throw new Error("Iterable cannot be null");return new A(function(t){de(t,e,function(){var r=n[Symbol.asyncIterator]();de(t,e,function(){r.next().then(function(i){i.done?t.complete():t.next(i.value)})},0,!0)})})}function Zo(n,e){return Fi(Ni(n),e)}function ea(n,e){if(n!=null){if(Oi(n))return Ho(n,e);if(wi(n))return Ko(n,e);if(ki(n))return Jo(n,e);if(Ti(n))return Fi(n,e);if(Ci(n))return Xo(n,e);if(_i(n))return Zo(n,e)}throw Ii(n)}function fe(n,e){return e?ea(n,e):ce(n)}function le(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=Si(n);return fe(n,t)}function Et(n,e){var t=F(n)?n:function(){return n},r=function(i){return i.error(t())};return new A(r)}var gr;(function(n){n.NEXT="N",n.ERROR="E",n.COMPLETE="C"})(gr||(gr={}));var Qt=function(){function n(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue=e==="N"}return n.prototype.observe=function(e){return ta(this,e)},n.prototype.do=function(e,t,r){var i=this,s=i.kind,o=i.value,a=i.error;return s==="N"?e?.(o):s==="E"?t?.(a):r?.()},n.prototype.accept=function(e,t,r){var i;return F((i=e)===null||i===void 0?void 0:i.next)?this.observe(e):this.do(e,t,r)},n.prototype.toObservable=function(){var e=this,t=e.kind,r=e.value,i=e.error,s=t==="N"?le(r):t==="E"?Et(function(){return i}):t==="C"?Ke:0;if(!s)throw new TypeError("Unexpected notification kind "+t);return s},n.createNext=function(e){return new n("N",e)},n.createError=function(e){return new n("E",void 0,e)},n.createComplete=function(){return n.completeNotification},n.completeNotification=new n("C"),n}();function ta(n,e){var t,r,i,s=n,o=s.kind,a=s.value,c=s.error;if(typeof o!="string")throw new TypeError('Invalid notification, missing "kind"');o==="N"?(t=e.next)===null||t===void 0||t.call(e,a):o==="E"?(r=e.error)===null||r===void 0||r.call(e,c):(i=e.complete)===null||i===void 0||i.call(e)}var na=Fn(function(n){return function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}});function ra(n,e){var t=typeof e=="object";return new Promise(function(r,i){var s=!1,o;n.subscribe({next:function(a){o=a,s=!0},error:i,complete:function(){s?r(o):t?r(e.defaultValue):i(new na)}})})}function he(n,e){return X(function(t,r){var i=0;t.subscribe(se(r,function(s){r.next(n.call(e,s,i++))}))})}function ia(n,e,t,r,i,s,o,a){var c=[],u=0,l=0,f=!1,h=function(){f&&!c.length&&!u&&e.complete()},d=function(g){return u<r?y(g):c.push(g)},y=function(g){u++;var m=!1;ce(t(g,l++)).subscribe(se(e,function(v){e.next(v)},function(){m=!0},void 0,function(){if(m)try{u--;for(var v=function(){var E=c.shift();o||y(E)};c.length&&u<r;)v();h()}catch(E){e.error(E)}}))};return n.subscribe(se(e,d,function(){f=!0,h()})),function(){}}function me(n,e,t){return t===void 0&&(t=1/0),F(e)?me(function(r,i){return he(function(s,o){return e(r,s,i,o)})(ce(n(r,i)))},t):(typeof e=="number"&&(t=e),X(function(r,i){return ia(r,i,n,t)}))}function sa(n){return me(Mn,n)}function oa(){return sa(1)}function zt(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return oa()(fe(n,Si(n)))}function aa(n,e){return X(function(t,r){var i=0;t.subscribe(se(r,function(s){return n.call(e,s,i++)&&r.next(s)}))})}function dt(n){return X(function(e,t){var r=null,i=!1,s;r=e.subscribe(se(t,void 0,void 0,function(o){s=ce(n(o,dt(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function ca(n){return X(function(e,t){try{e.subscribe(t)}finally{t.add(n)}})}function ua(){return X(function(n,e){n.subscribe(se(e,function(t){e.next(Qt.createNext(t))},function(){e.next(Qt.createComplete()),e.complete()},function(t){e.next(Qt.createError(t)),e.complete()}))})}function St(n){n===void 0&&(n={});var e=n.connector,t=e===void 0?function(){return new Re}:e,r=n.resetOnError,i=r===void 0?!0:r,s=n.resetOnComplete,o=s===void 0?!0:s,a=n.resetOnRefCountZero,c=a===void 0?!0:a;return function(u){var l,f,h,d=0,y=!1,g=!1,m=function(){f?.unsubscribe(),f=void 0},v=function(){m(),l=h=void 0,y=g=!1},E=function(){var k=l;v(),k?.unsubscribe()};return X(function(k,O){d++,!g&&!y&&m();var T=h=h??t();O.add(function(){d--,d===0&&!g&&!y&&(f=Wt(E,c))}),T.subscribe(O),!l&&d>0&&(l=new Je({next:function(q){return T.next(q)},error:function(q){g=!0,m(),f=Wt(v,i,q),T.error(q)},complete:function(){y=!0,m(),f=Wt(v,o),T.complete()}}),ce(k).subscribe(l))})(u)}}function Wt(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];if(e===!0){n();return}if(e!==!1){var i=new Je({next:function(){i.unsubscribe(),n()}});return ce(e.apply(void 0,xe([],Ie(t)))).subscribe(i)}}function la(n,e,t){var r,i,s,o,a=!1;return n&&typeof n=="object"?(r=n.bufferSize,o=r===void 0?1/0:r,i=n.windowTime,e=i===void 0?1/0:i,s=n.refCount,a=s===void 0?!1:s,t=n.scheduler):o=n??1/0,St({connector:function(){return new _o(o,e,t)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function wt(n,e,t){var r=F(n)||e||t?{next:n,error:e,complete:t}:n;return r?X(function(i,s){var o;(o=r.subscribe)===null||o===void 0||o.call(r);var a=!0;i.subscribe(se(s,function(c){var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},function(){var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},function(c){var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},function(){var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Mn}function Ce(n,e,t,r){if(t.kind===S.INT||t.kind===S.FLOAT)n[e.value]=Number(t.value);else if(t.kind===S.BOOLEAN||t.kind===S.STRING)n[e.value]=t.value;else if(t.kind===S.OBJECT){const i={};t.fields.map(s=>Ce(i,s.name,s.value,r)),n[e.value]=i}else if(t.kind===S.VARIABLE){const i=(r||{})[t.name.value];n[e.value]=i}else if(t.kind===S.LIST)n[e.value]=t.values.map(i=>{const s={};return Ce(s,e,i,r),s[e.value]});else if(t.kind===S.ENUM)n[e.value]=t.value;else if(t.kind===S.NULL)n[e.value]=null;else throw z(19,e.value,t.kind)}function Vn(n,e){if(n.arguments&&n.arguments.length){const t={};return n.arguments.forEach(({name:r,value:i})=>Ce(t,r,i,e)),t}return null}const Ri=typeof G(()=>window.document.createElement)=="function",fa=Symbol.for("apollo.cacheSize"),ee={...an[fa]};function Ne(n,e){return n.definitions.find(t=>t.kind==="OperationDefinition"&&!!t.name)?.name.value??e}const ha=()=>Object.create(null),{forEach:da,slice:Er}=Array.prototype,{hasOwnProperty:pa}=Object.prototype;class te{constructor(e=!0,t=ha){this.weakness=e,this.makeData=t}lookup(){return this.lookupArray(arguments)}lookupArray(e){let t=this;return da.call(e,r=>t=t.getChildTrie(r)),pa.call(t,"data")?t.data:t.data=this.makeData(Er.call(e))}peek(){return this.peekArray(arguments)}peekArray(e){let t=this;for(let r=0,i=e.length;t&&r<i;++r){const s=t.mapFor(e[r],!1);t=s&&s.get(e[r])}return t&&t.data}remove(){return this.removeArray(arguments)}removeArray(e){let t;if(e.length){const r=e[0],i=this.mapFor(r,!1),s=i&&i.get(r);s&&(t=s.removeArray(Er.call(e,1)),!s.data&&!s.weak&&!(s.strong&&s.strong.size)&&i.delete(r))}else t=this.data,delete this.data;return t}getChildTrie(e){const t=this.mapFor(e,!0);let r=t.get(e);return r||t.set(e,r=new te(this.weakness,this.makeData)),r}mapFor(e,t){return this.weakness&&ya(e)?this.weak||(t?this.weak=new WeakMap:void 0):this.strong||(t?this.strong=new Map:void 0)}}function ya(n){switch(typeof n){case"object":if(n===null)break;case"function":return!0}return!1}function ma(){}class mn{constructor(e=1/0,t=ma){this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}has(e){return this.map.has(e)}get(e){const t=this.getNode(e);return t&&t.value}get size(){return this.map.size}getNode(e){const t=this.map.get(e);if(t&&t!==this.newest){const{older:r,newer:i}=t;i&&(i.older=r),r&&(r.newer=i),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=i)}return t}set(e,t){let r=this.getNode(e);return r?r.value=t:(r={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.map.set(e,r),r.value)}clean(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)}delete(e){const t=this.map.get(e);return t?(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0):!1}}function bn(){}const ba=bn,va=typeof WeakRef<"u"?WeakRef:function(n){return{deref:()=>n}},ga=typeof WeakMap<"u"?WeakMap:Map,Ea=typeof FinalizationRegistry<"u"?FinalizationRegistry:function(){return{register:bn,unregister:bn}},Sa=10024;class kt{constructor(e=1/0,t=ba){this.max=e,this.dispose=t,this.map=new ga,this.newest=null,this.oldest=null,this.unfinalizedNodes=new Set,this.finalizationScheduled=!1,this.size=0,this.finalize=()=>{const r=this.unfinalizedNodes.values();for(let i=0;i<Sa;i++){const s=r.next().value;if(!s)break;this.unfinalizedNodes.delete(s);const o=s.key;delete s.key,s.keyRef=new va(o),this.registry.register(o,s,s)}this.unfinalizedNodes.size>0?queueMicrotask(this.finalize):this.finalizationScheduled=!1},this.registry=new Ea(this.deleteNode.bind(this))}has(e){return this.map.has(e)}get(e){const t=this.getNode(e);return t&&t.value}getNode(e){const t=this.map.get(e);if(t&&t!==this.newest){const{older:r,newer:i}=t;i&&(i.older=r),r&&(r.newer=i),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=i)}return t}set(e,t){let r=this.getNode(e);return r?r.value=t:(r={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.scheduleFinalization(r),this.map.set(e,r),this.size++,r.value)}clean(){for(;this.oldest&&this.size>this.max;)this.deleteNode(this.oldest)}deleteNode(e){e===this.newest&&(this.newest=e.older),e===this.oldest&&(this.oldest=e.newer),e.newer&&(e.newer.older=e.older),e.older&&(e.older.newer=e.newer),this.size--;const t=e.key||e.keyRef&&e.keyRef.deref();this.dispose(e.value,t),e.keyRef?this.registry.unregister(e):this.unfinalizedNodes.delete(e),t&&this.map.delete(t)}delete(e){const t=this.map.get(e);return t?(this.deleteNode(t),!0):!1}scheduleFinalization(e){this.unfinalizedNodes.add(e),this.finalizationScheduled||(this.finalizationScheduled=!0,queueMicrotask(this.finalize))}}const $t=new WeakSet;function Pi(n){n.size<=(n.max||-1)||$t.has(n)||($t.add(n),setTimeout(()=>{n.clean(),$t.delete(n)},100))}const qn=function(n,e){const t=new kt(n,e);return t.set=function(r,i){const s=kt.prototype.set.call(this,r,i);return Pi(this),s},t},wa=function(n,e){const t=new mn(n,e);return t.set=function(r,i){const s=mn.prototype.set.call(this,r,i);return Pi(this),s},t};function ka(n,{max:e}){const t=new te(!0),r=new qn(e);return(...i)=>{const s=t.lookupArray(i),o=r.get(s);if(o){if(o.error)throw o.error;return o.result}const a=r.set(s,{});try{return a.result=n(...i)}catch(c){throw a.error=c,c}}}const re=ka((n,e)=>{C(n&&n.kind==="Document",1);const t=n.definitions.filter(r=>r.kind==="OperationDefinition");e&&C(t.length==1&&t[0].operation===e,4,e,e,t[0].operation),K(n,{Field(r,i,s,o){if(r.alias&&(r.alias.value==="__typename"||r.alias.value.startsWith("__ac_"))&&r.alias.value!==r.name.value){let a=n,c=[];for(const u of o)a=a[u],a.kind===S.FIELD&&c.push(a.alias?.value||a.name.value);throw c.splice(-1,1,r.name.value),z(5,r.alias.value,c.join("."),t[0].operation,Ne(n,"(anonymous)"))}}})},{max:ee.checkDocument||2e3});function Q(...n){const e={};return n.forEach(t=>{t&&Object.keys(t).forEach(r=>{const i=t[r];i!==void 0&&(e[r]=i)})}),e}function rt(n=[]){const e={};return n.forEach(t=>{e[t.name.value]=t}),e}function U(n){return n!==null&&typeof n=="object"}const{hasOwnProperty:Oa}=Object.prototype,Ta=function(n,e,t){return this.merge(n[t],e[t])};class _e{constructor(e=Ta){p(this,"reconciler");p(this,"isObject",U);p(this,"pastCopies",new Set);this.reconciler=e}merge(e,t,...r){return U(t)&&U(e)?(Object.keys(t).forEach(i=>{if(Oa.call(e,i)){const s=e[i];if(t[i]!==s){const o=this.reconciler(e,t,i,...r);o!==s&&(e=this.shallowCopyForMerge(e),e[i]=o)}}else e=this.shallowCopyForMerge(e),e[i]=t[i]}),e):t}shallowCopyForMerge(e){return U(e)&&(this.pastCopies.has(e)||(Array.isArray(e)?e=e.slice(0):e={__proto__:Object.getPrototypeOf(e),...e},this.pastCopies.add(e))),e}}function Bn(n){const e={},t=n&&n.variableDefinitions;return t&&t.length&&t.forEach(r=>{r.defaultValue&&Ce(e,r.variable.name,r.defaultValue)}),e}function Dt(n,e){switch(n.kind){case"InlineFragment":return n;case"FragmentSpread":{const t=n.name.value;if(typeof e=="function")return e(t);const r=e&&e[t];return C(r,9,t),r||null}default:return null}}function Ia(n,e){let t=e;const r=[];return n.definitions.forEach(s=>{if(s.kind==="OperationDefinition")throw z(10,s.operation,s.name?` named '${s.name.value}'`:"");s.kind==="FragmentDefinition"&&r.push(s)}),typeof t>"u"&&(C(r.length===1,11,r.length),t=r[0].name.value),{...n,definitions:[{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:t}}]}},...n.definitions]}}function xa(n){C(n.kind==="Document",6),C(n.definitions.length<=1,7);const e=n.definitions[0];return C(e.kind==="FragmentDefinition",8),e}function it(n){return n.definitions.filter(e=>e.kind==="FragmentDefinition")}function Mi(n){re(n);let e;for(let t of n.definitions){if(t.kind==="OperationDefinition")return t;t.kind==="FragmentDefinition"&&!e&&(e=t)}if(e)return e;throw z(12)}function oe(n){return re(n),n.definitions.filter(e=>e.kind==="OperationDefinition")[0]}function Ca(n){const e=oe(n);return C(e&&e.operation==="query",13),e}const ie=Object.assign(function(e){return JSON.stringify(e,Na)},{reset(){Ue=new wa(ee.canonicalStringify||1e3)}});let Ue;ie.reset();function Na(n,e){if(e&&typeof e=="object"){const t=Object.getPrototypeOf(e);if(t===Object.prototype||t===null){const r=Object.keys(e);if(r.every(_a))return e;const i=JSON.stringify(r);let s=Ue.get(i);if(!s){r.sort();const a=JSON.stringify(r);s=Ue.get(a)||r,Ue.set(i,s),Ue.set(a,s)}const o=Object.create(t);return s.forEach(a=>{o[a]=e[a]}),o}}return e}function _a(n,e,t){return e===0||t[e-1]<=n}const Da=["connection","include","skip","client","rest","export","nonreactive"];let Le=ie;const Li=Object.assign(function(n,e,t){if(e&&t&&t.connection&&t.connection.key){if(t.connection.filter&&t.connection.filter.length>0){const i=t.connection.filter?t.connection.filter:[];i.sort();const s={};i.forEach(a=>{s[a]=e[a]});const o=Le(s);if(o!=="{}")return`${t.connection.key}(${o})`}return t.connection.key}let r=n;if(e){const i=Le(e);i!=="{}"&&(r+=`(${i})`)}return t&&Object.keys(t).forEach(i=>{Da.indexOf(i)===-1&&(t[i]&&Object.keys(t[i]).length?r+=`@${i}(${Le(t[i])})`:r+=`@${i}`)}),r},{setStringify(n){const e=Le;return Le=n,e}});function be(n){return!!n.errors?.length}function Qe(n,e,t){const r=new Set(n),i=r.size;return K(e,{Directive(s){if(r.delete(s.name.value)&&(!t||!r.size))return An}}),t?!r.size:r.size<i}function Aa(n){let e=!1;return K(n,{Directive:{enter(t){if(t.name.value==="client"&&t.arguments&&(e=t.arguments.some(r=>r.name.value==="always"&&r.value.kind==="BooleanValue"&&r.value.value===!0),e))return An}}}),e}const M=Array.isArray;function Fa(n){return U(n)&&n.kind==="Document"&&Array.isArray(n.definitions)}function st(n){return n.kind==="Field"}function Un(n){return Array.isArray(n)&&n.length>0}function Se(n){return{__ref:String(n)}}function Ra(n){let e=n[0]||{};const t=n.length;if(t>1){const r=new _e;for(let i=1;i<t;++i)e=r.merge(e,n[i])}return e}function we(n,e){return Q(n,e,e.variables&&{variables:Q({...n&&n.variables,...e.variables})})}function ji(n){return n.catch(()=>{}),n}function Pa(n,e){re(e);const t=Sr(""),r=Sr(""),i=m=>{for(let v=0,E;v<m.length&&(E=m[v]);++v)if(!M(E)){if(E.kind===S.OPERATION_DEFINITION)return t(E.name&&E.name.value);if(E.kind===S.FRAGMENT_DEFINITION)return r(E.name.value)}return C.error(14),null};let s=0;for(let m=e.definitions.length-1;m>=0;--m)e.definitions[m].kind===S.OPERATION_DEFINITION&&++s;const o=Ma(n),a=m=>Un(m)&&m.map(o).some(v=>v&&v.remove),c=new Map;let u=!1;const l={enter(m){if(a(m.directives))return u=!0,null}},f=K(e,{Field:l,InlineFragment:l,VariableDefinition:{enter(){return!1}},Variable:{enter(m,v,E,k,O){const T=i(O);T&&T.variables.add(m.name.value)}},FragmentSpread:{enter(m,v,E,k,O){if(a(m.directives))return u=!0,null;const T=i(O);T&&T.fragmentSpreads.add(m.name.value)}},FragmentDefinition:{enter(m,v,E,k){c.set(JSON.stringify(k),m)},leave(m,v,E,k){const O=c.get(JSON.stringify(k));if(m===O)return m;if(s>0&&m.selectionSet.selections.every(T=>T.kind===S.FIELD&&T.name.value==="__typename"))return r(m.name.value).removed=!0,u=!0,null}},Directive:{leave(m){if(o(m))return u=!0,null}}});if(!u)return e;const h=m=>(m.transitiveVars||(m.transitiveVars=new Set(m.variables),m.removed||m.fragmentSpreads.forEach(v=>{h(r(v)).transitiveVars.forEach(E=>{m.transitiveVars.add(E)})})),m),d=new Set;f.definitions.forEach(m=>{m.kind===S.OPERATION_DEFINITION?h(t(m.name&&m.name.value)).fragmentSpreads.forEach(v=>{d.add(v)}):m.kind===S.FRAGMENT_DEFINITION&&s===0&&!r(m.name.value).removed&&d.add(m.name.value)}),d.forEach(m=>{h(r(m)).fragmentSpreads.forEach(v=>{d.add(v)})});const y=m=>!!(!d.has(m)||r(m).removed),g={enter(m){if(y(m.name.value))return null}};return La(K(f,{FragmentSpread:g,FragmentDefinition:g,OperationDefinition:{leave(m){if(m.variableDefinitions){const v=h(t(m.name&&m.name.value)).transitiveVars;if(v.size<m.variableDefinitions.length)return{...m,variableDefinitions:m.variableDefinitions.filter(E=>v.has(E.variable.name.value))}}}}}))}function Sr(n){const e=new Map;return function(r=n){let i=e.get(r);return i||e.set(r,i={variables:new Set,fragmentSpreads:new Set}),i}}function Ma(n){const e=new Map,t=new Map;return n.forEach(r=>{r&&(r.name?e.set(r.name,r):r.test&&t.set(r.test,r))}),r=>{let i=e.get(r.name.value);return!i&&t.size&&t.forEach((s,o)=>{o(r)&&(i=s)}),i}}function Vi(n,e){return!n||n.selectionSet.selections.every(t=>t.kind===S.FRAGMENT_SPREAD&&Vi(e[t.name.value],e))}function La(n){return Vi(oe(n)||xa(n),rt(it(n)))?null:n}function ja(n){return K(n,{FragmentSpread(e){if(!e.directives?.some(({name:t})=>t.value==="unmask"))return null}})}function Pe(n){return n.alias?n.alias.value:n.name.value}function At({directives:n},e){return!n||!n.length?!0:qa(n).every(({directive:t,ifArgument:r})=>{let i=!1;return r.value.kind==="Variable"?(i=e&&e[r.value.name.value],C(i!==void 0,15,t.name.value)):i=r.value.value,t.name.value==="skip"?!i:i})}function Va({name:{value:n}}){return n==="skip"||n==="include"}function qa(n){const e=[];return n&&n.length&&n.forEach(t=>{if(!Va(t))return;const r=t.arguments,i=t.name.value;C(r&&r.length===1,16,i);const s=r[0];C(s.name&&s.name.value==="if",17,i);const o=s.value;C(o&&(o.kind==="Variable"||o.kind==="BooleanValue"),18,i),e.push({directive:t,ifArgument:s})}),e}function Ba(n,e){let t=null;n.directives&&(t={},n.directives.forEach(i=>{t[i.name.value]={},i.arguments&&i.arguments.forEach(({name:s,value:o})=>Ce(t[i.name.value],s,o,e))}));let r=null;return n.arguments&&n.arguments.length&&(r={},n.arguments.forEach(({name:i,value:s})=>Ce(r,i,s,e))),Li(n.name.value,r,t)}function pt(n){const e={data:n.data};return n.error&&(e.error=n.error),e}function vn(n,e=()=>{}){return t=>new A(r=>{let i=e();return t.subscribe({next(s){let o;try{o=n(s,i)}catch(a){r.error(a)}o!==void 0&&r.next(o)},error(s){r.error(s)},complete(){r.complete()}})})}function qi(n,{data:e,...t},{data:r,...i},s){return _(t,i)&&yt(Mi(n).selectionSet,e,r,{fragmentMap:rt(it(n)),variables:s})}function yt(n,e,t,r){if(e===t)return!0;const i=new Set;return n.selections.every(s=>{if(i.has(s)||(i.add(s),!At(s,r.variables))||wr(s))return!0;if(st(s)){const o=Pe(s),a=e&&e[o],c=t&&t[o],u=s.selectionSet;if(!u)return _(a,c);const l=Array.isArray(a),f=Array.isArray(c);if(l!==f)return!1;if(l&&f){const h=a.length;if(c.length!==h)return!1;for(let d=0;d<h;++d)if(!yt(u,a[d],c[d],r))return!1;return!0}return yt(u,a,c,r)}else{const o=Dt(s,r.fragmentMap);if(o)return wr(o)?!0:yt(o.selectionSet,e,t,r)}})}function wr(n){return!!n.directives&&n.directives.some(Ua)}function Ua(n){return n.name.value==="nonreactive"}const Qn=Symbol.for("apollo.observableQuery.variablesUnknown");class Qa{constructor(){p(this,"startRequest")}isIncrementalResult(e){return!1}prepareRequest(e){return C(!Qe(["defer"],e.query),64),e}extractErrors(){}}function za(n,{client:e}){const t={query:n.query,variables:n.variables||{},extensions:n.extensions||{},operationName:Ne(n.query),operationType:oe(n.query).operation};let r={...n.context};const i=o=>{typeof o=="function"?r={...r,...o(s())}:r={...r,...o}},s=()=>Object.freeze({...r});return Object.defineProperty(t,"setContext",{enumerable:!1,value:i}),Object.defineProperty(t,"getContext",{enumerable:!1,value:s}),Object.defineProperty(t,"client",{enumerable:!1,value:e}),t}function Wa(n,e){const t={...n},r=new Set(Object.keys(n));return K(e,{Variable(i,s,o){o&&o.kind!=="VariableDefinition"&&r.delete(i.name.value)}}),r.forEach(i=>{delete t[i]}),t}class j{constructor(e){p(this,"left");p(this,"right");e&&(this.request=e)}static empty(){return new j(()=>Ke)}static from(e){if(e.length===0)return j.empty();const[t,...r]=e;return t.concat(...r)}static split(e,t,r=new j((i,s)=>s(i))){const i=new j((s,o)=>e(s)?t.request(s,o):r.request(s,o));return Object.assign(i,{left:t,right:r})}static execute(e,t,r){return e.request(za(t,r),()=>Ke)}static concat(...e){return j.from(e)}split(e,t,r){return this.concat(j.split(e,t,r))}concat(...e){return e.length===0?this:e.reduce(this.combine.bind(this),this)}combine(e,t){const r=new j((i,s)=>e.request(i,o=>t.request(o,s)));return Object.assign(r,{left:e,right:t})}request(e,t){throw z(63)}}const Tu=j.from,gn=j.execute;let V=null;const kr={};let $a=1;const Ga=()=>class{constructor(){this.id=["slot",$a++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let e=V;e;e=e.parent)if(this.id in e.slots){const t=e.slots[this.id];if(t===kr)break;return e!==V&&(V.slots[this.id]=t),!0}return V&&(V.slots[this.id]=kr),!1}getValue(){if(this.hasValue())return V.slots[this.id]}withValue(e,t,r,i){const s={__proto__:null,[this.id]:e},o=V;V={parent:o,slots:s};try{return t.apply(i,r)}finally{V=o}}static bind(e){const t=V;return function(){const r=V;try{return V=t,e.apply(this,arguments)}finally{V=r}}}static noContext(e,t,r){if(V){const i=V;try{return V=null,e.apply(r,t)}finally{V=i}}else return e.apply(r,t)}};function Or(n){try{return n()}catch{}}const Gt="@wry/context:Slot",Ya=Or(()=>globalThis)||Or(()=>global)||Object.create(null),Tr=Ya,Ft=Tr[Gt]||Array[Gt]||function(n){try{Object.defineProperty(Tr,Gt,{value:n,enumerable:!1,writable:!1,configurable:!0})}finally{return n}}(Ga()),{bind:xu,noContext:Cu}=Ft,Rt=new Ft,{hasOwnProperty:Ha}=Object.prototype,zn=Array.from||function(n){const e=[];return n.forEach(t=>e.push(t)),e};function Wn(n){const{unsubscribe:e}=n;typeof e=="function"&&(n.unsubscribe=void 0,e())}const Xe=[],Ja=100;function De(n,e){if(!n)throw new Error(e||"assertion failure")}function Bi(n,e){const t=n.length;return t>0&&t===e.length&&n[t-1]===e[t-1]}function Ui(n){switch(n.length){case 0:throw new Error("unknown value");case 1:return n[0];case 2:throw n[1]}}function Qi(n){return n.slice(0)}class Pt{constructor(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++Pt.count}peek(){if(this.value.length===1&&!ae(this))return Ir(this),this.value[0]}recompute(e){return De(!this.recomputing,"already recomputing"),Ir(this),ae(this)?Ka(this,e):Ui(this.value)}setDirty(){this.dirty||(this.dirty=!0,zi(this),Wn(this))}dispose(){this.setDirty(),Hi(this),$n(this,(e,t)=>{e.setDirty(),Ji(e,this)})}forget(){this.dispose()}dependOn(e){e.add(this),this.deps||(this.deps=Xe.pop()||new Set),this.deps.add(e)}forgetDeps(){this.deps&&(zn(this.deps).forEach(e=>e.delete(this)),this.deps.clear(),Xe.push(this.deps),this.deps=null)}}Pt.count=0;function Ir(n){const e=Rt.getValue();if(e)return n.parents.add(e),e.childValues.has(n)||e.childValues.set(n,[]),ae(n)?$i(e,n):Gi(e,n),e}function Ka(n,e){return Hi(n),Rt.withValue(n,Xa,[n,e]),ec(n,e)&&Za(n),Ui(n.value)}function Xa(n,e){n.recomputing=!0;const{normalizeResult:t}=n;let r;t&&n.value.length===1&&(r=Qi(n.value)),n.value.length=0;try{if(n.value[0]=n.fn.apply(null,e),t&&r&&!Bi(r,n.value))try{n.value[0]=t(n.value[0],r[0])}catch{}}catch(i){n.value[1]=i}n.recomputing=!1}function ae(n){return n.dirty||!!(n.dirtyChildren&&n.dirtyChildren.size)}function Za(n){n.dirty=!1,!ae(n)&&Wi(n)}function zi(n){$n(n,$i)}function Wi(n){$n(n,Gi)}function $n(n,e){const t=n.parents.size;if(t){const r=zn(n.parents);for(let i=0;i<t;++i)e(r[i],n)}}function $i(n,e){De(n.childValues.has(e)),De(ae(e));const t=!ae(n);if(!n.dirtyChildren)n.dirtyChildren=Xe.pop()||new Set;else if(n.dirtyChildren.has(e))return;n.dirtyChildren.add(e),t&&zi(n)}function Gi(n,e){De(n.childValues.has(e)),De(!ae(e));const t=n.childValues.get(e);t.length===0?n.childValues.set(e,Qi(e.value)):Bi(t,e.value)||n.setDirty(),Yi(n,e),!ae(n)&&Wi(n)}function Yi(n,e){const t=n.dirtyChildren;t&&(t.delete(e),t.size===0&&(Xe.length<Ja&&Xe.push(t),n.dirtyChildren=null))}function Hi(n){n.childValues.size>0&&n.childValues.forEach((e,t)=>{Ji(n,t)}),n.forgetDeps(),De(n.dirtyChildren===null)}function Ji(n,e){e.parents.delete(n),n.childValues.delete(e),Yi(n,e)}function ec(n,e){if(typeof n.subscribe=="function")try{Wn(n),n.unsubscribe=n.subscribe.apply(null,e)}catch{return n.setDirty(),!1}return!0}const tc={setDirty:!0,dispose:!0,forget:!0};function Ki(n){const e=new Map;function t(r){const i=Rt.getValue();if(i){let s=e.get(r);s||e.set(r,s=new Set),i.dependOn(s)}}return t.dirty=function(i,s){const o=e.get(i);if(o){const a=s&&Ha.call(tc,s)?s:"setDirty";zn(o).forEach(c=>c[a]()),e.delete(i),Wn(o)}},t}let xr;function nc(...n){return(xr||(xr=new te(typeof WeakMap=="function"))).lookupArray(n)}const Yt=new Set;function Ze(n,{max:e=Math.pow(2,16),keyArgs:t,makeCacheKey:r=nc,normalizeResult:i,subscribe:s,cache:o=mn}=Object.create(null)){const a=typeof o=="function"?new o(e,h=>h.dispose()):o,c=function(){const h=r.apply(null,t?t.apply(null,arguments):arguments);if(h===void 0)return n.apply(null,arguments);let d=a.get(h);d||(a.set(h,d=new Pt(n)),d.normalizeResult=i,d.subscribe=s,d.forget=()=>a.delete(h));const y=d.recompute(Array.prototype.slice.call(arguments));return a.set(h,d),Yt.add(a),Rt.hasValue()||(Yt.forEach(g=>g.clean()),Yt.clear()),y};Object.defineProperty(c,"size",{get:()=>a.size,configurable:!1,enumerable:!1}),Object.freeze(c.options={max:e,keyArgs:t,makeCacheKey:r,normalizeResult:i,subscribe:s,cache:a});function u(h){const d=h&&a.get(h);d&&d.setDirty()}c.dirtyKey=u,c.dirty=function(){u(r.apply(null,arguments))};function l(h){const d=h&&a.get(h);if(d)return d.peek()}c.peekKey=l,c.peek=function(){return l(r.apply(null,arguments))};function f(h){return h?a.delete(h):!1}return c.forgetKey=f,c.forget=function(){return f(r.apply(null,arguments))},c.makeCacheKey=r,c.getKey=t?function(){return r.apply(null,t.apply(null,arguments))}:r,Object.freeze(c)}function rc(n){return n}class Z{constructor(e,t={}){p(this,"transform");p(this,"cached");p(this,"resultCache",new WeakSet);p(this,"left");p(this,"right");this.transform=e,t.getCacheKey&&(this.getCacheKey=t.getCacheKey),this.cached=t.cache!==!1,this.resetCache()}getCacheKey(e){return[e]}static identity(){return new Z(rc,{cache:!1})}static split(e,t,r=Z.identity()){return Object.assign(new Z(i=>(e(i)?t:r).transformDocument(i),{cache:!1}),{left:t,right:r})}resetCache(){if(this.cached){const e=new te;this.performWork=Ze(Z.prototype.performWork.bind(this),{makeCacheKey:t=>{const r=this.getCacheKey(t);if(r)return C(Array.isArray(r),20),e.lookupArray(r)},max:ee["documentTransform.cache"],cache:kt})}}performWork(e){return re(e),this.transform(e)}transformDocument(e){if(this.resultCache.has(e))return e;const t=this.performWork(e);return this.resultCache.add(t),t}concat(e){return Object.assign(new Z(t=>e.transformDocument(this.transformDocument(t)),{cache:!1}),{left:this,right:e})}}let Ht;const ke=Object.assign(n=>{let e=Ht.get(n);return e||(e=fo(n),Ht.set(n,e)),e},{reset(){Ht=new qn(ee.print||2e3)}});ke.reset();function D(n){return!!(n&&typeof n=="object"&&typeof n.__ref=="string")}const Cr={kind:S.FIELD,name:{kind:S.NAME,value:"__typename"}},Xi=Object.assign(function(n){return K(n,{SelectionSet:{enter(e,t,r){if(r&&r.kind===S.OPERATION_DEFINITION)return;const{selections:i}=e;if(!i||i.some(a=>a.kind===S.FIELD&&(a.name.value==="__typename"||a.name.value.lastIndexOf("__",0)===0)))return;const o=r;if(!(o.kind===S.FIELD&&o.directives&&o.directives.some(a=>a.name.value==="export")))return{...e,selections:[...i,Cr]}}}})},{added(n){return n===Cr}});function ic(n){return n===7||n===8}function En(n){return!ic(n)}class sc{constructor(){p(this,"assumeImmutableResults",!1);p(this,"getFragmentDoc",Ze(Ia,{max:ee["cache.fragmentQueryDocuments"]||1e3,cache:kt}))}lookupFragment(e){return null}batch(e){const t=typeof e.optimistic=="string"?e.optimistic:e.optimistic===!1?null:void 0;let r;return this.performTransaction(()=>r=e.update(this),t),r}recordOptimisticTransaction(e,t){this.performTransaction(e,t)}transformDocument(e){return e}transformForLink(e){return e}identify(e){}gc(){return[]}modify(e){return!1}readQuery(e,t=!!e.optimistic){return this.read({...e,rootId:e.id||"ROOT_QUERY",optimistic:t})}watchFragment(e){const{fragment:t,fragmentName:r,from:i,optimistic:s=!0,...o}=e,a=this.getFragmentDoc(t,r),c=typeof i>"u"||typeof i=="string"?i:this.identify(i),u={...o,returnPartialData:!0,id:c,query:a,optimistic:s};let l;return new A(f=>this.watch({...u,immediate:!0,callback:h=>{let d=h.result;if(d===null&&(d={}),l&&qi(a,{data:l.result},{data:d},e.variables))return;const y={data:d,dataState:h.complete?"complete":"partial",complete:!!h.complete};h.missing&&(y.missing=h.missing.missing),l={...h,result:d},f.next(y)}}))}readFragment(e,t=!!e.optimistic){return this.read({...e,query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:t})}writeQuery({id:e,data:t,...r}){return this.write(Object.assign(r,{dataId:e||"ROOT_QUERY",result:t}))}writeFragment({id:e,data:t,fragment:r,fragmentName:i,...s}){return this.write(Object.assign(s,{query:this.getFragmentDoc(r,i),dataId:e,result:t}))}updateQuery(e,t){return this.batch({update(r){const i=r.readQuery(e),s=t(i);return s==null?i:(r.writeQuery({...e,data:s}),s)}})}updateFragment(e,t){return this.batch({update(r){const i=r.readFragment(e),s=t(i);return s==null?i:(r.writeFragment({...e,data:s}),s)}})}}class Gn extends Error{constructor(t,r,i,s){super(t);p(this,"message");p(this,"path");p(this,"query");p(this,"variables");p(this,"missing");if(this.message=t,this.path=r,this.query=i,this.variables=s,this.name="MissingFieldError",Array.isArray(this.path)){this.missing=this.message;for(let o=this.path.length-1;o>=0;--o)this.missing={[this.path[o]]:this.missing}}else this.missing=this.path;this.__proto__=Gn.prototype}}const{hasOwnProperty:L}=Object.prototype;function Zi({__typename:n,id:e,_id:t},r){if(typeof n=="string"&&(r&&(r.keyObject=e!=null?{id:e}:t!=null?{_id:t}:void 0),e==null&&t!=null&&(e=t),e!=null))return`${n}:${typeof e=="number"||typeof e=="string"?e:JSON.stringify(e)}`}const oc={dataIdFromObject:Zi,resultCaching:!0};function ac(n){return Q(oc,n)}const es=/^[_a-z][_0-9a-z]*/i;function Ae(n){const e=n.match(es);return e?e[0]:n}function Sn(n,e,t){return U(e)?M(e)?e.every(r=>Sn(n,r,t)):n.selections.every(r=>{if(st(r)&&At(r,t)){const i=Pe(r);return L.call(e,i)&&(!r.selectionSet||Sn(r.selectionSet,e[i],t))}return!0}):!1}function ve(n){return U(n)&&!D(n)&&!M(n)}function cc(){return new _e}function ts(n,e){const t=rt(it(n));return{fragmentMap:t,lookupFragment(r){let i=t[r];return!i&&e&&(i=e.lookup(r)),i||null}}}const mt={},Jt=()=>mt,Nr={};class Mt{constructor(e,t){p(this,"policies");p(this,"group");p(this,"data",{});p(this,"rootIds",{});p(this,"refs",{});p(this,"getFieldValue",(e,t)=>D(e)?this.get(e.__ref,t):e&&e[t]);p(this,"canRead",e=>D(e)?this.has(e.__ref):typeof e=="object");p(this,"toReference",(e,t)=>{if(typeof e=="string")return Se(e);if(D(e))return e;const[r]=this.policies.identify(e);if(r){const i=Se(r);return t&&this.merge(r,e),i}});this.policies=e,this.group=t}toObject(){return{...this.data}}has(e){return this.lookup(e,!0)!==void 0}get(e,t){if(this.group.depend(e,t),L.call(this.data,e)){const r=this.data[e];if(r&&L.call(r,t))return r[t]}if(t==="__typename"&&L.call(this.policies.rootTypenamesById,e))return this.policies.rootTypenamesById[e];if(this instanceof J)return this.parent.get(e,t)}lookup(e,t){if(t&&this.group.depend(e,"__exists"),L.call(this.data,e))return this.data[e];if(this instanceof J)return this.parent.lookup(e,t);if(this.policies.rootTypenamesById[e])return{}}merge(e,t){let r;D(e)&&(e=e.__ref),D(t)&&(t=t.__ref);const i=typeof e=="string"?this.lookup(r=e):e,s=typeof t=="string"?this.lookup(r=t):t;if(!s)return;C(typeof r=="string",96);const o=new _e(fc).merge(i,s);if(this.data[r]=o,o!==i&&(delete this.refs[r],this.group.caching)){const a={};i||(a.__exists=1),Object.keys(s).forEach(c=>{if(!i||i[c]!==o[c]){a[c]=1;const u=Ae(c);u!==c&&!this.policies.hasKeyArgs(o.__typename,u)&&(a[u]=1),o[c]===void 0&&!(this instanceof J)&&delete o[c]}}),a.__typename&&!(i&&i.__typename)&&this.policies.rootTypenamesById[r]===o.__typename&&delete a.__typename,Object.keys(a).forEach(c=>this.group.dirty(r,c))}}modify(e,t,r){const i=this.lookup(e);if(i){const s={};let o=!1,a=!0;const c={DELETE:mt,INVALIDATE:Nr,isReference:D,toReference:this.toReference,canRead:this.canRead,readField:(u,l)=>this.policies.readField(typeof u=="string"?{fieldName:u,from:l||Se(e)}:u,{store:this})};if(Object.keys(i).forEach(u=>{const l=Ae(u);let f=i[u];if(f===void 0)return;const h=typeof t=="function"?t:t[u]||(r?void 0:t[l]);if(h){let d=h===Jt?mt:h(f,{...c,fieldName:l,storeFieldName:u,storage:this.getStorage(e,u)});d===Nr?this.group.dirty(e,u):(d===mt&&(d=void 0),d!==f&&(s[u]=d,o=!0,f=d))}f!==void 0&&(a=!1)}),o)return this.merge(e,s),a&&(this instanceof J?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1}delete(e,t,r){const i=this.lookup(e);if(i){const s=this.getFieldValue(i,"__typename"),o=t&&r?this.policies.getStoreFieldName({typename:s,fieldName:t,args:r}):t;return this.modify(e,o?{[o]:Jt}:Jt,!!r)}return!1}evict(e,t){let r=!1;return e.id&&(L.call(this.data,e.id)&&(r=this.delete(e.id,e.fieldName,e.args)),this instanceof J&&this!==t&&(r=this.parent.evict(e,t)||r),(e.fieldName||r)&&this.group.dirty(e.id,e.fieldName||"__exists")),r}clear(){this.replace(null)}extract(){const e=this.toObject(),t=[];return this.getRootIdSet().forEach(r=>{L.call(this.policies.rootTypenamesById,r)||t.push(r)}),t.length&&(e.__META={extraRootIds:t.sort()}),e}replace(e){if(Object.keys(this.data).forEach(t=>{e&&L.call(e,t)||this.delete(t)}),e){const{__META:t,...r}=e;Object.keys(r).forEach(i=>{this.merge(i,r[i])}),t&&t.extraRootIds.forEach(this.retain,this)}}retain(e){return this.rootIds[e]=(this.rootIds[e]||0)+1}release(e){if(this.rootIds[e]>0){const t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0}getRootIdSet(e=new Set){return Object.keys(this.rootIds).forEach(e.add,e),this instanceof J?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e}gc(){const e=this.getRootIdSet(),t=this.toObject();e.forEach(i=>{L.call(t,i)&&(Object.keys(this.findChildRefIds(i)).forEach(e.add,e),delete t[i])});const r=Object.keys(t);if(r.length){let i=this;for(;i instanceof J;)i=i.parent;r.forEach(s=>i.delete(s))}return r}findChildRefIds(e){if(!L.call(this.refs,e)){const t=this.refs[e]={},r=this.data[e];if(!r)return t;const i=new Set([r]);i.forEach(s=>{D(s)&&(t[s.__ref]=!0),U(s)&&Object.keys(s).forEach(o=>{const a=s[o];U(a)&&i.add(a)})})}return this.refs[e]}makeCacheKey(){return this.group.keyMaker.lookupArray(arguments)}get supportsResultCaching(){return this.group.caching}}class ns{constructor(e,t=null){p(this,"caching");p(this,"parent");p(this,"d",null);p(this,"keyMaker");this.caching=e,this.parent=t,this.resetCaching()}resetCaching(){this.d=this.caching?Ki():null,this.keyMaker=new te}depend(e,t){if(this.d){this.d(Kt(e,t));const r=Ae(t);r!==t&&this.d(Kt(e,r)),this.parent&&this.parent.depend(e,t)}}dirty(e,t){this.d&&this.d.dirty(Kt(e,t),t==="__exists"?"forget":"setDirty")}}function Kt(n,e){return e+"#"+n}function _r(n,e){We(n)&&n.group.depend(e,"__exists")}class uc extends Mt{constructor({policies:t,resultCaching:r=!0,seed:i}){super(t,new ns(r));p(this,"stump",new lc(this));p(this,"storageTrie",new te);i&&this.replace(i)}addLayer(t,r){return this.stump.addLayer(t,r)}removeLayer(){return this}getStorage(){return this.storageTrie.lookupArray(arguments)}}Mt.Root=uc;class J extends Mt{constructor(t,r,i,s){super(r.policies,s);p(this,"id");p(this,"parent");p(this,"replay");p(this,"group");this.id=t,this.parent=r,this.replay=i,this.group=s,i(this)}addLayer(t,r){return new J(t,this,r,this.group)}removeLayer(t){const r=this.parent.removeLayer(t);return t===this.id?(this.group.caching&&Object.keys(this.data).forEach(i=>{const s=this.data[i],o=r.lookup(i);o?s?s!==o&&Object.keys(s).forEach(a=>{_(s[a],o[a])||this.group.dirty(i,a)}):(this.group.dirty(i,"__exists"),Object.keys(o).forEach(a=>{this.group.dirty(i,a)})):this.delete(i)}),r):r===this.parent?this:r.addLayer(this.id,this.replay)}toObject(){return{...this.parent.toObject(),...this.data}}findChildRefIds(t){const r=this.parent.findChildRefIds(t);return L.call(this.data,t)?{...r,...super.findChildRefIds(t)}:r}getStorage(...t){let r=this.parent;for(;r.parent;)r=r.parent;return r.getStorage(...t)}}class lc extends J{constructor(e){super("EntityStore.Stump",e,()=>{},new ns(e.group.caching,e.group))}removeLayer(){return this}merge(e,t){return this.parent.merge(e,t)}}function fc(n,e,t){const r=n[t],i=e[t];return _(r,i)?r:i}function We(n){return!!(n&&n.supportsResultCaching)}const rs=new Ft;function hc(n){const e=n.directives?.find(({name:r})=>r.value==="unmask");if(!e)return"mask";const t=e.arguments?.find(({name:r})=>r.value==="mode");return t&&"value"in t.value&&t.value.value==="migrate"?"migrate":"unmask"}function is(n,e,t){return rs.withValue(!0,()=>ze(n,e,t,!1))}function dc(n,e){if(e.has(n))return e.get(n);const t=Array.isArray(n)?[]:{};return e.set(n,t),t}function ze(n,e,t,r,i){const{knownChanged:s}=t,o=dc(n,t.mutableTargets);if(Array.isArray(n)){for(const[a,c]of Array.from(n.entries())){if(c===null){o[a]=null;continue}const u=ze(c,e,t,r);s.has(u)&&s.add(o),o[a]=u}return s.has(o)?o:n}for(const a of e.selections){let c;if(r&&s.add(o),a.kind===S.FIELD){const u=Pe(a),l=a.selectionSet;if(c=o[u]||n[u],c===void 0)continue;if(l&&c!==null){const f=ze(n[u],l,t,r);s.has(f)&&(c=f)}o[u]=c}if(a.kind===S.INLINE_FRAGMENT&&(!a.typeCondition||t.cache.fragmentMatches(a,n.__typename))&&(c=ze(n,a.selectionSet,t,r)),a.kind===S.FRAGMENT_SPREAD){const u=a.name.value,l=t.fragmentMap[u]||(t.fragmentMap[u]=t.cache.lookupFragment(u));C(l,39,u);const f=hc(a);f!=="mask"&&(c=ze(n,l.selectionSet,t,f==="migrate"))}s.has(c)&&s.add(o)}return"__typename"in n&&!("__typename"in o)&&(o.__typename=n.__typename),Object.keys(o).length!==Object.keys(n).length&&s.add(o),s.has(o)?o:n}function pc(n,e,t,r){const i=e.definitions.filter(o=>o.kind===S.FRAGMENT_DEFINITION);typeof r>"u"&&(C(i.length===1,41,i.length),r=i[0].name.value);const s=i.find(o=>o.name.value===r);return C(!!s,42,r),n==null||_(n,{})?n:is(n,s.selectionSet,{operationName:s.name.value,fragmentMap:rt(it(e)),cache:t,mutableTargets:new WeakMap,knownChanged:new WeakSet})}function yc(n,e,t){const r=oe(e);return C(r,43),n==null?n:is(n,r.selectionSet,{operationType:r.operation,operationName:r.name?.value,fragmentMap:rt(it(e)),cache:t,mutableTargets:new WeakMap,knownChanged:new WeakSet})}const Dr={};function Yn(n){const e=JSON.stringify(n);return Dr[e]||(Dr[e]={})}function Ar(n){const e=Yn(n);return e.keyFieldsFn||(e.keyFieldsFn=(t,r)=>{const i=(o,a)=>r.readField(a,o),s=r.keyObject=Hn(n,o=>{let a=Oe(r.storeObject,o,i);return a===void 0&&t!==r.storeObject&&L.call(t,o[0])&&(a=Oe(t,o,os)),C(a!==void 0,99,o.join("."),t),a});return`${r.typename}:${JSON.stringify(s)}`})}function Fr(n){const e=Yn(n);return e.keyArgsFn||(e.keyArgsFn=(t,{field:r,variables:i,fieldName:s})=>{const o=Hn(n,c=>{const u=c[0],l=u.charAt(0);if(l==="@"){if(r&&Un(r.directives)){const f=u.slice(1),h=r.directives.find(y=>y.name.value===f),d=h&&Vn(h,i);return d&&Oe(d,c.slice(1))}return}if(l==="$"){const f=u.slice(1);if(i&&L.call(i,f)){const h=c.slice(0);return h[0]=f,Oe(i,h)}return}if(t)return Oe(t,c)}),a=JSON.stringify(o);return(t||a!=="{}")&&(s+=":"+a),s})}function Hn(n,e){const t=new _e;return ss(n).reduce((r,i)=>{let s=e(i);if(s!==void 0){for(let o=i.length-1;o>=0;--o)s={[i[o]]:s};r=t.merge(r,s)}return r},{})}function ss(n){const e=Yn(n);if(!e.paths){const t=e.paths=[],r=[];n.forEach((i,s)=>{M(i)?(ss(i).forEach(o=>t.push(r.concat(o))),r.length=0):(r.push(i),M(n[s+1])||(t.push(r.slice(0)),r.length=0))})}return e.paths}function os(n,e){return n[e]}function Oe(n,e,t){return t=t||os,as(e.reduce(function r(i,s){return M(i)?i.map(o=>r(o,s)):i&&t(i,s)},n))}function as(n){return U(n)?M(n)?n.map(as):Hn(Object.keys(n).sort(),e=>Oe(n,e)):n}const cs=new Ft,Rr=new WeakMap;function $e(n){let e=Rr.get(n);return e||Rr.set(n,e={vars:new Set,dep:Ki()}),e}function Pr(n){$e(n).vars.forEach(e=>e.forgetCache(n))}function mc(n){$e(n).vars.forEach(e=>e.attachCache(n))}function bc(n){const e=new Set,t=new Set,r=function(s){if(arguments.length>0){if(n!==s){n=s,e.forEach(a=>{$e(a).dep.dirty(r),vc(a)});const o=Array.from(t);t.clear(),o.forEach(a=>a(n))}}else{const o=cs.getValue();o&&(i(o),$e(o).dep(r))}return n};r.onNextChange=s=>(t.add(s),()=>{t.delete(s)});const i=r.attachCache=s=>(e.add(s),$e(s).vars.add(r),r);return r.forgetCache=s=>e.delete(s),r}function vc(n){n.broadcastWatches&&n.broadcastWatches()}function wn(n){return n.args!==void 0?n.args:n.field?Vn(n.field,n.variables):null}const gc=()=>{},Mr=(n,e)=>e.fieldName,Lr=(n,e,{mergeObjects:t})=>t(n,e),jr=(n,e)=>e;class Ec{constructor(e){p(this,"config");p(this,"typePolicies",{});p(this,"toBeAdded",{});p(this,"supertypeMap",new Map);p(this,"fuzzySubtypes",new Map);p(this,"cache");p(this,"rootIdsByTypename",{});p(this,"rootTypenamesById",{});p(this,"usingPossibleTypes",!1);this.config=e,this.config={dataIdFromObject:Zi,...e},this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}identify(e,t){const r=this,i=t&&(t.typename||t.storeObject?.__typename)||e.__typename;if(i===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];const s=t&&t.storeObject||e,o={...t,typename:i,storeObject:s,readField:t&&t.readField||((...l)=>{const f=Jn(l,s);return r.readField(f,{store:r.cache.data,variables:f.variables})})};let a;const c=i&&this.getTypePolicy(i);let u=c&&c.keyFn||this.config.dataIdFromObject;return rs.withValue(!0,()=>{for(;u;){const l=u({...e,...s},o);if(M(l))u=Ar(l);else{a=l;break}}}),a=a?String(a):void 0,o.keyObject?[a,o.keyObject]:[a]}addTypePolicies(e){Object.keys(e).forEach(t=>{const{queryType:r,mutationType:i,subscriptionType:s,...o}=e[t];r&&this.setRootTypename("Query",t),i&&this.setRootTypename("Mutation",t),s&&this.setRootTypename("Subscription",t),L.call(this.toBeAdded,t)?this.toBeAdded[t].push(o):this.toBeAdded[t]=[o]})}updateTypePolicy(e,t,r){const i=this.getTypePolicy(e),{keyFields:s,fields:o}=t;function a(c,u){c.merge=typeof u=="function"?u:u===!0?Lr:u===!1?jr:c.merge}a(i,t.merge),i.keyFn=s===!1?gc:M(s)?Ar(s):typeof s=="function"?s:i.keyFn,o&&Object.keys(o).forEach(c=>{let u=r[c];(!u||u?.typename!==e)&&(u=r[c]={typename:e});const l=o[c];if(typeof l=="function")u.read=l;else{const{keyArgs:f,read:h,merge:d}=l;u.keyFn=f===!1?Mr:M(f)?Fr(f):typeof f=="function"?f:u.keyFn,typeof h=="function"&&(u.read=h),a(u,d)}u.read&&u.merge&&(u.keyFn=u.keyFn||Mr)})}setRootTypename(e,t=e){const r="ROOT_"+e.toUpperCase(),i=this.rootTypenamesById[r];t!==i&&(C(!i||i===e,100,e),i&&delete this.rootIdsByTypename[i],this.rootIdsByTypename[t]=r,this.rootTypenamesById[r]=t)}addPossibleTypes(e){this.usingPossibleTypes=!0,Object.keys(e).forEach(t=>{this.getSupertypeSet(t,!0),e[t].forEach(r=>{this.getSupertypeSet(r,!0).add(t);const i=r.match(es);(!i||i[0]!==r)&&this.fuzzySubtypes.set(r,new RegExp(r))})})}getTypePolicy(e){if(!L.call(this.typePolicies,e)){const r=this.typePolicies[e]={};r.fields={};let i=this.supertypeMap.get(e);!i&&this.fuzzySubtypes.size&&(i=this.getSupertypeSet(e,!0),this.fuzzySubtypes.forEach((s,o)=>{if(s.test(e)){const a=this.supertypeMap.get(o);a&&a.forEach(c=>i.add(c))}})),i&&i.size&&i.forEach(s=>{const{fields:o,...a}=this.getTypePolicy(s);Object.assign(r,a),Object.assign(r.fields,o)})}const t=this.toBeAdded[e];return t&&t.length&&t.splice(0).forEach(r=>{this.updateTypePolicy(e,r,this.typePolicies[e].fields)}),this.typePolicies[e]}getFieldPolicy(e,t){if(e)return this.getTypePolicy(e).fields[t]}getSupertypeSet(e,t){let r=this.supertypeMap.get(e);return!r&&t&&this.supertypeMap.set(e,r=new Set),r}fragmentMatches(e,t,r,i){if(!e.typeCondition)return!0;if(!t)return!1;const s=e.typeCondition.name.value;if(t===s)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(s)){const o=this.getSupertypeSet(t,!0),a=[o],c=l=>{const f=this.getSupertypeSet(l,!1);f&&f.size&&a.indexOf(f)<0&&a.push(f)};let u=!!(r&&this.fuzzySubtypes.size);for(let l=0;l<a.length;++l){const f=a[l];if(f.has(s))return o.has(s)||o.add(s),!0;f.forEach(c),u&&l===a.length-1&&Sn(e.selectionSet,r,i)&&(u=!1,this.fuzzySubtypes.forEach((h,d)=>{const y=t.match(h);y&&y[0]===t&&c(d)}))}}return!1}hasKeyArgs(e,t){const r=this.getFieldPolicy(e,t);return!!(r&&r.keyFn)}getStoreFieldName(e){const{typename:t,fieldName:r}=e,i=this.getFieldPolicy(t,r);let s,o=i&&i.keyFn;if(o&&t){const a={typename:t,fieldName:r,field:e.field||null,variables:e.variables},c=wn(e);for(;o;){const u=o(c,a);if(M(u))o=Fr(u);else{s=u||r;break}}}return s===void 0&&(s=e.field?Ba(e.field,e.variables):Li(r,wn(e))),s===!1?r:r===Ae(s)?s:r+":"+s}readField(e,t){const r=e.from;if(!r||!(e.field||e.fieldName))return;if(e.typename===void 0){const l=t.store.getFieldValue(r,"__typename");l&&(e.typename=l)}const s=this.getStoreFieldName(e),o=Ae(s),a=t.store.getFieldValue(r,s),c=this.getFieldPolicy(e.typename,o),u=c&&c.read;if(u){const l=Vr(this,r,e,t,t.store.getStorage(D(r)?r.__ref:r,s));return cs.withValue(this.cache,u,[a,l])}return a}getReadFunction(e,t){const r=this.getFieldPolicy(e,t);return r&&r.read}getMergeFunction(e,t,r){let i=this.getFieldPolicy(e,t),s=i&&i.merge;return!s&&r&&(i=this.getTypePolicy(r),s=i&&i.merge),s}runMergeFunction(e,t,{field:r,typename:i,merge:s},o,a){return s===Lr?us(o.store)(e,t):s===jr?t:(o.overwrite&&(e=void 0),s(e,t,Vr(this,void 0,{typename:i,fieldName:r.name.value,field:r,variables:o.variables},o,a||{})))}}function Vr(n,e,t,r,i){const s=n.getStoreFieldName(t),o=Ae(s),a=t.variables||r.variables,{toReference:c,canRead:u}=r.store;return{args:wn(t),field:t.field||null,fieldName:o,storeFieldName:s,variables:a,isReference:D,toReference:c,storage:i,cache:n.cache,canRead:u,readField(...l){return n.readField(Jn(l,e,a),r)},mergeObjects:us(r.store)}}function Jn(n,e,t){const{0:r,1:i,length:s}=n;let o;return typeof r=="string"?o={fieldName:r,from:s>1?i:e}:(o={...r},L.call(o,"from")||(o.from=e)),o.variables===void 0&&(o.variables=t),o}function us(n){return function(t,r){if(M(t)||M(r))throw z(103);if(U(t)&&U(r)){const i=n.getFieldValue(t,"__typename"),s=n.getFieldValue(r,"__typename");if(i&&s&&i!==s)return r;if(D(t)&&ve(r))return n.merge(t.__ref,r),t;if(ve(t)&&D(r))return n.merge(t,r.__ref),r;if(ve(t)&&ve(r))return{...t,...r}}return r}}function qr(n){return[n.selectionSet,n.objectOrReference,n.context]}class Sc{constructor(e){p(this,"executeSelectionSet");p(this,"executeSubSelectedArray");p(this,"config");p(this,"knownResults",new WeakMap);this.config=e,this.executeSelectionSet=Ze(t=>{const r=qr(t),i=this.executeSelectionSet.peek(...r);return i||(_r(t.context.store,t.enclosingRef.__ref),this.execSelectionSetImpl(t))},{max:ee["inMemoryCache.executeSelectionSet"]||5e4,keyArgs:qr,makeCacheKey(t,r,i){if(We(i.store))return i.store.makeCacheKey(t,D(r)?r.__ref:r,i.varString)}}),this.executeSubSelectedArray=Ze(t=>(_r(t.context.store,t.enclosingRef.__ref),this.execSubSelectedArrayImpl(t)),{max:ee["inMemoryCache.executeSubSelectedArray"]||1e4,makeCacheKey({field:t,array:r,context:i}){if(We(i.store))return i.store.makeCacheKey(t,r,i.varString)}})}diffQueryAgainstStore({store:e,query:t,rootId:r="ROOT_QUERY",variables:i,returnPartialData:s=!0}){const o=this.config.cache.policies;i={...Bn(Ca(t)),...i};const a=Se(r),c=this.executeSelectionSet({selectionSet:Mi(t).selectionSet,objectOrReference:a,enclosingRef:a,context:{store:e,query:t,policies:o,variables:i,varString:ie(i),...ts(t,this.config.fragments)}});let u;c.missing&&(u=new Gn(wc(c.missing),c.missing,t,i));const l=!u,{result:f}=c;return{result:l||s?Object.keys(f).length===0?null:f:null,complete:l,missing:u}}isFresh(e,t,r,i){if(We(i.store)&&this.knownResults.get(e)===r){const s=this.executeSelectionSet.peek(r,t,i);if(s&&e===s.result)return!0}return!1}execSelectionSetImpl({selectionSet:e,objectOrReference:t,enclosingRef:r,context:i}){if(D(t)&&!i.policies.rootTypenamesById[t.__ref]&&!i.store.has(t.__ref))return{result:{},missing:`Dangling reference to missing ${t.__ref} object`};const{variables:s,policies:o,store:a}=i,c=a.getFieldValue(t,"__typename"),u=[];let l;const f=new _e;typeof c=="string"&&!o.rootIdsByTypename[c]&&u.push({__typename:c});function h(v,E){return v.missing&&(l=f.merge(l,{[E]:v.missing})),v.result}const d=new Set(e.selections);d.forEach(v=>{if(At(v,s))if(st(v)){let E=o.readField({fieldName:v.name.value,field:v,variables:i.variables,from:t},i);const k=Pe(v);E===void 0?Xi.added(v)||(l=f.merge(l,{[k]:`Can't find field '${v.name.value}' on ${D(t)?t.__ref+" object":"object "+JSON.stringify(t,null,2)}`})):M(E)?E.length>0&&(E=h(this.executeSubSelectedArray({field:v,array:E,enclosingRef:r,context:i}),k)):v.selectionSet&&E!=null&&(E=h(this.executeSelectionSet({selectionSet:v.selectionSet,objectOrReference:E,enclosingRef:D(E)?E:r,context:i}),k)),E!==void 0&&u.push({[k]:E})}else{const E=Dt(v,i.lookupFragment);if(!E&&v.kind===S.FRAGMENT_SPREAD)throw z(104,v.name.value);E&&o.fragmentMatches(E,c)&&E.selectionSet.selections.forEach(d.add,d)}});const g={result:Ra(u),missing:l},m=g;return m.result&&this.knownResults.set(m.result,e),m}execSubSelectedArrayImpl({field:e,array:t,enclosingRef:r,context:i}){let s,o=new _e;function a(c,u){return c.missing&&(s=o.merge(s,{[u]:c.missing})),c.result}return e.selectionSet&&(t=t.filter(i.store.canRead)),t=t.map((c,u)=>c===null?null:M(c)?a(this.executeSubSelectedArray({field:e,array:c,enclosingRef:r,context:i}),u):e.selectionSet?a(this.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:c,enclosingRef:D(c)?c:r,context:i}),u):c),{result:t,missing:s}}}function wc(n){try{JSON.stringify(n,(e,t)=>{if(typeof t=="string")throw t;return t})}catch(e){return e}}function Xt(n,e,t){const r=`${e}${t}`;let i=n.flavors.get(r);return i||n.flavors.set(r,i=n.clientOnly===e&&n.deferred===t?n:{...n,clientOnly:e,deferred:t}),i}class kc{constructor(e,t,r){p(this,"cache");p(this,"reader");p(this,"fragments");this.cache=e,this.reader=t,this.fragments=r}writeToStore(e,{query:t,result:r,dataId:i,variables:s,overwrite:o}){const a=oe(t),c=cc();s={...Bn(a),...s};const u={store:e,written:{},merge(f,h){return c.merge(f,h)},variables:s,varString:ie(s),...ts(t,this.fragments),overwrite:!!o,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map},l=this.processSelectionSet({result:r||{},dataId:i,selectionSet:a.selectionSet,mergeTree:{map:new Map},context:u});if(!D(l))throw z(106,r);return u.incomingById.forEach(({storeObject:f,mergeTree:h,fieldNodeSet:d},y)=>{const g=Se(y);if(h&&h.map.size){const m=this.applyMerges(h,g,f,u);if(D(m))return;f=m}e.merge(y,f)}),e.retain(l.__ref),l}processSelectionSet({dataId:e,result:t,selectionSet:r,context:i,mergeTree:s}){const{policies:o}=this.cache;let a={};const c=e&&o.rootTypenamesById[e]||On(t,r,i.fragmentMap)||e&&i.store.get(e,"__typename");typeof c=="string"&&(a.__typename=c);const u=(...f)=>{const h=Jn(f,a,i.variables);if(D(h.from)){const d=i.incomingById.get(h.from.__ref);if(d){const y=o.readField({...h,from:d.storeObject},i);if(y!==void 0)return y}}return o.readField(h,i)},l=new Set;this.flattenFields(r,t,i,c).forEach((f,h)=>{const d=Pe(h),y=t[d];if(l.add(h),y!==void 0){const g=o.getStoreFieldName({typename:c,fieldName:h.name.value,field:h,variables:f.variables}),m=Br(s,g);let v=this.processFieldValue(y,h,h.selectionSet?Xt(f,!1,!1):f,m),E;h.selectionSet&&(D(v)||ve(v))&&(E=u("__typename",v));const k=o.getMergeFunction(c,h.name.value,E);k?m.info={field:h,typename:c,merge:k}:Ur(s,g),a=f.merge(a,{[g]:v})}});try{const[f,h]=o.identify(t,{typename:c,selectionSet:r,fragmentMap:i.fragmentMap,storeObject:a,readField:u});e=e||f,h&&(a=i.merge(a,h))}catch(f){if(!e)throw f}if(typeof e=="string"){const f=Se(e),h=i.written[e]||(i.written[e]=[]);if(h.indexOf(r)>=0||(h.push(r),this.reader&&this.reader.isFresh(t,f,r,i)))return f;const d=i.incomingById.get(e);return d?(d.storeObject=i.merge(d.storeObject,a),d.mergeTree=kn(d.mergeTree,s),l.forEach(y=>d.fieldNodeSet.add(y))):i.incomingById.set(e,{storeObject:a,mergeTree:Ot(s)?void 0:s,fieldNodeSet:l}),f}return a}processFieldValue(e,t,r,i){return!t.selectionSet||e===null?e:M(e)?e.map((s,o)=>{const a=this.processFieldValue(s,t,r,Br(i,o));return Ur(i,o),a}):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:r,mergeTree:i})}flattenFields(e,t,r,i=On(t,e,r.fragmentMap)){const s=new Map,{policies:o}=this.cache,a=new te(!1);return function c(u,l){const f=a.lookup(u,l.clientOnly,l.deferred);f.visited||(f.visited=!0,u.selections.forEach(h=>{if(!At(h,r.variables))return;let{clientOnly:d,deferred:y}=l;if(!(d&&y)&&Un(h.directives)&&h.directives.forEach(g=>{const m=g.name.value;if(m==="client"&&(d=!0),m==="defer"){const v=Vn(g,r.variables);(!v||v.if!==!1)&&(y=!0)}}),st(h)){const g=s.get(h);g&&(d=d&&g.clientOnly,y=y&&g.deferred),s.set(h,Xt(r,d,y))}else{const g=Dt(h,r.lookupFragment);if(!g&&h.kind===S.FRAGMENT_SPREAD)throw z(108,h.name.value);g&&o.fragmentMatches(g,i,t,r.variables)&&c(g.selectionSet,Xt(r,d,y))}}))}(e,r),s}applyMerges(e,t,r,i,s){if(e.map.size&&!D(r)){const o=!M(r)&&(D(t)||ve(t))?t:void 0,a=r;o&&!s&&(s=[D(o)?o.__ref:o]);let c;const u=(l,f)=>M(l)?typeof f=="number"?l[f]:void 0:i.store.getFieldValue(l,String(f));e.map.forEach((l,f)=>{const h=u(o,f),d=u(a,f);if(d===void 0)return;s&&s.push(f);const y=this.applyMerges(l,h,d,i,s);y!==d&&(c=c||new Map,c.set(f,y)),s&&C(s.pop()===f)}),c&&(r=M(a)?a.slice(0):{...a},c.forEach((l,f)=>{r[f]=l}))}return e.info?this.cache.policies.runMergeFunction(t,r,e.info,i,s&&i.store.getStorage(...s)):r}}const ls=[];function Br({map:n},e){return n.has(e)||n.set(e,ls.pop()||{map:new Map}),n.get(e)}function kn(n,e){if(n===e||!e||Ot(e))return n;if(!n||Ot(n))return e;const t=n.info&&e.info?{...n.info,...e.info}:n.info||e.info,r=n.map.size&&e.map.size,i=r?new Map:n.map.size?n.map:e.map,s={info:t,map:i};if(r){const o=new Set(e.map.keys());n.map.forEach((a,c)=>{s.map.set(c,kn(a,e.map.get(c))),o.delete(c)}),o.forEach(a=>{s.map.set(a,kn(e.map.get(a),n.map.get(a)))})}return s}function Ot(n){return!n||!(n.info||n.map.size)}function Ur({map:n},e){const t=n.get(e);t&&Ot(t)&&(ls.push(t),n.delete(e))}function On(n,e,t){let r;for(const i of e.selections)if(st(i)){if(i.name.value==="__typename")return n[Pe(i)]}else r?r.push(i):r=[i];if(typeof n.__typename=="string")return n.__typename;if(r)for(const i of r){const s=On(n,Dt(i,t).selectionSet,t);if(typeof s=="string")return s}}class Nu extends sc{constructor(t={}){super();p(this,"data");p(this,"optimisticData");p(this,"config");p(this,"watches",new Set);p(this,"storeReader");p(this,"storeWriter");p(this,"addTypenameTransform",new Z(Xi));p(this,"maybeBroadcastWatch");p(this,"assumeImmutableResults",!0);p(this,"policies");p(this,"makeVar",bc);p(this,"txCount",0);this.config=ac(t),this.policies=new Ec({cache:this,dataIdFromObject:this.config.dataIdFromObject,possibleTypes:this.config.possibleTypes,typePolicies:this.config.typePolicies}),this.init()}init(){const t=this.data=new Mt.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=t.stump,this.resetResultCache()}resetResultCache(){const{fragments:t}=this.config;this.addTypenameTransform.resetCache(),t?.resetCaches(),this.storeWriter=new kc(this,this.storeReader=new Sc({cache:this,fragments:t}),t),this.maybeBroadcastWatch=Ze((r,i)=>this.broadcastWatch(r,i),{max:ee["inMemoryCache.maybeBroadcastWatch"]||5e3,makeCacheKey:r=>{const i=r.optimistic?this.optimisticData:this.data;if(We(i)){const{optimistic:s,id:o,variables:a}=r;return i.makeCacheKey(r.query,r.callback,ie({optimistic:s,id:o,variables:a}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(r=>r.resetCaching())}restore(t){return this.init(),t&&this.data.replace(t),this}extract(t=!1){return(t?this.optimisticData:this.data).extract()}read(t){const{returnPartialData:r=!1}=t;return this.storeReader.diffQueryAgainstStore({...t,store:t.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:r}).result}write(t){try{return++this.txCount,this.storeWriter.writeToStore(this.data,t)}finally{!--this.txCount&&t.broadcast!==!1&&this.broadcastWatches()}}modify(t){if(L.call(t,"id")&&!t.id)return!1;const r=t.optimistic?this.optimisticData:this.data;try{return++this.txCount,r.modify(t.id||"ROOT_QUERY",t.fields,!1)}finally{!--this.txCount&&t.broadcast!==!1&&this.broadcastWatches()}}diff(t){return this.storeReader.diffQueryAgainstStore({...t,store:t.optimistic?this.optimisticData:this.data,rootId:t.id||"ROOT_QUERY",config:this.config})}watch(t){return this.watches.size||mc(this),this.watches.add(t),t.immediate&&this.maybeBroadcastWatch(t),()=>{this.watches.delete(t)&&!this.watches.size&&Pr(this),this.maybeBroadcastWatch.forget(t)}}gc(t){ie.reset(),ke.reset();const r=this.optimisticData.gc();return t&&!this.txCount&&t.resetResultCache&&this.resetResultCache(),r}retain(t,r){return(r?this.optimisticData:this.data).retain(t)}release(t,r){return(r?this.optimisticData:this.data).release(t)}identify(t){if(D(t))return t.__ref;try{return this.policies.identify(t)[0]}catch{}}evict(t){if(!t.id){if(L.call(t,"id"))return!1;t={...t,id:"ROOT_QUERY"}}try{return++this.txCount,this.optimisticData.evict(t,this.data)}finally{!--this.txCount&&t.broadcast!==!1&&this.broadcastWatches()}}reset(t){return this.init(),ie.reset(),t&&t.discardWatches?(this.watches.forEach(r=>this.maybeBroadcastWatch.forget(r)),this.watches.clear(),Pr(this)):this.broadcastWatches(),Promise.resolve()}removeOptimistic(t){const r=this.optimisticData.removeLayer(t);r!==this.optimisticData&&(this.optimisticData=r,this.broadcastWatches())}batch(t){const{update:r,optimistic:i=!0,removeOptimistic:s,onWatchUpdated:o}=t;let a;const c=l=>{const{data:f,optimisticData:h}=this;++this.txCount,l&&(this.data=this.optimisticData=l);try{return a=r(this)}finally{--this.txCount,this.data=f,this.optimisticData=h}},u=new Set;return o&&!this.txCount&&this.broadcastWatches({...t,onWatchUpdated(l){return u.add(l),!1}}),typeof i=="string"?this.optimisticData=this.optimisticData.addLayer(i,c):i===!1?c(this.data):c(),typeof s=="string"&&(this.optimisticData=this.optimisticData.removeLayer(s)),o&&u.size?(this.broadcastWatches({...t,onWatchUpdated(l,f){const h=o.call(this,l,f);return h!==!1&&u.delete(l),h}}),u.size&&u.forEach(l=>this.maybeBroadcastWatch.dirty(l))):this.broadcastWatches(t),a}performTransaction(t,r){return this.batch({update:t,optimistic:r||r!==null})}transformDocument(t){return this.addTypenameTransform.transformDocument(this.addFragmentsToDocument(t))}fragmentMatches(t,r){return this.policies.fragmentMatches(t,r)}lookupFragment(t){return this.config.fragments?.lookup(t)||null}broadcastWatches(t){this.txCount||this.watches.forEach(r=>this.maybeBroadcastWatch(r,t))}addFragmentsToDocument(t){const{fragments:r}=this.config;return r?r.transform(t):t}broadcastWatch(t,r){const{lastDiff:i}=t,s=this.diff(t);r&&(t.optimistic&&typeof r.optimistic=="string"&&(s.fromOptimisticTransaction=!0),r.onWatchUpdated&&r.onWatchUpdated.call(this,t,s,i)===!1)||(!i||!_(i.result,s.result))&&t.callback(t.lastDiff=s,i)}}function ot(n,e){return typeof n=="object"&&n!==null&&n[Symbol.for("apollo.error")]===e}function at(n){Object.defineProperty(n,Symbol.for("apollo.error"),{value:n.name,enumerable:!1,writable:!1,configurable:!1})}function Qr(n){return n.map(e=>e.message||"Error message not found.").join(`
`)}const Ge=class Ge extends Error{constructor(t){super(Ge.formatMessage(t,{defaultFormatMessage:Qr}));p(this,"errors");this.name="CombinedProtocolErrors",this.errors=t,at(this),Object.setPrototypeOf(this,Ge.prototype)}static is(t){return ot(t,"CombinedProtocolErrors")}};p(Ge,"formatMessage",Qr);let Tn=Ge;function Oc(n){return n!==null&&typeof n=="object"&&typeof n.message=="string"&&typeof n.name=="string"&&(typeof n.stack=="string"||typeof n.stack>"u")}class Kn extends Error{static is(e){return ot(e,"UnconventionalError")}constructor(e){super("An error of unexpected shape occurred.",{cause:e}),this.name="UnconventionalError",at(this),Object.setPrototypeOf(this,Kn.prototype)}}function zr(n){return n.filter(e=>e).map(e=>e.message||"Error message not found.").join(`
`)}const Ye=class Ye extends Error{constructor(t,r=t.errors||[]){super(Ye.formatMessage(r,{result:t,defaultFormatMessage:zr}));p(this,"errors");p(this,"data");p(this,"extensions");this.errors=r,this.data=t.data,this.extensions=t.extensions,this.name="CombinedGraphQLErrors",at(this),Object.setPrototypeOf(this,Ye.prototype)}static is(t){return ot(t,"CombinedGraphQLErrors")}};p(Ye,"formatMessage",zr);let ne=Ye;const Tc=new WeakSet;function Ic(n){Tc.add(n)}class Lt extends Error{constructor(t,r){super(t);p(this,"response");p(this,"statusCode");p(this,"bodyText");this.name="ServerError",this.response=r.response,this.statusCode=r.response.status,this.bodyText=r.bodyText,at(this),Object.setPrototypeOf(this,Lt.prototype)}static is(t){return ot(t,"ServerError")}}class jt extends Error{constructor(t,r){super(t instanceof Error?t.message:"Could not parse server response",{cause:t});p(this,"response");p(this,"statusCode");p(this,"bodyText");this.name="ServerParseError",this.response=r.response,this.statusCode=r.response.status,this.bodyText=r.bodyText,at(this),Object.setPrototypeOf(this,jt.prototype)}static is(t){return ot(t,"ServerParseError")}}const et=Symbol();function Xn(n){return"extensions"in n?Tn.is(n.extensions[et]):!1}function Tt(n){return Oc(n)?n:typeof n=="string"?new Error(n,{cause:n}):new Kn(n)}var I;(function(n){n[n.loading=1]="loading",n[n.setVariables=2]="setVariables",n[n.fetchMore=3]="fetchMore",n[n.refetch=4]="refetch",n[n.poll=6]="poll",n[n.ready=7]="ready",n[n.error=8]="error",n[n.streaming=9]="streaming"})(I||(I={}));const{assign:Wr}=Object,ye={loading:!0,networkStatus:I.loading,data:void 0,dataState:"empty",partial:!0},Zt={loading:!1,networkStatus:I.ready,data:void 0,dataState:"empty",partial:!0};var Zr;Zr=Symbol.observable;class en{constructor({queryManager:e,options:t,transformedQuery:r=e.transform(t.query)}){p(this,"options");p(this,"queryName");p(this,"variablesUnknown",!1);p(this,"_lastWrite");p(this,"unsubscribeFromCache");p(this,"input");p(this,"subject");p(this,"isTornDown");p(this,"queryManager");p(this,"subscriptions",new Set);p(this,"waitForNetworkResult");p(this,"lastQuery");p(this,"linkSubscription");p(this,"pollingInfo");p(this,"subscribe");p(this,"pipe");p(this,Zr);p(this,"@@observable");p(this,"stableLastResult");p(this,"didWarnCacheOnlyPolling",!1);p(this,"dirty",!1);p(this,"notifyTimeout");p(this,"activeOperations",new Set);p(this,"operator",vn(e=>{const{query:t,variables:r,meta:i}=e;if(e.source==="setResult")return{query:t,variables:r,result:e.value,meta:i};if(e.kind==="C"||!je(e,this))return;let s;const o=this.subject.getValue();if(e.source==="cache"){if(s=e.value,s.networkStatus===I.ready&&s.partial&&(!this.options.returnPartialData||o.result.networkStatus===I.error)&&this.options.fetchPolicy!=="cache-only")return}else if(e.source==="network")this.waitForNetworkResult&&(this.waitForNetworkResult=!1,this.resubscribeCache()),s=e.kind==="E"?{...je(o,e)?o.result:{data:void 0,dataState:"empty",partial:!0},error:e.error,networkStatus:I.error,loading:!1}:e.value,e.kind==="E"&&s.dataState==="streaming"&&(s.dataState="complete"),s.error&&(i.shouldEmit=1);else if(e.source==="newNetworkStatus"){const a=je(o,e)?o.result:this.getInitialResult(i.fetchPolicy),{resetError:c}=e.value,u=c?void 0:a.error,l=u?I.error:I.ready;s={...a,error:u,networkStatus:l}}return C(s),s.error||delete s.error,s.networkStatus=this.calculateNetworkStatus(s.networkStatus),s.loading=En(s.networkStatus),s=this.maskResult(s),{query:t,variables:r,result:s,meta:i}}));this.queryManager=e,this.waitForNetworkResult=t.fetchPolicy==="network-only",this.isTornDown=!1,this.subscribeToMore=this.subscribeToMore.bind(this),this.maskResult=this.maskResult.bind(this);const{watchQuery:{fetchPolicy:i="cache-first"}={}}=e.defaultOptions,{fetchPolicy:s=i,initialFetchPolicy:o=s==="standby"?i:s}=t;t[Qn]&&(C(s==="standby",77),this.variablesUnknown=!0),this.lastQuery=r,this.options={...t,initialFetchPolicy:o,fetchPolicy:s,variables:this.getVariablesWithDefaults(t.variables)},this.initializeObservablesQueue(),this["@@observable"]=()=>this,Symbol.observable&&(this[Symbol.observable]=()=>this);const a=oe(this.query);this.queryName=a&&a.name&&a.name.value}get query(){return this.lastQuery}get variables(){return this.options.variables}get networkStatus(){return this.subject.getValue().result.networkStatus}initializeObservablesQueue(){this.subject=new No({query:this.query,variables:this.variables,result:ye,meta:{}});const e=this.subject.pipe(wt({subscribe:()=>{this.subject.observed||(this.reobserve(),setTimeout(()=>this.updatePolling()))},unsubscribe:()=>{this.subject.observed||this.tearDownQuery()}}),vn(({query:t,variables:r,result:i,meta:s},o)=>{const{shouldEmit:a}=s;if(i===ye&&(o.previous=void 0,o.previousVariables=void 0),this.options.fetchPolicy==="standby"||a===2)return;if(a===1)return l();const{previous:c,previousVariables:u}=o;if(c){const f=this.queryManager.getDocumentInfo(t),h=this.queryManager.dataMasking,d=h?f.nonReactiveQuery:t;if((h||f.hasNonreactiveDirective?qi(d,c,i,r):_(c,i))&&_(u,r))return}if(a===3&&(!this.options.notifyOnNetworkStatusChange||_(c,i)))return;return l();function l(){return o.previous=i,o.previousVariables=r,i}},()=>({})));this.pipe=e.pipe.bind(e),this.subscribe=e.subscribe.bind(e),this.input=new Re,this.input.complete=()=>{},this.input.pipe(this.operator).subscribe(this.subject)}getCacheDiff({optimistic:e=!0}={}){return this.queryManager.cache.diff({query:this.query,variables:this.variables,returnPartialData:!0,optimistic:e})}getInitialResult(e){const t=this.queryManager.prioritizeCacheValues?"cache-first":e||this.options.fetchPolicy,r=()=>{const i=this.getCacheDiff(),s=this.options.returnPartialData||i.complete?i.result??void 0:void 0;return this.maskResult({data:s,dataState:i.complete?"complete":s===void 0?"empty":"partial",loading:!i.complete,networkStatus:i.complete?I.ready:I.loading,partial:!i.complete})};switch(t){case"cache-only":return{...r(),loading:!1,networkStatus:I.ready};case"cache-first":return r();case"cache-and-network":return{...r(),loading:!0,networkStatus:I.loading};case"standby":return Zt;default:return ye}}resubscribeCache(){const{variables:e,fetchPolicy:t}=this.options,r=this.query,i=t==="standby"||t==="no-cache"||this.waitForNetworkResult,s=!je({query:r,variables:e},this.unsubscribeFromCache)&&!this.waitForNetworkResult;if((i||s)&&this.unsubscribeFromCache?.(),i||!s)return;const o={query:r,variables:e,optimistic:!0,watcher:this,callback:c=>{const u=this.queryManager.getDocumentInfo(r);if((u.hasClientExports||u.hasForcedResolvers)&&(o.lastDiff=void 0),o.lastOwnDiff===c)return;const{result:l}=this.subject.getValue();!c.complete&&(l.error||l===ye||l===Zt)||_(l.data,c.result)||this.scheduleNotify()}},a=this.queryManager.cache.watch(o);this.unsubscribeFromCache=Object.assign(()=>{this.unsubscribeFromCache=void 0,a()},{query:r,variables:e})}getCurrentResult(){const{result:e}=this.subject.getValue();let t=e.networkStatus===I.error||this.hasObservers()||this.options.fetchPolicy==="no-cache"?e:this.getInitialResult();return t===ye&&(t=this.getInitialResult()),_(this.stableLastResult,t)||(this.stableLastResult=t),this.stableLastResult}refetch(e){const{fetchPolicy:t}=this.options,r={pollInterval:0};return t==="no-cache"?r.fetchPolicy="no-cache":r.fetchPolicy="network-only",e&&!_(this.variables,e)&&(r.variables=this.options.variables=this.getVariablesWithDefaults({...this.variables,...e})),this._lastWrite=void 0,this._reobserve(r,{newNetworkStatus:I.refetch})}fetchMore({query:e,variables:t,context:r,errorPolicy:i,updateQuery:s}){C(this.options.fetchPolicy!=="cache-only",79,Ne(this.query,"(anonymous)"));const o={...Q(this.options,{errorPolicy:"none"},{query:e,context:r,errorPolicy:i}),variables:e?t:{...this.variables,...t},fetchPolicy:"no-cache",notifyOnNetworkStatusChange:this.options.notifyOnNetworkStatusChange};o.query=this.transformDocument(o.query),this.lastQuery=e?this.transformDocument(this.options.query):o.query;let a=!1;const c=this.options.fetchPolicy!=="no-cache";c||C(s,80);const{finalize:u,pushNotification:l}=this.pushOperation(I.fetchMore);return l({source:"newNetworkStatus",kind:"N",value:{}},{shouldEmit:3}),this.queryManager.fetchQuery(o,I.fetchMore).then(f=>{if(u(),c){const h=this.getCacheDiff();this.queryManager.cache.batch({update:d=>{s?d.updateQuery({query:this.query,variables:this.variables,returnPartialData:!0,optimistic:!1},y=>s(y,{fetchMoreResult:f.data,variables:o.variables})):d.writeQuery({query:o.query,variables:o.variables,data:f.data})},onWatchUpdated:(d,y)=>{d.watcher===this&&!_(y.result,h.result)&&(a=!0)}})}else{const h=this.getCurrentResult(),d=s(h.data,{fetchMoreResult:f.data,variables:o.variables});l({kind:"N",value:{...h,networkStatus:I.ready,loading:!1,data:d,dataState:h.dataState==="streaming"?"streaming":"complete"},source:"network"})}return this.maskResult(f)}).finally(()=>{u(),c&&!a&&l({kind:"N",source:"newNetworkStatus",value:{}},{shouldEmit:1})})}subscribeToMore(e){const t=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:r=>{const{updateQuery:i,onError:s}=e,{error:o}=r;if(o){s?s(o):C.error(81,o);return}i&&this.updateQuery((a,c)=>i(a,{subscriptionData:r,...c}))}});return this.subscriptions.add(t),()=>{this.subscriptions.delete(t)&&t.unsubscribe()}}applyOptions(e){const t=Q(this.options,e||{});Wr(this.options,t),this.updatePolling()}async setVariables(e){return e=this.getVariablesWithDefaults(e),_(this.variables,e)?pt(this.getCurrentResult()):(this.options.variables=e,this.hasObservers()?this._reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:e},{newNetworkStatus:I.setVariables}):pt(this.getCurrentResult()))}updateQuery(e){const{queryManager:t}=this,{result:r,complete:i}=this.getCacheDiff({optimistic:!1}),s=e(r,{variables:this.variables,complete:!!i,previousData:r});s&&(t.cache.writeQuery({query:this.options.query,data:s,variables:this.variables}),t.broadcastQueries())}startPolling(e){this.options.pollInterval=e,this.updatePolling()}stopPolling(){this.options.pollInterval=0,this.updatePolling()}applyNextFetchPolicy(e,t){if(t.nextFetchPolicy){const{fetchPolicy:r="cache-first",initialFetchPolicy:i=r}=t;r==="standby"||(typeof t.nextFetchPolicy=="function"?t.fetchPolicy=t.nextFetchPolicy.call(t,r,{reason:e,options:t,observable:this,initialFetchPolicy:i}):e==="variables-changed"?t.fetchPolicy=i:t.fetchPolicy=t.nextFetchPolicy)}return t.fetchPolicy}fetch(e,t,r,i){const s=this.options.fetchPolicy;e.context??(e.context={});let o=!1;const a=()=>{o=!0},c=m=>new A(v=>{try{return m.subscribe({next(E){o=!0,v.next(E)},error:E=>v.error(E),complete:()=>v.complete()})}finally{o||(d.override=t,this.input.next({kind:"N",source:"newNetworkStatus",value:{resetError:!0},query:f,variables:h,meta:{shouldEmit:3,fetchPolicy:s}}))}});let{observable:u,fromLink:l}=this.queryManager.fetchObservableWithInfo(e,{networkStatus:t,query:r,onCacheHit:a,fetchQueryOperator:c,observableQuery:this});const{query:f,variables:h}=this,d={abort:()=>{g.unsubscribe()},query:f,variables:h};this.activeOperations.add(d);let y=t==I.refetch||t==I.setVariables;u=u.pipe(i,St());const g=u.pipe(wt({next:m=>{m.source==="newNetworkStatus"||m.kind==="N"&&m.value.loading?d.override=t:delete d.override},finalize:()=>this.activeOperations.delete(d)})).subscribe({next:m=>{const v={};y&&m.kind==="N"&&"loading"in m.value&&!m.value.loading&&(y=!1,v.shouldEmit=1),this.input.next({...m,query:f,variables:h,meta:v})}});return{fromLink:l,subscription:g,observable:u}}updatePolling(){if(this.queryManager.ssrMode)return;const{pollingInfo:e,options:{fetchPolicy:t,pollInterval:r}}=this;if(!r||!this.hasObservers()||t==="cache-only"){this.cancelPolling();return}if(e?.interval===r)return;const i=e||(this.pollingInfo={});i.interval=r;const s=()=>{this.pollingInfo&&(!En(this.networkStatus)&&!this.options.skipPollAttempt?.()?this._reobserve({fetchPolicy:this.options.initialFetchPolicy==="no-cache"?"no-cache":"network-only"},{newNetworkStatus:I.poll}).then(o,o):o())},o=()=>{const a=this.pollingInfo;a&&(clearTimeout(a.timeout),a.timeout=setTimeout(s,a.interval))};o()}cancelPolling(){this.pollingInfo&&(clearTimeout(this.pollingInfo.timeout),delete this.pollingInfo)}reobserve(e){return this._reobserve(e)}_reobserve(e,t){this.isTornDown=!1;let{newNetworkStatus:r}=t||{};this.queryManager.obsQueries.add(this);const i=r===I.refetch||r===I.poll,s=this.variables,o=this.options.fetchPolicy,a=Q(this.options,e||{});this.variablesUnknown&&(this.variablesUnknown=a.fetchPolicy==="standby");const c=i?a:Wr(this.options,a),u=this.transformDocument(c.query);this.lastQuery=u,e&&"variables"in e&&(c.variables=this.getVariablesWithDefaults(e.variables)),i||(this.updatePolling(),e&&e.variables&&!_(e.variables,s)&&c.fetchPolicy!=="standby"&&(c.fetchPolicy===o||typeof c.nextFetchPolicy=="function")&&(this.applyNextFetchPolicy("variables-changed",c),r===void 0&&(r=I.setVariables)));const l=this.networkStatus;r||(r=I.loading,l!==I.loading&&e?.variables&&!_(e.variables,s)&&(r=I.setVariables),c.fetchPolicy==="standby"&&(r=I.ready)),c.fetchPolicy==="standby"&&this.cancelPolling(),this.resubscribeCache();const{promise:f,operator:h}=xc(v=>{switch(v.kind){case"E":throw v.error;case"N":if(v.source!=="newNetworkStatus"&&!v.value.loading)return v.value}},c.fetchPolicy==="standby"?{data:void 0}:void 0),{subscription:d,observable:y,fromLink:g}=this.fetch(c,r,u,h);!i&&(g||!this.linkSubscription)&&(this.linkSubscription&&this.linkSubscription.unsubscribe(),this.linkSubscription=d);const m=Object.assign(ji(f.then(v=>pt(this.maskResult(v))).finally(()=>{!this.hasObservers()&&this.activeOperations.size===0&&this.tearDownQuery()})),{retain:()=>{const v=y.subscribe({}),E=()=>v.unsubscribe();return f.then(E,E),m}});return m}hasObservers(){return this.subject.observed}stop(){this.subject.complete(),this.initializeObservablesQueue(),this.tearDownQuery()}tearDownQuery(){this.isTornDown||(this.resetNotifications(),this.unsubscribeFromCache?.(),this.linkSubscription&&(this.linkSubscription.unsubscribe(),delete this.linkSubscription),this.stopPolling(),this.subscriptions.forEach(e=>e.unsubscribe()),this.subscriptions.clear(),this.queryManager.obsQueries.delete(this),this.isTornDown=!0,this.abortActiveOperations(),this._lastWrite=void 0)}transformDocument(e){return this.queryManager.transform(e)}maskResult(e){const t=this.queryManager.maskOperation({document:this.query,data:e.data,fetchPolicy:this.options.fetchPolicy,cause:this});return t===e.data?e:{...e,data:t}}resetNotifications(){this.notifyTimeout&&(clearTimeout(this.notifyTimeout),this.notifyTimeout=void 0),this.dirty=!1}scheduleNotify(){this.dirty||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(()=>this.notify(!0),0)))}notify(e=!1){if(!e){const r=this.queryManager.getDocumentInfo(this.query);if(r.hasClientExports||r.hasForcedResolvers)return}const{dirty:t}=this;if(this.resetNotifications(),t&&(this.options.fetchPolicy=="cache-only"||this.options.fetchPolicy=="cache-and-network"||!this.activeOperations.size)){const r=this.getCacheDiff();_(r.result,this.getCacheDiff({optimistic:!1}).result)?this.reobserveCacheFirst():this.input.next({kind:"N",value:{data:r.result,dataState:r.complete?"complete":r.result?"partial":"empty",networkStatus:I.ready,loading:!1,error:void 0,partial:!r.complete},source:"cache",query:this.query,variables:this.variables,meta:{}})}}pushOperation(e){let t=!1;const{query:r,variables:i}=this,s=()=>{this.activeOperations.delete(o)},o={override:e,abort:()=>{t=!0,s()},query:r,variables:i};return this.activeOperations.add(o),{finalize:s,pushNotification:(a,c)=>{t||this.input.next({...a,query:r,variables:i,meta:{...c}})}}}calculateNetworkStatus(e){return e===I.streaming?e:Array.from(this.activeOperations.values()).reverse().find(r=>je(r,this)&&r.override!==void 0)?.override??e}abortActiveOperations(){this.activeOperations.forEach(e=>e.abort())}reset(){const e=this.options.fetchPolicy==="cache-only";this.setResult(e?Zt:ye,{shouldEmit:e?1:2}),this.abortActiveOperations()}setResult(e,t){this.input.next({source:"setResult",kind:"N",value:e,query:this.query,variables:this.variables,meta:{...t}})}reobserveCacheFirst(){const{fetchPolicy:e,nextFetchPolicy:t}=this.options;e==="cache-and-network"||e==="network-only"?this.reobserve({fetchPolicy:"cache-first",nextFetchPolicy(r,i){return this.nextFetchPolicy=t,typeof this.nextFetchPolicy=="function"?this.nextFetchPolicy(r,i):e}}):this.reobserve()}getVariablesWithDefaults(e){return this.queryManager.getVariables(this.query,e)}}function je(n,e){return!!(n&&e&&n.query===e.query&&_(n.variables,e.variables))}function xc(n,e){let t=e,r,i;const s=new Promise((a,c)=>{r=a,i=c}),o=wt({next(a){try{const c=n(a);c!==void 0&&(t=c)}catch(c){i(c)}},finalize:()=>{if(t)r(t);else{const a="The operation was aborted.",c="AbortError";i(typeof DOMException<"u"?new DOMException(a,c):Object.assign(new Error(a),{name:c}))}}});return{promise:s,operator:o}}const $r={},ge=new WeakMap;function tn(n,e){const t=n[e];typeof t=="function"&&(n[e]=function(){return ge.set(n,(ge.get(n)+1)%1e15),t.apply(this,arguments)})}const Gr=new WeakMap;class nn{constructor(e,t){p(this,"lastRequestId",1);p(this,"cache");p(this,"queryManager");p(this,"id");p(this,"observableQuery");p(this,"incremental");p(this,"_lastWrite");const r=this.cache=e.cache,i=(Gr.get(e)||0)+1;Gr.set(e,i),this.id=i+"",this.observableQuery=t,this.queryManager=e,ge.has(r)||(ge.set(r,0),tn(r,"evict"),tn(r,"modify"),tn(r,"reset"))}get lastWrite(){return(this.observableQuery||this)._lastWrite}set lastWrite(e){(this.observableQuery||this)._lastWrite=e}resetLastWrite(){this.lastWrite=void 0}shouldWrite(e,t){const{lastWrite:r}=this;return!(r&&r.dmCount===ge.get(this.cache)&&_(t,r.variables)&&_(e.data,r.result.data))}get hasNext(){return this.incremental?this.incremental.hasNext:!1}maybeHandleIncrementalResult(e,t,r){const{incrementalHandler:i}=this.queryManager;return i.isIncrementalResult(t)?(this.incremental||(this.incremental=i.startRequest({query:r})),this.incremental.handle(e,t)):t}markQueryResult(e,{document:t,variables:r,errorPolicy:i,cacheWriteBehavior:s}){const o={query:t,variables:r,returnPartialData:!0,optimistic:!0};this.observableQuery?.resetNotifications();const a=s===0,c=a?void 0:this.cache.diff(o);let u=this.maybeHandleIncrementalResult(c?.result,e,t);return a||(rn(u,i)?this.cache.batch({onWatchUpdated:(l,f)=>{l.watcher===this.observableQuery&&(l.lastOwnDiff=f)},update:l=>{if(this.shouldWrite(u,r))l.writeQuery({query:t,data:u.data,variables:r,overwrite:s===1}),this.lastWrite={result:u,variables:r,dmCount:ge.get(this.cache)};else if(c&&c.complete){u={...u,data:c.result};return}const f=l.diff(o);f.complete&&(u={...u,data:f.result})}}):this.lastWrite=void 0),u}markMutationResult(e,t,r=this.cache){const i=[],s=t.cacheWriteBehavior===0;let o=this.maybeHandleIncrementalResult(s?void 0:r.diff({id:"ROOT_MUTATION",query:this.queryManager.getDocumentInfo(t.document).asQuery,variables:t.variables,optimistic:!1,returnPartialData:!0}).result,e,t.document);if(t.errorPolicy==="ignore"&&(o={...o,errors:[]}),be(o)&&t.errorPolicy==="none")return Promise.resolve(o);const a=()=>({...o,dataState:this.hasNext?"streaming":"complete"});if(!s&&rn(o,t.errorPolicy)){i.push({result:o.data,dataId:"ROOT_MUTATION",query:t.document,variables:t.variables});const{updateQueries:u}=t;u&&this.queryManager.getObservableQueries("all").forEach(l=>{const f=l&&l.queryName;if(!f||!Object.hasOwnProperty.call(u,f))return;const h=u[f],{query:d,variables:y}=l,{result:g,complete:m}=l.getCacheDiff({optimistic:!1});if(m&&g){const v=h(g,{mutationResult:a(),queryName:d&&Ne(d)||void 0,queryVariables:y});v&&i.push({result:v,dataId:"ROOT_QUERY",query:d,variables:y})}})}let c=t.refetchQueries;if(typeof c=="function"&&(c=c(a())),i.length>0||(c||"").length>0||t.update||t.onQueryUpdated||t.removeOptimistic){const u=[];if(this.queryManager.refetchQueries({updateCache:l=>{s||i.forEach(h=>l.write(h));const{update:f}=t;if(f){if(!s){const h=l.diff({id:"ROOT_MUTATION",query:this.queryManager.getDocumentInfo(t.document).asQuery,variables:t.variables,optimistic:!1,returnPartialData:!0});h.complete&&(o={...o,data:h.result})}this.hasNext||f(l,o,{context:t.context,variables:t.variables})}!s&&!t.keepRootFields&&!this.hasNext&&l.modify({id:"ROOT_MUTATION",fields(h,{fieldName:d,DELETE:y}){return d==="__typename"?h:y}})},include:c,optimistic:!1,removeOptimistic:t.removeOptimistic,onQueryUpdated:t.onQueryUpdated||null}).forEach(l=>u.push(l)),t.awaitRefetchQueries||t.onQueryUpdated)return Promise.all(u).then(()=>o)}return Promise.resolve(o)}markMutationOptimistic(e,t){const r=typeof e=="function"?e(t.variables,{IGNORE:$r}):e;return r===$r?!1:(this.cache.recordOptimisticTransaction(i=>{try{this.markMutationResult({data:r},t,i)}catch(s){C.error(s)}},this.id),!0)}markSubscriptionResult(e,{document:t,variables:r,errorPolicy:i,cacheWriteBehavior:s}){s!==0&&(rn(e,i)&&this.cache.write({query:t,result:e.data,dataId:"ROOT_SUBSCRIPTION",variables:r}),this.queryManager.broadcastQueries())}}function rn(n,e="none"){const t=e==="ignore"||e==="all";let r=!be(n);return!r&&t&&n.data&&(r=!0),r}class Cc{constructor(e){p(this,"defaultOptions");p(this,"client");p(this,"clientOptions");p(this,"assumeImmutableResults");p(this,"documentTransform");p(this,"ssrMode");p(this,"defaultContext");p(this,"dataMasking");p(this,"incrementalHandler");p(this,"localState");p(this,"queryDeduplication");p(this,"prioritizeCacheValues",!1);p(this,"onBroadcast");p(this,"mutationStore");p(this,"obsQueries",new Set);p(this,"fetchCancelFns",new Map);p(this,"transformCache",new qn(ee["queryManager.getDocumentInfo"]||2e3));p(this,"requestIdCounter",1);p(this,"inFlightLinkObservables",new te(!1));p(this,"noCacheWarningsByCause",new WeakSet);const t=new Z(i=>this.cache.transformDocument(i),{cache:!1});this.client=e.client,this.defaultOptions=e.defaultOptions,this.queryDeduplication=e.queryDeduplication,this.clientOptions=e.clientOptions,this.ssrMode=e.ssrMode,this.assumeImmutableResults=e.assumeImmutableResults,this.dataMasking=e.dataMasking,this.localState=e.localState,this.incrementalHandler=e.incrementalHandler;const r=e.documentTransform;this.documentTransform=r?t.concat(r).concat(t):t,this.defaultContext=e.defaultContext||{},(this.onBroadcast=e.onBroadcast)&&(this.mutationStore={})}get link(){return this.client.link}get cache(){return this.client.cache}stop(){this.obsQueries.forEach(e=>e.stop()),this.cancelPendingFetches(z(84))}cancelPendingFetches(e){this.fetchCancelFns.forEach(t=>t(e)),this.fetchCancelFns.clear()}async mutate({mutation:e,variables:t,optimisticResponse:r,updateQueries:i,refetchQueries:s=[],awaitRefetchQueries:o=!1,update:a,onQueryUpdated:c,fetchPolicy:u,errorPolicy:l,keepRootFields:f,context:h}){const d=new nn(this);e=this.cache.transformForLink(this.transform(e));const{hasClientExports:y}=this.getDocumentInfo(e);t=this.getVariables(e,t),y&&(t=await this.localState.getExportedVariables({client:this.client,document:e,variables:t,context:h}));const g=this.mutationStore&&(this.mutationStore[d.id]={mutation:e,variables:t,loading:!0,error:null}),m=r&&d.markMutationOptimistic(r,{document:e,variables:t,cacheWriteBehavior:u==="no-cache"?0:2,errorPolicy:l,context:h,updateQueries:i,update:a,keepRootFields:f});return this.broadcastQueries(),new Promise((v,E)=>{const k={};return this.getObservableFromLink(e,{...h,optimisticResponse:m?r:void 0},t,{},!1).observable.pipe(Yr(),me(O=>{const T={...O};return fe(d.markMutationResult(T,{document:e,variables:t,cacheWriteBehavior:u==="no-cache"?0:2,errorPolicy:l,context:h,update:a,updateQueries:i,awaitRefetchQueries:o,refetchQueries:s,removeOptimistic:m?d.id:void 0,onQueryUpdated:c,keepRootFields:f}))})).pipe(he(O=>{if(be(O)&&l==="none")throw new ne(O);return g&&(g.loading=!1,g.error=null),O})).subscribe({next:O=>{if(this.broadcastQueries(),!d.hasNext){const T={data:this.maskOperation({document:e,data:O.data,fetchPolicy:u,cause:k})};be(O)&&(T.error=new ne(O)),Object.keys(O.extensions||{}).length&&(T.extensions=O.extensions),v(T)}},error:O=>{if(g&&(g.loading=!1,g.error=O),m&&this.cache.removeOptimistic(d.id),this.broadcastQueries(),l==="ignore")return v({data:void 0});if(l==="all")return v({data:void 0,error:O});E(O)}})})}fetchQuery(e,t){return re(e.query,Y.QUERY),(async()=>ra(this.fetchObservableWithInfo(e,{networkStatus:t}).observable.pipe(vn(r=>{switch(r.kind){case"E":throw r.error;case"N":if(r.source!=="newNetworkStatus")return pt(r.value)}})),{defaultValue:{data:void 0}}))()}transform(e){return this.documentTransform.transformDocument(e)}getDocumentInfo(e){const{transformCache:t}=this;if(!t.has(e)){const i=oe(e),s={hasClientExports:Qe(["client","export"],e,!0),hasForcedResolvers:Aa(e),hasNonreactiveDirective:Qe(["nonreactive"],e),hasIncrementalDirective:Qe(["defer"],e),nonReactiveQuery:Nc(e),clientQuery:Qe(["client"],e)?e:null,serverQuery:Pa([{name:"client",remove:!0},{name:"connection"},{name:"nonreactive"},{name:"unmask"}],e),operationType:i?.operation,defaultVars:Bn(i),asQuery:{...e,definitions:e.definitions.map(o=>o.kind==="OperationDefinition"&&o.operation!=="query"?{...o,operation:"query"}:o)}};t.set(e,s)}const r=t.get(e);if(r.violation)throw r.violation;return r}getVariables(e,t){const r=this.getDocumentInfo(e).defaultVars,i=Object.entries(t??{}).map(([s,o])=>[s,o===void 0?r[s]:o]);return{...r,...Object.fromEntries(i)}}watchQuery(e){re(e.query,Y.QUERY);const t=this.transform(e.query);return e={...e,variables:this.getVariables(t,e.variables)},typeof e.notifyOnNetworkStatusChange>"u"&&(e.notifyOnNetworkStatusChange=!0),new en({queryManager:this,options:e,transformedQuery:t})}query(e){const t=this.transform(e.query);return this.fetchQuery({...e,query:t}).then(r=>({...r,data:this.maskOperation({document:t,data:r?.data,fetchPolicy:e.fetchPolicy})}))}generateRequestId(){return this.requestIdCounter++}clearStore(e={discardWatches:!0}){return this.cancelPendingFetches(z(86)),this.obsQueries.forEach(t=>{t.reset()}),this.mutationStore&&(this.mutationStore={}),this.cache.reset(e)}getObservableQueries(e="active"){const t=new Set,r=new Map,i=new Map,s=new Set;return Array.isArray(e)&&e.forEach(o=>{if(typeof o=="string")r.set(o,o),i.set(o,!1);else if(Fa(o)){const a=ke(this.transform(o));r.set(a,Ne(o)),i.set(a,!1)}else U(o)&&o.query&&s.add(o)}),this.obsQueries.forEach(o=>{const a=ke(this.transform(o.options.query));if(e==="all"){t.add(o);return}const{queryName:c,options:{fetchPolicy:u}}=o;e==="active"&&u==="standby"||(e==="active"||c&&i.has(c)||a&&i.has(a))&&(t.add(o),c&&i.set(c,!0),a&&i.set(a,!0))}),s.size&&s.forEach(o=>{const a=new en({queryManager:this,options:{...o,fetchPolicy:"network-only"}});t.add(a)}),t}refetchObservableQueries(e=!1){const t=[];return this.getObservableQueries(e?"all":"active").forEach(r=>{const{fetchPolicy:i}=r.options;(e||i!=="standby")&&i!=="cache-only"&&t.push(r.refetch())}),this.broadcastQueries(),Promise.all(t)}startGraphQLSubscription(e){let{query:t,variables:r}=e;const{fetchPolicy:i,errorPolicy:s="none",context:o={},extensions:a={}}=e;re(t,Y.SUBSCRIPTION),t=this.transform(t),r=this.getVariables(t,r);let c;const u=(this.getDocumentInfo(t).hasClientExports?fe(this.localState.getExportedVariables({client:this.client,document:t,variables:r,context:o})):le(r)).pipe(me(l=>{const{observable:f,restart:h}=this.getObservableFromLink(t,o,l,a),d=new nn(this);return c=h,f.pipe(he(y=>{d.markSubscriptionResult(y,{document:t,variables:l,errorPolicy:s,cacheWriteBehavior:i==="no-cache"?0:2});const g={data:y.data??void 0};return be(y)?g.error=new ne(y):Xn(y)&&(g.error=y.extensions[et],delete y.extensions[et]),y.extensions&&Object.keys(y.extensions).length&&(g.extensions=y.extensions),g.error&&s==="none"&&(g.data=void 0),s==="ignore"&&delete g.error,g}),dt(y=>le(s==="ignore"?{data:void 0}:{data:void 0,error:y})),aa(y=>!!(y.data||y.error)))}));return Object.assign(u,{restart:()=>c?.()})}broadcastQueries(){this.onBroadcast&&this.onBroadcast(),this.obsQueries.forEach(e=>e.notify())}getObservableFromLink(e,t,r,i,s=t?.queryDeduplication??this.queryDeduplication){let o={};const{serverQuery:a,clientQuery:c,operationType:u,hasIncrementalDirective:l}=this.getDocumentInfo(e),f=Ne(e),h={client:this.client};if(a){const{inFlightLinkObservables:d,link:y}=this;try{let m=function(v){return new A(E=>{function k(){return v.subscribe({next:E.next.bind(E),complete:E.complete.bind(E),error:E.error.bind(E)})}let O=k();return o.restart||(o.restart=()=>{O.unsubscribe(),O=k()}),()=>{O.unsubscribe(),o.restart=void 0}})};const g=this.incrementalHandler.prepareRequest({query:a,variables:r,context:{...this.defaultContext,...t,queryDeduplication:s},extensions:i});if(t=g.context,s){const v=ke(a),E=ie(r);o=d.lookup(v,E),o.observable||(o.observable=gn(y,g,h).pipe(m,ca(()=>{d.peek(v,E)===o&&d.remove(v,E)}),u===Y.SUBSCRIPTION?St():la({refCount:!0})))}else o.observable=gn(y,g,h).pipe(m)}catch(g){o.observable=Et(()=>g)}}else o.observable=le({data:{}});if(c){const{operation:d}=oe(e);C(!l,91,d[0].toUpperCase()+d.slice(1),f??"(anonymous)"),o.observable=o.observable.pipe(me(y=>fe(this.localState.execute({client:this.client,document:c,remoteResult:y,context:t,variables:r}))))}return{restart:()=>o.restart?.(),observable:o.observable.pipe(dt(d=>{throw d=Tt(d),Ic(d),d}))}}getResultsFromLink(e,{queryInfo:t,cacheWriteBehavior:r,observableQuery:i}){const s=t.lastRequestId=this.generateRequestId(),{errorPolicy:o}=e,a=this.cache.transformForLink(e.query);return this.getObservableFromLink(a,e.context,e.variables).observable.pipe(he(c=>{const u=t.markQueryResult(c,{...e,document:a,cacheWriteBehavior:r}),l=be(u);if(l&&o==="none")throw t.resetLastWrite(),i?.resetNotifications(),new ne(u);const f={data:u.data,...t.hasNext?{loading:!0,networkStatus:I.streaming,dataState:"streaming",partial:!0}:{dataState:u.data?"complete":"empty",loading:!1,networkStatus:I.ready,partial:!u.data}};return l&&(o==="none"&&(f.data=void 0,f.dataState="empty"),o!=="ignore"&&(f.error=new ne(u),f.dataState!=="streaming"&&(f.networkStatus=I.error))),f}),dt(c=>{if(s>=t.lastRequestId&&o==="none")throw t.resetLastWrite(),i?.resetNotifications(),c;const u={data:void 0,dataState:"empty",loading:!1,networkStatus:I.ready,partial:!0};return o!=="ignore"&&(u.error=c,u.networkStatus=I.error),le(u)}))}fetchObservableWithInfo(e,{networkStatus:t=I.loading,query:r=e.query,fetchQueryOperator:i=a=>a,onCacheHit:s=()=>{},observableQuery:o}){const a=this.getVariables(r,e.variables),c=this.defaultOptions.watchQuery;let{fetchPolicy:u=c&&c.fetchPolicy||"cache-first",errorPolicy:l=c&&c.errorPolicy||"none",returnPartialData:f=!1,notifyOnNetworkStatusChange:h=!0,context:d={}}=e;this.prioritizeCacheValues&&(u==="network-only"||u==="cache-and-network")&&(u="cache-first");const y=Object.assign({},e,{query:r,variables:a,fetchPolicy:u,errorPolicy:l,returnPartialData:f,notifyOnNetworkStatusChange:h,context:d}),g=new nn(this,o),m=T=>{y.variables=T;const q=u==="no-cache"?0:t===I.refetch&&y.refetchWritePolicy!=="merge"?1:2,B=this.fetchQueryByPolicy(y,{queryInfo:g,cacheWriteBehavior:q,onCacheHit:s,observableQuery:o});return B.observable=B.observable.pipe(i),y.fetchPolicy!=="standby"&&o?.applyNextFetchPolicy("after-fetch",e),B},v=()=>{this.fetchCancelFns.delete(g.id)};this.fetchCancelFns.set(g.id,T=>{E.next({kind:"E",error:T,source:"network"})});const E=new Re;let k,O;if(this.getDocumentInfo(y.query).hasClientExports)k=fe(this.localState.getExportedVariables({client:this.client,document:y.query,variables:y.variables,context:y.context})).pipe(me(T=>m(T).observable)),O=!0;else{const T=m(y.variables);O=T.fromLink,k=T.observable}return{observable:new A(T=>{T.add(v),k.subscribe(T),E.subscribe(T)}).pipe(St()),fromLink:O}}refetchQueries({updateCache:e,include:t,optimistic:r=!1,removeOptimistic:i=r?ni("refetchQueries"):void 0,onQueryUpdated:s}){const o=new Map;t&&this.getObservableQueries(t).forEach(c=>{if(c.options.fetchPolicy==="cache-only"||c.variablesUnknown)return;const u=c.getCurrentResult();o.set(c,{oq:c,lastDiff:{result:u?.data,complete:!u?.partial}})});const a=new Map;if(e){const c=new Set;this.cache.batch({update:e,optimistic:r&&i||!1,removeOptimistic:i,onWatchUpdated(u,l,f){const h=u.watcher;if(h instanceof en&&!c.has(h)){if(c.add(h),s){o.delete(h);let d=s(h,l,f);return d===!0&&(d=h.refetch().retain()),d!==!1&&a.set(h,d),d}s!==null&&h.options.fetchPolicy!=="cache-only"&&o.set(h,{oq:h,lastDiff:f,diff:l})}}})}return o.size&&o.forEach(({oq:c,lastDiff:u,diff:l})=>{let f;s&&(l||(l=c.getCacheDiff()),f=s(c,l,u)),(!s||f===!0)&&(f=c.refetch().retain()),f!==!1&&a.set(c,f)}),i&&this.cache.removeOptimistic(i),a}maskOperation(e){const{document:t,data:r}=e;return this.dataMasking?yc(r,t,this.cache):r}maskFragment(e){const{data:t,fragment:r,fragmentName:i}=e;return this.dataMasking?pc(t,r,this.cache,i):t}fetchQueryByPolicy({query:e,variables:t,fetchPolicy:r,errorPolicy:i,returnPartialData:s,context:o},{cacheWriteBehavior:a,onCacheHit:c,queryInfo:u,observableQuery:l}){const f=()=>this.cache.diff({query:e,variables:t,returnPartialData:!0,optimistic:!0}),h=(y,g)=>{const m=y.result,v=k=>(!y.complete&&!s&&(k=void 0),{data:k,dataState:y.complete?"complete":k?"partial":"empty",loading:En(g),networkStatus:g,partial:!y.complete}),E=k=>le({kind:"N",value:v(k),source:"cache"});return(y.complete||s)&&this.getDocumentInfo(e).hasForcedResolvers?(c(),fe(this.localState.execute({client:this.client,document:e,remoteResult:m?{data:m}:void 0,context:o,variables:t,onlyRunForcedResolvers:!0,returnPartialData:!0}).then(k=>({kind:"N",value:v(k.data||void 0),source:"cache"})))):i==="none"&&g===I.refetch&&y.missing?E(void 0):E(m||void 0)},d=()=>this.getResultsFromLink({query:e,variables:t,context:o,fetchPolicy:r,errorPolicy:i},{cacheWriteBehavior:a,queryInfo:u,observableQuery:l}).pipe(Yr(),ua(),he(y=>({...y,source:"network"})));switch(r){default:case"cache-first":{const y=f();return y.complete?{fromLink:!1,observable:h(y,I.ready)}:s?{fromLink:!0,observable:zt(h(y,I.loading),d())}:{fromLink:!0,observable:d()}}case"cache-and-network":{const y=f();return y.complete||s?{fromLink:!0,observable:zt(h(y,I.loading),d())}:{fromLink:!0,observable:d()}}case"cache-only":return{fromLink:!1,observable:zt(h(f(),I.ready))};case"network-only":return{fromLink:!0,observable:d()};case"no-cache":return{fromLink:!0,observable:d()};case"standby":return{fromLink:!1,observable:Ke}}}}function Yr(){let n=!1;return wt({next(){n=!0},complete(){C(n,95)}})}function Nc(n){return K(n,{FragmentSpread:e=>{if(!e.directives?.some(t=>t.name.value==="unmask"))return{...e,directives:[...e.directives||[],{kind:S.DIRECTIVE,name:{kind:S.NAME,value:"nonreactive"}}]}}})}class _u{constructor(e){p(this,"link");p(this,"cache");p(this,"disableNetworkFetches");p(this,"version");p(this,"queryDeduplication");p(this,"defaultOptions");p(this,"devtoolsConfig");p(this,"queryManager");p(this,"devToolsHookCb");p(this,"resetStoreCallbacks",[]);p(this,"clearStoreCallbacks",[]);p(this,"reFetchObservableQueries");p(this,"maskedFragmentTransform",new Z(ja));const{cache:t,documentTransform:r,ssrMode:i=!1,ssrForceFetchDelay:s=0,queryDeduplication:o=!0,defaultOptions:a,defaultContext:c,assumeImmutableResults:u=t.assumeImmutableResults,localState:l,devtools:f,dataMasking:h,link:d,incrementalHandler:y=new Qa}=e;this.link=d,this.cache=t,this.queryDeduplication=o,this.defaultOptions=a||{},this.devtoolsConfig={...f,enabled:f?.enabled??ti},this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.watchFragment=this.watchFragment.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.refetchObservableQueries=this.refetchObservableQueries.bind(this),this.version=xn,this.queryManager=new Cc({client:this,defaultOptions:this.defaultOptions,defaultContext:c,documentTransform:r,queryDeduplication:o,ssrMode:i,dataMasking:!!h,clientOptions:e,incrementalHandler:y,assumeImmutableResults:u,onBroadcast:this.devtoolsConfig.enabled?()=>{this.devToolsHookCb&&this.devToolsHookCb()}:void 0,localState:l}),this.prioritizeCacheValues=i||s>0,s&&setTimeout(()=>{this.prioritizeCacheValues=!1},s),this.devtoolsConfig.enabled&&this.connectToDevTools()}set prioritizeCacheValues(e){this.queryManager.prioritizeCacheValues=e}get prioritizeCacheValues(){return this.queryManager.prioritizeCacheValues}connectToDevTools(){if(typeof window>"u")return;const e=window,t=Symbol.for("apollo.devtools");(e[t]=e[t]||[]).push(this),e.__APOLLO_CLIENT__=this}get documentTransform(){return this.queryManager.documentTransform}get localState(){return this.queryManager.localState}set localState(e){this.queryManager.localState=e}stop(){this.queryManager.stop()}watchQuery(e){return this.defaultOptions.watchQuery&&(e=we(this.defaultOptions.watchQuery,e)),this.queryManager.watchQuery(e)}query(e){return this.defaultOptions.query&&(e=we(this.defaultOptions.query,e)),this.queryManager.query(e)}mutate(e){const t=we(Q({fetchPolicy:"network-only",errorPolicy:"none"},this.defaultOptions.mutate),e);return re(t.mutation,Y.MUTATION),this.queryManager.mutate(t)}subscribe(e){const t={},r=this.queryManager.startGraphQLSubscription(e),i=r.pipe(he(s=>({...s,data:this.queryManager.maskOperation({document:e.query,data:s.data,fetchPolicy:e.fetchPolicy,cause:t})})));return Object.assign(i,{restart:r.restart})}readQuery(e,t=!1){return this.cache.readQuery({...e,query:this.transform(e.query)},t)}watchFragment(e){const t=this.queryManager.dataMasking;return this.cache.watchFragment({...e,fragment:this.transform(e.fragment,t)}).pipe(he(r=>r))}readFragment(e,t=!1){return this.cache.readFragment({...e,fragment:this.transform(e.fragment)},t)}writeQuery(e){const t=this.cache.writeQuery(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),t}writeFragment(e){const t=this.cache.writeFragment(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),t}__actionHookForDevTools(e){this.devToolsHookCb=e}__requestRaw(e){return gn(this.link,e,{client:this})}resetStore(){return Promise.resolve().then(()=>this.queryManager.clearStore({discardWatches:!1})).then(()=>Promise.all(this.resetStoreCallbacks.map(e=>e()))).then(()=>this.refetchObservableQueries())}clearStore(){return Promise.resolve().then(()=>this.queryManager.clearStore({discardWatches:!0})).then(()=>Promise.all(this.clearStoreCallbacks.map(e=>e())))}onResetStore(e){return this.resetStoreCallbacks.push(e),()=>{this.resetStoreCallbacks=this.resetStoreCallbacks.filter(t=>t!==e)}}onClearStore(e){return this.clearStoreCallbacks.push(e),()=>{this.clearStoreCallbacks=this.clearStoreCallbacks.filter(t=>t!==e)}}refetchObservableQueries(e){return this.queryManager.refetchObservableQueries(e)}refetchQueries(e){const t=this.queryManager.refetchQueries(e),r=[],i=[];t.forEach((o,a)=>{r.push(a),i.push(o)});const s=Promise.all(i);return s.queries=r,s.results=i,s.catch(o=>{}),s}getObservableQueries(e="active"){return this.queryManager.getObservableQueries(e)}extract(e){return this.cache.extract(e)}restore(e){return this.cache.restore(e)}setLink(e){this.link=e}get defaultContext(){return this.queryManager.defaultContext}transform(e,t=!1){const r=this.queryManager.transform(e);return t?this.maskedFragmentTransform.transformDocument(r):r}}const{hasOwnProperty:Hr}=Object.prototype;function _c(n,e){if(n.status>=300)throw new Lt(`Response not successful: Received status code ${n.status}`,{response:n,bodyText:e});try{return JSON.parse(e)}catch(t){throw new jt(t,{response:n,bodyText:e})}}function Dc(n,e){try{return JSON.parse(e)}catch(t){throw new jt(t,{response:n,bodyText:e})}}function Ac(n,e){return n.headers.get("content-type")?.includes("application/graphql-response+json")?Dc(n,e):_c(n,e)}function Fc(n){return e=>e.text().then(t=>{const r=Ac(e,t);if(!Array.isArray(r)&&!Hr.call(r,"data")&&!Hr.call(r,"errors"))throw new Lt(`Server response was malformed for query '${Array.isArray(n)?n.map(i=>i.operationName):n.operationName}'.`,{response:e,bodyText:t});return r})}const Rc={includeQuery:!0,includeExtensions:!0,preserveHeaderCase:!1},Pc={accept:"application/graphql-response+json,application/json;q=0.9","content-type":"application/json"},Mc={method:"POST"},Lc={http:Rc,headers:Pc,options:Mc},jc=(n,e)=>e(n);function Vc(n,e,...t){let r={},i={};t.forEach(l=>{r={...r,...l.options,headers:{...r.headers,...l.headers}},l.credentials&&(r.credentials=l.credentials),r.headers.accept=(l.http?.accept||[]).concat(r.headers.accept).join(","),i={...i,...l.http}}),r.headers=qc(r.headers,i.preserveHeaderCase);const{operationName:s,extensions:o,variables:a,query:c}=n,u={operationName:s,variables:a};return i.includeExtensions&&Object.keys(o||{}).length&&(u.extensions=o),i.includeQuery&&(u.query=e(c,ke)),{options:r,body:u}}function qc(n,e){if(!e){const i={};return Object.keys(Object(n)).forEach(s=>{i[s.toLowerCase()]=n[s]}),i}const t={};Object.keys(Object(n)).forEach(i=>{t[i.toLowerCase()]={originalName:i,value:n[i]}});const r={};return Object.keys(t).forEach(i=>{r[t[i].originalName]=t[i].value}),r}const Jr=(n,e)=>{const r=n.getContext().uri;return r||(typeof e=="function"?e(n):e||"/graphql")};class Bc extends j{constructor(e={}){super((t,r)=>{const i=t.client,s=i.queryManager.clientOptions,o=t.getContext();{const{name:a,version:c,transport:u="headers"}=Q({},s.clientAwareness,e.clientAwareness,o.clientAwareness);u==="headers"&&t.setContext(({headers:l,extensions:f})=>({headers:Q({"apollographql-client-name":a,"apollographql-client-version":c},l)}))}{const{transport:a="extensions"}=Q({},s.enhancedClientAwareness,e.enhancedClientAwareness);a==="extensions"&&(t.extensions=Q({clientLibrary:{name:"@apollo/client",version:i.version}},t.extensions))}return r(t)})}}var bt=new Map,In=new Map,fs=!0,It=!1;function hs(n){return n.replace(/[\s,]+/g," ").trim()}function Uc(n){return hs(n.source.body.substring(n.start,n.end))}function Qc(n){var e=new Set,t=[];return n.definitions.forEach(function(r){if(r.kind==="FragmentDefinition"){var i=r.name.value,s=Uc(r.loc),o=In.get(i);o&&!o.has(s)||o||In.set(i,o=new Set),o.add(s),e.has(s)||(e.add(s),t.push(r))}else t.push(r)}),vt(vt({},n),{definitions:t})}function zc(n){var e=new Set(n.definitions);e.forEach(function(r){r.loc&&delete r.loc,Object.keys(r).forEach(function(i){var s=r[i];s&&typeof s=="object"&&e.add(s)})});var t=n.loc;return t&&(delete t.startToken,delete t.endToken),n}function Wc(n){var e=hs(n);if(!bt.has(e)){var t=io(n,{experimentalFragmentVariables:It,allowLegacyFragmentVariables:It});if(!t||t.kind!=="Document")throw new Error("Not a valid GraphQL document.");bt.set(e,zc(Qc(t)))}return bt.get(e)}function tt(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];typeof n=="string"&&(n=[n]);var r=n[0];return e.forEach(function(i,s){i&&i.kind==="Document"?r+=i.loc.source.body:r+=i,r+=n[s+1]}),Wc(r)}function $c(){bt.clear(),In.clear()}function Gc(){fs=!1}function Yc(){It=!0}function Hc(){It=!1}var Ve={gql:tt,resetCaches:$c,disableFragmentWarnings:Gc,enableExperimentalFragmentVariables:Yc,disableExperimentalFragmentVariables:Hc};(function(n){n.gql=Ve.gql,n.resetCaches=Ve.resetCaches,n.disableFragmentWarnings=Ve.disableFragmentWarnings,n.enableExperimentalFragmentVariables=Ve.enableExperimentalFragmentVariables,n.disableExperimentalFragmentVariables=Ve.disableExperimentalFragmentVariables})(tt||(tt={}));tt.default=tt;function ds(n,e){const t=N.useRef(void 0);return(!t.current||!_(t.current.deps,e))&&(t.current={value:n(),deps:e}),t.current.value}let sn;function Jc(){}function Kc(){return sn||(sn=N.createContext(null)),N.useCallback(()=>{const n=console.error;try{return console.error=Jc,N.useContext(sn),!0}catch{return!1}finally{console.error=n}},[])}const Xc=Symbol.for("apollo.skipToken"),Zc=Symbol.for("apollo.hook.wrappers");function eu(n,e,t){const r=[t.queryManager,n.startsWith("use")?N.useContext(Nn()):void 0];let i=e;for(const s of r){const o=s?.[Zc]?.[n];o&&(i=o(i))}return i}const ps=Ri?N.useLayoutEffect:N.useEffect,tu="useSyncExternalStore",nu=ei[tu],ru=G(()=>navigator.product)=="ReactNative",iu=G(()=>navigator.userAgent.indexOf("jsdom")>=0)||!1,su=(Ri||ru)&&!iu,ys=nu||((n,e,t)=>{const r=e(),[{inst:i},s]=N.useState({inst:{value:r,getSnapshot:e}});return su?N.useLayoutEffect(()=>{Object.assign(i,{value:r,getSnapshot:e}),on(i)&&s({inst:i})},[n,r,e]):Object.assign(i,{value:r,getSnapshot:e}),N.useEffect(()=>(on(i)&&s({inst:i}),n(function(){on(i)&&s({inst:i})})),[n]),r});function on({value:n,getSnapshot:e}){try{return n!==e()}catch{return!0}}const ou=["refetch","fetchMore","updateQuery","startPolling","stopPolling","subscribeToMore"];function Du(n,e){const t=Ct(e?.client),r=N.useRef(void 0),i=N.useRef(void 0),s=ds(()=>e,[e]),o=Kc();function a(){return t.watchQuery({...e,query:n,initialFetchPolicy:e?.fetchPolicy,fetchPolicy:"standby",[Qn]:!0})}const[c,u]=N.useState(t),[l,f]=N.useState(a);c!==t&&(u(t),f(a()));const h=N.useCallback((k,O)=>{const T=i.current?.data;T&&!_(T,k.data)&&(r.current=T),i.current=k,O()},[]),d=ys(N.useCallback(k=>{const O=l.subscribe(T=>{_(i.current,T)||h(T,k)});return()=>{O.unsubscribe()}},[l,h]),()=>i.current||Kr,()=>Kr),y=N.useMemo(()=>{const k={};for(const O of ou)k[O]=function(...T){return C(i.current,29,O),l[O](...T)};return k},[l]);N.useEffect(()=>{const k={query:n,errorPolicy:s?.errorPolicy,refetchWritePolicy:s?.refetchWritePolicy,returnPartialData:s?.returnPartialData,notifyOnNetworkStatusChange:s?.notifyOnNetworkStatusChange,nextFetchPolicy:e?.nextFetchPolicy,skipPollAttempt:e?.skipPollAttempt};l.options.fetchPolicy!=="standby"&&s?.fetchPolicy&&(k.fetchPolicy=s.fetchPolicy),l.applyOptions(k)},[n,l,s,e?.nextFetchPolicy,e?.skipPollAttempt]);const g=N.useCallback((...k)=>{C(!o(),30);const[O]=k;let T=l.options.fetchPolicy;return T==="standby"&&(T=l.options.initialFetchPolicy),l.reobserve({fetchPolicy:T,variables:O?.variables,context:O?.context??{}})},[l,o]),m=N.useRef(g);ps(()=>{m.current=g});const v=N.useCallback((...k)=>m.current(...k),[]),E=N.useMemo(()=>{const{partial:k,...O}=d;return{...y,...O,client:t,previousData:r.current,variables:l.variables,observable:l,called:!!i.current}},[t,d,y,l]);return[v,E]}const Kr={data:void 0,dataState:"empty",loading:!1,networkStatus:I.ready,partial:!0};function Au(n,e){const t=Ct(e?.client),[r,i]=N.useState(()=>Xr(t)),s=N.useRef({result:r,mutationId:0,isMounted:!0,client:t,mutation:n,options:e});ps(()=>{Object.assign(s.current,{client:t,options:e,mutation:n})});const o=N.useCallback((c={})=>{const{options:u,mutation:l}=s.current,f={...u,mutation:l},h=c.client||s.current.client;!s.current.result.loading&&s.current.isMounted&&i(s.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:h});const d=++s.current.mutationId,y=we(f,c);return ji(h.mutate(y).then(g=>{const{data:m,error:v}=g,E=c.onError||s.current.options?.onError;if(v&&E&&E(v,y),d===s.current.mutationId){const O={called:!0,loading:!1,data:m,error:v,client:h};s.current.isMounted&&!_(s.current.result,O)&&i(s.current.result=O)}const k=c.onCompleted||s.current.options?.onCompleted;return v||k?.(g.data,y),g},g=>{if(d===s.current.mutationId&&s.current.isMounted){const v={loading:!1,error:g,data:void 0,called:!0,client:h};_(s.current.result,v)||i(s.current.result=v)}const m=c.onError||s.current.options?.onError;throw m&&m(g,y),g}))},[]),a=N.useCallback(()=>{if(s.current.isMounted){const c=Xr(s.current.client);Object.assign(s.current,{mutationId:0,result:c}),i(c)}},[]);return N.useEffect(()=>{const c=s.current;return c.isMounted=!0,()=>{c.isMounted=!1}},[]),[o,{reset:a,...r}]}function Xr(n){return{data:void 0,error:void 0,called:!1,loading:!1,client:n}}const qe=Symbol();function ms(n,...[e]){"use no memo";return eu("useQuery",au,Ct(typeof e=="object"?e.client:void 0))(n,e)}function au(n,e={}){const t=Ct(typeof e=="object"?e.client:void 0),{ssr:r}=typeof e=="object"?e:{},i=cu(n,e,t.defaultOptions.watchQuery);function s(d){const y=t.watchQuery(i);return{client:t,query:n,observable:y,resultData:{current:y.getCurrentResult(),previousData:d?.resultData.current.data,variables:y.variables}}}let[o,a]=N.useState(s);(t!==o.client||n!==o.query)&&a(o=s(o));const{observable:c,resultData:u}=o;uu(i,c),fu(u,c,i);const l=lu(c,u,r),f=N.useMemo(()=>({refetch:c.refetch.bind(c),fetchMore:c.fetchMore.bind(c),updateQuery:c.updateQuery.bind(c),startPolling:c.startPolling.bind(c),stopPolling:c.stopPolling.bind(c),subscribeToMore:c.subscribeToMore.bind(c)}),[c]),h=u.previousData;return N.useMemo(()=>{const{partial:d,...y}=l;return{...y,client:t,observable:c,variables:c.variables,previousData:h,...f}},[l,t,c,h,f])}const bs=Symbol();function cu(n,e,t){return ds(()=>{if(e===Xc){const i={...we(t,{query:n,fetchPolicy:"standby"}),[Qn]:!0};return i[bs]=!0,i}const r=we(t,{...e,query:n});return e.skip&&(r.initialFetchPolicy=e.initialFetchPolicy||e.fetchPolicy,r.fetchPolicy="standby"),r},[n,e,t])}function uu(n,e){"use no memo";n.fetchPolicy||(n.fetchPolicy=e.options.initialFetchPolicy)}function lu(n,e,t){"use no memo";return ys(N.useCallback(r=>{const i=n.pipe(jn(Vo)).subscribe(s=>{const o=e.current;_(o,s)&&_(e.variables,n.variables)||(e.variables=n.variables,o.data&&!_(o.data,s.data)&&(e.previousData=o.data),e.current=s,r())});return()=>{setTimeout(()=>i.unsubscribe())}},[n,e]),()=>e.current,()=>t===!1?ms.ssrDisabledResult:e.current)}function fu(n,e,t){"use no memo";if(e[qe]&&!_(e[qe],t)){e[qe][bs]&&!t.initialFetchPolicy&&(t.initialFetchPolicy=t.fetchPolicy),hu(e[qe],t)?e.reobserve(t):e.applyOptions(t);const r=e.getCurrentResult();_(r.data,n.current.data)||(n.previousData=n.current.data||n.previousData),n.current=r,n.variables=e.variables}e[qe]=t}function hu(n,e){return n.query!==e.query||!_(n.variables,e.variables)||n.fetchPolicy!==e.fetchPolicy&&(e.fetchPolicy==="standby"||n.fetchPolicy==="standby")}ms.ssrDisabledResult={loading:!0,data:void 0,dataState:"empty",error:void 0,networkStatus:I.loading,partial:!0};class du{constructor({batchDebounce:e,batchInterval:t,batchMax:r,batchHandler:i,batchKey:s}){p(this,"batchesByKey",new Map);p(this,"scheduledBatchTimerByKey",new Map);p(this,"batchDebounce");p(this,"batchInterval");p(this,"batchMax");p(this,"batchHandler");p(this,"batchKey");this.batchDebounce=e,this.batchInterval=t,this.batchMax=r||0,this.batchHandler=i,this.batchKey=s||(()=>"")}enqueueRequest(e){const t={...e,next:[],error:[],complete:[],subscribers:new Set},r=this.batchKey(e.operation);return t.observable||(t.observable=new A(i=>{let s=this.batchesByKey.get(r);s||this.batchesByKey.set(r,s=new Set);const o=s.size===0,a=t.subscribers.size===0;return t.subscribers.add(i),a&&s.add(t),i.next&&t.next.push(i.next.bind(i)),i.error&&t.error.push(i.error.bind(i)),i.complete&&t.complete.push(i.complete.bind(i)),(o||this.batchDebounce)&&this.scheduleQueueConsumption(r),s.size===this.batchMax&&this.consumeQueue(r),()=>{t.subscribers.delete(i)&&t.subscribers.size<1&&s.delete(t)&&s.size<1&&(this.consumeQueue(r),s.subscription?.unsubscribe())}})),t.observable}consumeQueue(e=""){const t=this.batchesByKey.get(e);if(this.batchesByKey.delete(e),!t||!t.size)return;const r=[],i=[],s=[],o=[],a=[],c=[];t.forEach(f=>{r.push(f.operation),i.push(f.forward),s.push(f.observable),o.push(f.next),a.push(f.error),c.push(f.complete)});const u=this.batchHandler(r,i),l=f=>{a.forEach(h=>{h&&h.forEach(d=>d(f))})};return t.subscription=u.subscribe({next:f=>{if(Array.isArray(f)||(f=[f]),o.length!==f.length){const h=new Error(`server returned results with length ${f.length}, expected length of ${o.length}`);return h.result=f,l(h)}f.forEach((h,d)=>{o[d]&&o[d].forEach(y=>y(h))})},error:l,complete:()=>{c.forEach(f=>{f&&f.forEach(h=>h())})}}),s}scheduleQueueConsumption(e){clearTimeout(this.scheduledBatchTimerByKey.get(e)),this.scheduledBatchTimerByKey.set(e,setTimeout(()=>{this.consumeQueue(e),this.scheduledBatchTimerByKey.delete(e)},this.batchInterval))}}class pu extends j{constructor(t){super();p(this,"batcher");const{batchDebounce:r,batchInterval:i=10,batchMax:s=0,batchHandler:o=()=>Ke,batchKey:a=()=>""}=t||{};this.batcher=new du({batchDebounce:r,batchInterval:i,batchMax:s,batchHandler:o,batchKey:a})}request(t,r){return this.batcher.enqueueRequest({operation:t,forward:r})}}const yu=G(()=>fetch);class mu extends j{constructor(t={}){super();p(this,"batchDebounce");p(this,"batchInterval");p(this,"batchMax");p(this,"batcher");let{uri:r="/graphql",fetch:i,print:s=jc,includeExtensions:o,preserveHeaderCase:a,batchInterval:c,batchDebounce:u,batchMax:l,batchKey:f,includeUnusedVariables:h=!1,...d}=t;const y={http:Q({includeExtensions:o,preserveHeaderCase:a}),options:d.fetchOptions,credentials:d.credentials,headers:d.headers};this.batchDebounce=u,this.batchInterval=c||10,this.batchMax=l||10;const g=m=>{const v=Jr(m[0],r),E=m[0].getContext(),k={http:E.http,options:E.fetchOptions,credentials:E.credentials,headers:E.headers},O=m.map(H=>{const Me=Vc(H,s,Lc,y,k);return Me.body.variables&&!h&&(Me.body.variables=Wa(Me.body.variables,H.query)),Me}),T=O.map(({body:H})=>H),q=O[0].options;if(q.method==="GET")return Et(()=>new Error("apollo-link-batch-http does not support GET requests"));try{q.body=JSON.stringify(T)}catch(H){return Et(()=>H)}let B;return!q.signal&&typeof AbortController<"u"&&(B=new AbortController,q.signal=B.signal),new A(H=>((i||G(()=>fetch)||yu)(v,q).then(ue=>(m.forEach(vs=>vs.setContext({response:ue})),ue)).then(Fc(m)).then(ue=>(B=void 0,H.next(ue),H.complete(),ue)).catch(ue=>{B=void 0,H.error(ue)}),()=>{B&&B.abort()}))};f=f||(m=>{const v=m.getContext(),E={http:v.http,options:v.fetchOptions,credentials:v.credentials,headers:v.headers};return Jr(m,r)+JSON.stringify(E)}),this.batcher=new pu({batchDebounce:this.batchDebounce,batchInterval:this.batchInterval,batchMax:this.batchMax,batchKey:f,batchHandler:g})}request(t,r){return this.batcher.request(t,r)}}class Fu extends j{constructor(e={}){const{left:t,right:r,request:i}=j.from([new Bc(e),new mu(e)]);super(i),Object.assign(this,{left:t,right:r})}}function Ru(n){return new bu((e,t)=>n(t,e))}class bu extends j{constructor(e){super((t,r)=>{const{...i}=t;return Object.defineProperty(i,"client",{enumerable:!1,value:t.client}),new A(s=>{let o=!1;return Promise.resolve(i).then(a=>e(t.getContext(),a)).then(t.setContext).then(()=>{o||r(t).subscribe(s)}).catch(s.error.bind(s)),()=>{o=!0}})})}}function Pu(n){return new vu(n)}class vu extends j{constructor(e){super((t,r)=>new A(i=>{let s,o,a;try{s=r(t).subscribe({next:c=>{const u=t.client.queryManager.incrementalHandler,l=u.isIncrementalResult(c)?u.extractErrors(c):c.errors;l?a=e({error:new ne(c,l),result:c,operation:t,forward:r}):Xn(c)&&(a=e({error:c.extensions[et],result:c,operation:t,forward:r})),o=a?.subscribe(i),o||i.next(c)},error:c=>{a=e({operation:t,error:Tt(c),forward:r}),o=a?.subscribe(i),o||i.error(c)},complete:()=>{a||i.complete()}})}catch(c){e({error:Tt(c),operation:t,forward:r}),i.error(c)}return()=>{s&&s.unsubscribe(),o&&o.unsubscribe()}}))}}function gu(n){const{initial:e=300,jitter:t=!0,max:r=1/0}=n||{},i=t?e:e/2;return function(o){let a=Math.min(r,i*2**o);return t&&(a=Math.random()*a),a}}function Eu(n){const{retryIf:e,max:t=5}=n||{};return function(i,s,o){return i>=t?!1:e?e(o,s):!!o}}class Su{constructor(e,t,r,i,s){p(this,"observer");p(this,"operation");p(this,"forward");p(this,"delayFor");p(this,"retryIf");p(this,"retryCount",0);p(this,"currentSubscription",null);p(this,"timerId");p(this,"onError",async(e,t)=>{this.retryCount+=1;const r=Tt(e);if(await this.retryIf(this.retryCount,this.operation,r)){this.scheduleRetry(this.delayFor(this.retryCount,this.operation,r));return}t()});this.observer=e,this.operation=t,this.forward=r,this.delayFor=i,this.retryIf=s,this.try()}cancel(){this.currentSubscription&&this.currentSubscription.unsubscribe(),clearTimeout(this.timerId),this.timerId=void 0,this.currentSubscription=null}try(){this.currentSubscription=this.forward(this.operation).subscribe({next:e=>{if(Xn(e)){this.onError(e.extensions[et],()=>this.observer.next(e)),this.currentSubscription?.unsubscribe();return}this.observer.next(e)},error:e=>this.onError(e,()=>this.observer.error(e)),complete:this.observer.complete.bind(this.observer)})}scheduleRetry(e){if(this.timerId)throw new Error("RetryLink BUG! Encountered overlapping retries");this.timerId=setTimeout(()=>{this.timerId=void 0,this.try()},e)}}class Mu extends j{constructor(t){super();p(this,"delayFor");p(this,"retryIf");const{attempts:r,delay:i}=t||{};this.delayFor=typeof i=="function"?i:gu(i),this.retryIf=typeof r=="function"?r:Eu(r)}request(t,r){return new A(i=>{const s=new Su(i,t,r,this.delayFor,this.retryIf);return()=>{s.cancel()}})}}export{_u as A,Fu as B,Nu as I,Mu as R,Ou as a,Du as b,Au as c,Tu as f,tt as g,Pu as o,Ru as s,ms as u};
