<svg viewBox="0 0 400 600" xmlns="http://www.w3.org/2000/svg">
  <!--
    Exercise: Barbell Row (Bent Over) - Top Position
    View: Side
    Primary Muscles: Latissimus Dorsi (90%), Rhomboids (80%), Rear Deltoid (70%), Biceps (65%)
  -->
  <defs>
    <linearGradient id="figureGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#475569"/>
      <stop offset="100%" stop-color="#334155"/>
    </linearGradient>
    <linearGradient id="activationMax" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#EF4444" stop-opacity="0.85"/>
      <stop offset="100%" stop-color="#DC2626" stop-opacity="0.65"/>
    </linearGradient>
    <linearGradient id="activationHigh" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#F97316" stop-opacity="0.75"/>
      <stop offset="100%" stop-color="#EA580C" stop-opacity="0.55"/>
    </linearGradient>
    <linearGradient id="activationMed" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#FB923C" stop-opacity="0.65"/>
      <stop offset="100%" stop-color="#F97316" stop-opacity="0.45"/>
    </linearGradient>
    <linearGradient id="activationLow" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#14B8A6" stop-opacity="0.55"/>
      <stop offset="100%" stop-color="#0D9488" stop-opacity="0.35"/>
    </linearGradient>
    <filter id="muscleGlow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="4" result="blur"/>
      <feMerge>
        <feMergeNode in="blur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    <filter id="softShadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="#000" flood-opacity="0.3"/>
    </filter>
  </defs>

  <!-- MUSCLE ACTIVATION LAYER -->
  <g id="muscles" opacity="0.85">
    <!-- Latissimus Dorsi - PRIMARY (90%) -->
    <path id="muscle-lats" data-muscle="latissimus-dorsi" data-activation="90"
      d="M 225 220 Q 255 215 270 250 Q 280 300 265 350 Q 240 365 220 340 Q 205 290 225 220"
      fill="url(#activationMax)" filter="url(#muscleGlow)">
      <animate attributeName="opacity" values="0.8;0.95;0.8" dur="2s" repeatCount="indefinite"/>
    </path>

    <!-- Rhomboids - PRIMARY (80%) -->
    <path id="muscle-rhomboids" data-muscle="rhomboids" data-activation="80"
      d="M 230 200 Q 250 195 260 215 Q 265 250 255 275 Q 240 280 230 265 Q 225 235 230 200"
      fill="url(#activationHigh)" filter="url(#muscleGlow)">
      <animate attributeName="opacity" values="0.7;0.88;0.7" dur="2s" repeatCount="indefinite" begin="0.2s"/>
    </path>

    <!-- Rear Deltoid - SECONDARY (70%) -->
    <ellipse id="muscle-rear-delt" data-muscle="posterior-deltoid" data-activation="70"
      cx="210" cy="195" rx="18" ry="15"
      fill="url(#activationHigh)" filter="url(#muscleGlow)"/>

    <!-- Biceps - SECONDARY (65%) -->
    <ellipse id="muscle-biceps" data-muscle="biceps" data-activation="65"
      cx="145" cy="255" rx="14" ry="30"
      fill="url(#activationMed)" filter="url(#muscleGlow)" transform="rotate(45 145 255)">
      <animate attributeName="opacity" values="0.6;0.75;0.6" dur="2s" repeatCount="indefinite" begin="0.3s"/>
    </ellipse>

    <!-- Trapezius Middle - SECONDARY (60%) -->
    <path id="muscle-traps-mid" data-muscle="trapezius-middle" data-activation="60"
      d="M 235 185 Q 255 180 265 195 Q 268 215 258 230 Q 242 235 235 220 Q 232 200 235 185"
      fill="url(#activationMed)" filter="url(#muscleGlow)"/>

    <!-- Erector Spinae - STABILIZER (55%) -->
    <path id="muscle-erector" data-muscle="erector-spinae" data-activation="55"
      d="M 265 260 Q 275 265 278 300 Q 280 350 275 390 Q 268 400 262 395 Q 258 345 265 260"
      fill="url(#activationLow)" filter="url(#muscleGlow)"/>

    <!-- Forearm Flexors (grip) -->
    <ellipse id="muscle-forearm" data-muscle="forearm-flexors" data-activation="50"
      cx="125" cy="305" rx="10" ry="28"
      fill="url(#activationLow)" filter="url(#muscleGlow)" transform="rotate(60 125 305)"/>

    <!-- Core (stabilization) -->
    <path id="muscle-core" data-muscle="rectus-abdominis" data-activation="40"
      d="M 200 290 Q 215 285 225 300 Q 230 340 225 375 Q 210 385 200 380 Q 195 345 200 290"
      fill="url(#activationLow)" filter="url(#muscleGlow)" opacity="0.5"/>

    <!-- Hamstrings (isometric) -->
    <path id="muscle-hamstrings" data-muscle="hamstrings" data-activation="45"
      d="M 280 420 Q 300 415 310 445 Q 315 490 305 530 Q 285 540 275 520 Q 270 475 280 420"
      fill="url(#activationLow)" filter="url(#muscleGlow)" opacity="0.5"/>
  </g>

  <!-- FIGURE LAYER - Side View Bent Over Row -->
  <g id="figure" fill="url(#figureGrad)" stroke="#64748B" stroke-width="1.5" filter="url(#softShadow)">
    <!-- Head (looking down/forward) -->
    <ellipse cx="155" cy="175" rx="32" ry="35" transform="rotate(30 155 175)"/>

    <!-- Neck -->
    <path d="M 175 195 Q 190 200 200 215 L 215 230 Q 200 240 185 225 Z"/>

    <!-- Upper Back/Shoulders (bent position) -->
    <path d="M 200 210 Q 235 200 255 220 Q 275 245 270 280 L 225 295 Q 210 265 200 210"/>

    <!-- Shoulder -->
    <ellipse cx="205" cy="220" rx="22" ry="18" transform="rotate(-20 205 220)"/>

    <!-- Upper Arm (pulled back) -->
    <ellipse cx="175" cy="245" rx="16" ry="38" transform="rotate(50 175 245)"/>

    <!-- Forearm (holding bar) -->
    <ellipse cx="135" cy="295" rx="13" ry="35" transform="rotate(55 135 295)"/>

    <!-- Hand (gripping bar) -->
    <ellipse cx="110" cy="325" rx="14" ry="10" transform="rotate(55 110 325)"/>

    <!-- Torso (bent forward ~45 degrees) -->
    <path d="M 225 280 Q 210 290 215 320 Q 230 370 255 410 Q 275 420 290 410 Q 305 380 295 340 Q 280 295 270 280 Q 250 275 225 280"/>

    <!-- Lower Back -->
    <path d="M 270 310 Q 290 305 305 340 Q 315 390 305 430 L 280 440 Q 275 400 280 350 Q 275 320 270 310"/>

    <!-- Pelvis/Hip -->
    <path d="M 280 410 Q 310 400 330 430 Q 345 470 330 510 Q 300 525 275 510 Q 265 475 280 410"/>

    <!-- Thigh (slight bend) -->
    <path d="M 290 480 Q 270 490 265 530 Q 262 575 275 620 Q 300 635 330 625 Q 355 590 358 545 Q 360 505 345 480 Q 320 470 290 480"/>

    <!-- Knee -->
    <ellipse cx="305" cy="625" rx="22" ry="18"/>

    <!-- Lower Leg -->
    <path d="M 285 635 Q 275 650 280 700 Q 288 750 295 780 Q 315 790 340 785 Q 360 755 365 705 Q 368 660 355 640 Q 325 630 285 635"/>

    <!-- Foot -->
    <path d="M 280 780 Q 260 785 250 800 Q 248 820 270 830 Q 320 835 360 825 Q 375 810 365 790 Q 350 785 280 780"/>
  </g>

  <!-- BARBELL -->
  <g id="equipment" filter="url(#softShadow)">
    <!-- Bar -->
    <rect x="55" y="318" width="120" height="8" fill="#71717A" rx="4" transform="rotate(55 115 322)"/>

    <!-- Plates (near side) -->
    <rect x="35" y="295" width="20" height="30" fill="#3F3F46" rx="3" transform="rotate(55 45 310)"/>
    <rect x="20" y="285" width="18" height="25" fill="#52525B" rx="3" transform="rotate(55 29 297)"/>

    <!-- Grip texture -->
    <line x1="85" y1="340" x2="95" y2="330" stroke="#94A3B8" stroke-width="1" opacity="0.4"/>
    <line x1="100" y1="350" x2="110" y2="340" stroke="#94A3B8" stroke-width="1" opacity="0.4"/>
  </g>

  <!-- JOINT MARKERS -->
  <g id="joints" fill="#94A3B8" opacity="0.5">
    <circle cx="185" cy="210" r="4"/> <!-- Neck -->
    <circle cx="205" cy="220" r="4"/> <!-- Shoulder -->
    <circle cx="155" cy="270" r="3"/> <!-- Elbow -->
    <circle cx="110" cy="325" r="3"/> <!-- Wrist -->
    <circle cx="295" cy="450" r="4"/> <!-- Hip -->
    <circle cx="305" cy="625" r="4"/> <!-- Knee -->
    <circle cx="300" cy="780" r="4"/> <!-- Ankle -->
  </g>

  <!-- MOVEMENT DIRECTION INDICATOR -->
  <g id="movement-indicator" opacity="0.6">
    <path d="M 70 250 L 100 220 L 90 235 Z" fill="#14B8A6"/>
    <path d="M 105 215 L 135 185 L 125 200 Z" fill="#14B8A6" opacity="0.4"/>
    <text x="50" y="265" fill="#14B8A6" font-family="Inter, sans-serif" font-size="10">PULL</text>
  </g>

  <!-- BACK ANGLE INDICATOR -->
  <g id="angle-indicator" opacity="0.3">
    <line x1="180" y1="185" x2="300" y2="435" stroke="#14B8A6" stroke-width="1" stroke-dasharray="6,4"/>
    <text x="320" y="320" fill="#14B8A6" font-family="Inter, sans-serif" font-size="9">~45Â°</text>
  </g>
</svg>
