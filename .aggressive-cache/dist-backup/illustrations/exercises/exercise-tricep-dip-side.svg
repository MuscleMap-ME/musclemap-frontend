<svg viewBox="0 0 400 600" xmlns="http://www.w3.org/2000/svg">
  <!--
    Exercise: Tricep Dip (Parallel Bars) - Bottom Position
    View: Side
    Primary Muscles: Triceps (90%), Anterior Deltoid (70%), Pectoralis Major (65%), Core (40%)
  -->
  <defs>
    <linearGradient id="figureGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#475569"/>
      <stop offset="100%" stop-color="#334155"/>
    </linearGradient>
    <linearGradient id="activationMax" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#EF4444" stop-opacity="0.85"/>
      <stop offset="100%" stop-color="#DC2626" stop-opacity="0.65"/>
    </linearGradient>
    <linearGradient id="activationHigh" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#F97316" stop-opacity="0.75"/>
      <stop offset="100%" stop-color="#EA580C" stop-opacity="0.55"/>
    </linearGradient>
    <linearGradient id="activationMed" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#FB923C" stop-opacity="0.65"/>
      <stop offset="100%" stop-color="#F97316" stop-opacity="0.45"/>
    </linearGradient>
    <linearGradient id="activationLow" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#14B8A6" stop-opacity="0.55"/>
      <stop offset="100%" stop-color="#0D9488" stop-opacity="0.35"/>
    </linearGradient>
    <filter id="muscleGlow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="4" result="blur"/>
      <feMerge>
        <feMergeNode in="blur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    <filter id="softShadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="#000" flood-opacity="0.3"/>
    </filter>
  </defs>

  <!-- PARALLEL BARS (Equipment) -->
  <g id="equipment" fill="#3F3F46" stroke="#52525B" stroke-width="2">
    <!-- Near bar (visible side) -->
    <rect x="130" y="210" width="140" height="12" rx="6"/>

    <!-- Bar supports -->
    <rect x="135" y="222" width="12" height="180" rx="3"/>
    <rect x="253" y="222" width="12" height="180" rx="3"/>

    <!-- Base -->
    <rect x="120" y="395" width="160" height="15" rx="4"/>

    <!-- Cross support -->
    <rect x="145" y="350" width="110" height="8" rx="2"/>

    <!-- Grip texture on bar -->
    <g stroke="#71717A" stroke-width="1" opacity="0.4">
      <line x1="160" y1="212" x2="160" y2="220"/>
      <line x1="180" y1="212" x2="180" y2="220"/>
      <line x1="200" y1="212" x2="200" y2="220"/>
      <line x1="220" y1="212" x2="220" y2="220"/>
      <line x1="240" y1="212" x2="240" y2="220"/>
    </g>
  </g>

  <!-- MUSCLE ACTIVATION LAYER -->
  <g id="muscles" opacity="0.85">
    <!-- Triceps - PRIMARY (90%) -->
    <ellipse id="muscle-triceps" data-muscle="triceps" data-activation="90"
      cx="220" cy="195" rx="18" ry="40"
      fill="url(#activationMax)" filter="url(#muscleGlow)" transform="rotate(-20 220 195)">
      <animate attributeName="opacity" values="0.8;0.95;0.8" dur="2s" repeatCount="indefinite"/>
    </ellipse>

    <!-- Anterior Deltoid - SECONDARY (70%) -->
    <ellipse id="muscle-front-delt" data-muscle="anterior-deltoid" data-activation="70"
      cx="175" cy="170" rx="18" ry="22"
      fill="url(#activationHigh)" filter="url(#muscleGlow)">
      <animate attributeName="opacity" values="0.65;0.82;0.65" dur="2s" repeatCount="indefinite" begin="0.2s"/>
    </ellipse>

    <!-- Pectoralis Major - SECONDARY (65%) -->
    <path id="muscle-chest" data-muscle="pectoralis-major" data-activation="65"
      d="M 175 185 Q 195 178 208 195 Q 215 230 200 255 Q 178 262 168 245 Q 160 218 175 185"
      fill="url(#activationMed)" filter="url(#muscleGlow)">
      <animate attributeName="opacity" values="0.6;0.75;0.6" dur="2s" repeatCount="indefinite" begin="0.3s"/>
    </path>

    <!-- Serratus Anterior -->
    <path id="muscle-serratus" data-muscle="serratus-anterior" data-activation="45"
      d="M 190 255 Q 200 250 210 260 Q 212 290 205 315 Q 192 320 188 295 Z"
      fill="url(#activationLow)" filter="url(#muscleGlow)" opacity="0.6"/>

    <!-- Core (stabilization) -->
    <path id="muscle-core" data-muscle="rectus-abdominis" data-activation="40"
      d="M 200 290 Q 218 285 225 305 Q 230 355 222 400 Q 205 410 195 400 Q 188 355 200 290"
      fill="url(#activationLow)" filter="url(#muscleGlow)" opacity="0.5"/>

    <!-- Rhomboids (scapular retraction) -->
    <path id="muscle-rhomboids" data-muscle="rhomboids" data-activation="35"
      d="M 220 175 Q 240 170 250 190 Q 252 220 242 245 Q 225 250 220 230 Q 215 200 220 175"
      fill="url(#activationLow)" filter="url(#muscleGlow)" opacity="0.4"/>
  </g>

  <!-- FIGURE LAYER - Side View Tricep Dip (Bottom Position) -->
  <g id="figure" fill="url(#figureGrad)" stroke="#64748B" stroke-width="1.5" filter="url(#softShadow)">
    <!-- Head -->
    <ellipse cx="195" cy="95" rx="30" ry="35"/>

    <!-- Neck -->
    <path d="M 185 125 Q 180 135 185 150 L 215 150 Q 220 135 215 125 Q 205 128 195 128 Q 188 128 185 125"/>

    <!-- Shoulder -->
    <ellipse cx="180" cy="175" rx="25" ry="22"/>

    <!-- Upper Arm (bent ~90 degrees, elbow back) -->
    <ellipse cx="210" cy="185" rx="18" ry="42" transform="rotate(-25 210 185)"/>

    <!-- Forearm (vertical, on bar) -->
    <ellipse cx="200" cy="195" rx="14" ry="35" transform="rotate(5 200 195)"/>

    <!-- Hand (gripping bar) -->
    <ellipse cx="200" cy="215" rx="15" ry="12"/>

    <!-- Torso -->
    <path d="M 180 190 Q 165 200 170 235 Q 185 310 210 380 Q 230 395 245 380 Q 265 330 260 270 Q 255 220 240 195 Q 210 180 180 190"/>

    <!-- Upper Back -->
    <path d="M 220 185 Q 250 190 260 230 Q 268 290 255 350 Q 240 380 230 385 L 220 380 Q 235 340 240 280 Q 245 230 220 185"/>

    <!-- Pelvis -->
    <path d="M 220 375 Q 250 365 265 395 Q 275 435 260 470 Q 235 485 215 475 Q 200 445 220 375"/>

    <!-- Thigh (hanging, slight bend) -->
    <path d="M 230 450 Q 210 460 200 500 Q 195 550 210 595 Q 240 610 270 595 Q 290 555 285 505 Q 280 465 260 450 Q 245 445 230 450"/>

    <!-- Lower Leg (hanging) -->
    <path d="M 220 585 Q 200 600 195 650 Q 192 700 210 745 Q 235 760 260 750 Q 280 710 278 655 Q 275 610 255 590 Q 240 582 220 585"/>

    <!-- Feet (pointed down) -->
    <path d="M 225 745 Q 210 755 205 780 Q 208 800 230 810 Q 260 805 270 785 Q 268 760 250 750 Q 238 745 225 745"/>
  </g>

  <!-- JOINT MARKERS -->
  <g id="joints" fill="#94A3B8" opacity="0.5">
    <circle cx="195" cy="140" r="4"/> <!-- Neck -->
    <circle cx="180" cy="175" r="4"/> <!-- Shoulder -->
    <circle cx="218" cy="225" r="3"/> <!-- Elbow -->
    <circle cx="200" cy="215" r="3"/> <!-- Wrist -->
    <circle cx="235" cy="430" r="4"/> <!-- Hip -->
    <circle cx="240" cy="590" r="4"/> <!-- Knee -->
    <circle cx="235" cy="745" r="4"/> <!-- Ankle -->
  </g>

  <!-- MOVEMENT DIRECTION INDICATOR -->
  <g id="movement-indicator" opacity="0.6">
    <path d="M 85 140 L 85 100 L 75 120 Z" fill="#14B8A6"/>
    <path d="M 85 85 L 85 45 L 75 65 Z" fill="#14B8A6" opacity="0.4"/>
    <text x="70" y="35" fill="#14B8A6" font-family="Inter, sans-serif" font-size="10">UP</text>
  </g>

  <!-- ELBOW ANGLE INDICATOR -->
  <g id="angle-indicator" opacity="0.4">
    <path d="M 180 175 Q 218 200 200 260" fill="none" stroke="#EF4444" stroke-width="1" stroke-dasharray="4,3"/>
    <text x="225" y="200" fill="#EF4444" font-family="Inter, sans-serif" font-size="9">~90Â°</text>
  </g>

  <!-- DEPTH LINE -->
  <line id="depth-line" x1="150" y1="175" x2="280" y2="175" stroke="#14B8A6" stroke-width="1" stroke-dasharray="6,4" opacity="0.3"/>
</svg>
