<svg viewBox="0 0 400 600" xmlns="http://www.w3.org/2000/svg">
  <!--
    Exercise: Seated Cable Row - Contracted Position
    View: Side
    Primary Muscles: Latissimus Dorsi (88%), Rhomboids (80%), Trapezius Middle (70%), Biceps (60%)
  -->
  <defs>
    <linearGradient id="figureGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#475569"/>
      <stop offset="100%" stop-color="#334155"/>
    </linearGradient>
    <linearGradient id="activationMax" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#EF4444" stop-opacity="0.85"/>
      <stop offset="100%" stop-color="#DC2626" stop-opacity="0.65"/>
    </linearGradient>
    <linearGradient id="activationHigh" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#F97316" stop-opacity="0.75"/>
      <stop offset="100%" stop-color="#EA580C" stop-opacity="0.55"/>
    </linearGradient>
    <linearGradient id="activationMed" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#FB923C" stop-opacity="0.65"/>
      <stop offset="100%" stop-color="#F97316" stop-opacity="0.45"/>
    </linearGradient>
    <linearGradient id="activationLow" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#14B8A6" stop-opacity="0.55"/>
      <stop offset="100%" stop-color="#0D9488" stop-opacity="0.35"/>
    </linearGradient>
    <filter id="muscleGlow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="4" result="blur"/>
      <feMerge>
        <feMergeNode in="blur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    <filter id="softShadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="#000" flood-opacity="0.3"/>
    </filter>
  </defs>

  <!-- CABLE ROW MACHINE -->
  <g id="equipment" fill="#3F3F46" stroke="#52525B" stroke-width="2">
    <!-- Seat platform -->
    <rect x="150" y="380" width="180" height="20" rx="5"/>

    <!-- Seat pad -->
    <rect x="200" y="355" width="100" height="30" rx="5" fill="#52525B"/>

    <!-- Foot plate -->
    <rect x="50" y="340" width="60" height="80" rx="5"/>
    <line x1="70" y1="360" x2="70" y2="400" stroke="#27272A" stroke-width="2"/>
    <line x1="90" y1="360" x2="90" y2="400" stroke="#27272A" stroke-width="2"/>

    <!-- Cable housing/pulley -->
    <rect x="30" y="280" width="40" height="50" rx="4"/>
    <circle cx="50" cy="305" r="12" fill="#52525B" stroke="#71717A"/>
    <circle cx="50" cy="305" r="5" fill="#27272A"/>

    <!-- Cable -->
    <path d="M 62 305 L 175 340" fill="none" stroke="#71717A" stroke-width="4"/>

    <!-- V-bar handle -->
    <path d="M 175 330 L 195 340 L 175 350" fill="none" stroke="#52525B" stroke-width="8" stroke-linecap="round"/>

    <!-- Weight stack (side) -->
    <g transform="translate(30, 120)">
      <rect x="0" y="0" width="20" height="15" fill="#1F1F23"/>
      <rect x="0" y="18" width="20" height="15" fill="#1F1F23"/>
      <rect x="0" y="36" width="20" height="15" fill="#3F3F46"/>
      <rect x="0" y="54" width="20" height="15" fill="#3F3F46"/>
      <rect x="0" y="72" width="20" height="15" fill="#3F3F46"/>
    </g>
  </g>

  <!-- MUSCLE ACTIVATION LAYER -->
  <g id="muscles" opacity="0.85">
    <!-- Latissimus Dorsi - PRIMARY (88%) -->
    <path id="muscle-lats" data-muscle="latissimus-dorsi" data-activation="88"
      d="M 275 230 Q 310 220 330 260 Q 345 320 325 380 Q 285 400 260 370 Q 245 310 275 230"
      fill="url(#activationMax)" filter="url(#muscleGlow)">
      <animate attributeName="opacity" values="0.8;0.95;0.8" dur="2s" repeatCount="indefinite"/>
    </path>

    <!-- Rhomboids - PRIMARY (80%) -->
    <path id="muscle-rhomboids" data-muscle="rhomboids" data-activation="80"
      d="M 280 210 Q 305 200 320 230 Q 330 275 315 315 Q 290 325 278 300 Q 268 255 280 210"
      fill="url(#activationHigh)" filter="url(#muscleGlow)">
      <animate attributeName="opacity" values="0.75;0.9;0.75" dur="2s" repeatCount="indefinite" begin="0.1s"/>
    </path>

    <!-- Trapezius Middle - SECONDARY (70%) -->
    <path id="muscle-traps-mid" data-muscle="trapezius-middle" data-activation="70"
      d="M 275 190 Q 300 182 318 205 Q 328 240 315 270 Q 290 280 278 258 Q 265 225 275 190"
      fill="url(#activationHigh)" filter="url(#muscleGlow)"/>

    <!-- Rear Deltoid -->
    <ellipse id="muscle-rear-delt" data-muscle="posterior-deltoid" data-activation="60"
      cx="268" cy="210" rx="18" ry="22"
      fill="url(#activationMed)" filter="url(#muscleGlow)"/>

    <!-- Biceps - SECONDARY (60%) -->
    <ellipse id="muscle-biceps" data-muscle="biceps" data-activation="60"
      cx="215" cy="270" rx="15" ry="35"
      fill="url(#activationMed)" filter="url(#muscleGlow)" transform="rotate(25 215 270)">
      <animate attributeName="opacity" values="0.55;0.72;0.55" dur="2s" repeatCount="indefinite" begin="0.2s"/>
    </ellipse>

    <!-- Erector Spinae (stabilization) -->
    <path id="muscle-erector" data-muscle="erector-spinae" data-activation="45"
      d="M 310 260 Q 325 255 332 285 Q 338 340 330 395 Q 318 410 310 400 Q 302 350 310 260"
      fill="url(#activationLow)" filter="url(#muscleGlow)" opacity="0.6"/>

    <!-- Forearm Flexors -->
    <ellipse id="muscle-forearm" data-muscle="forearm-flexors" data-activation="50"
      cx="195" cy="320" rx="12" ry="28"
      fill="url(#activationLow)" filter="url(#muscleGlow)" transform="rotate(15 195 320)"/>
  </g>

  <!-- FIGURE LAYER - Side View Seated Cable Row -->
  <g id="figure" fill="url(#figureGrad)" stroke="#64748B" stroke-width="1.5" filter="url(#softShadow)">
    <!-- Head -->
    <ellipse cx="260" cy="145" rx="30" ry="36"/>

    <!-- Neck -->
    <path d="M 250 178 Q 245 188 250 205 L 275 205 Q 280 188 275 178 Q 268 181 260 181 Q 255 181 250 178"/>

    <!-- Shoulder -->
    <ellipse cx="265" cy="230" rx="26" ry="22"/>

    <!-- Upper Arm (pulled back - elbows behind torso) -->
    <ellipse cx="235" cy="265" rx="18" ry="42" transform="rotate(30 235 265)"/>

    <!-- Forearm (angled forward to handle) -->
    <ellipse cx="200" cy="315" rx="14" ry="38" transform="rotate(15 200 315)"/>

    <!-- Hand (gripping V-bar) -->
    <ellipse cx="185" cy="345" rx="14" ry="11"/>

    <!-- Upper Back (contracted, slight lean back) -->
    <path d="M 255 220 Q 290 205 315 235 Q 340 285 330 350 L 275 380 Q 250 330 255 220"/>

    <!-- Torso (upright, chest out) -->
    <path d="M 260 370 Q 295 355 320 385 Q 350 450 340 520 Q 310 555 275 560 Q 240 558 230 525 Q 225 465 260 370"/>

    <!-- Pelvis (on seat) -->
    <path d="M 275 510 Q 315 495 345 530 Q 365 590 345 650 Q 300 680 260 660 Q 230 615 275 510"/>

    <!-- Thigh (extended, slight bend) -->
    <path d="M 240 540 Q 200 555 160 545 Q 115 535 95 510 Q 85 475 105 455 Q 145 445 190 455 Q 235 470 240 510 Q 240 525 240 540"/>

    <!-- Lower Leg -->
    <path d="M 105 455 Q 85 445 70 420 Q 60 390 75 365 Q 95 355 115 368 Q 125 400 115 440 Q 110 450 105 455"/>

    <!-- Foot (on foot plate) -->
    <ellipse cx="85" cy="380" rx="25" ry="18" transform="rotate(-15 85 380)"/>
  </g>

  <!-- JOINT MARKERS -->
  <g id="joints" fill="#94A3B8" opacity="0.5">
    <circle cx="260" cy="195" r="4"/> <!-- Neck -->
    <circle cx="265" cy="230" r="4"/> <!-- Shoulder -->
    <circle cx="220" cy="290" r="3"/> <!-- Elbow -->
    <circle cx="185" cy="345" r="3"/> <!-- Wrist -->
    <circle cx="290" cy="545" r="4"/> <!-- Hip -->
    <circle cx="115" cy="450" r="4"/> <!-- Knee -->
    <circle cx="85" cy="380" r="4"/> <!-- Ankle -->
  </g>

  <!-- MOVEMENT INDICATOR -->
  <g id="movement-indicator" opacity="0.6">
    <path d="M 120 305 L 175 330" fill="none" stroke="#14B8A6" stroke-width="2" stroke-dasharray="6,4">
      <animate attributeName="stroke-dashoffset" values="20;0" dur="1s" repeatCount="indefinite"/>
    </path>
    <path d="M 165 320 L 180 335 L 170 340" fill="none" stroke="#14B8A6" stroke-width="2"/>
    <text x="90" y="295" fill="#14B8A6" font-family="Inter, sans-serif" font-size="10">PULL</text>
  </g>

  <!-- SCAPULAR RETRACTION INDICATOR -->
  <g id="retraction-indicator" opacity="0.4">
    <path d="M 280 280 L 310 280" fill="none" stroke="#EF4444" stroke-width="2">
      <animate attributeName="d" values="M 280 280 L 310 280;M 290 280 L 305 280;M 280 280 L 310 280" dur="2s" repeatCount="indefinite"/>
    </path>
    <text x="315" y="285" fill="#EF4444" font-family="Inter, sans-serif" font-size="8">squeeze</text>
  </g>

  <!-- CONTRACTION INDICATOR -->
  <g id="contraction" opacity="0.5">
    <ellipse cx="295" cy="300" rx="45" ry="65" fill="none" stroke="#EF4444" stroke-width="2" stroke-dasharray="4,3">
      <animate attributeName="rx" values="40;50;40" dur="2s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.7;0.3;0.7" dur="2s" repeatCount="indefinite"/>
    </ellipse>
  </g>

  <!-- CHEST OUT INDICATOR -->
  <g id="posture-indicator" opacity="0.3">
    <line x1="280" y1="280" x2="280" y2="150" stroke="#14B8A6" stroke-width="1" stroke-dasharray="4,3"/>
    <text x="285" y="200" fill="#14B8A6" font-family="Inter, sans-serif" font-size="8">upright</text>
  </g>
</svg>
