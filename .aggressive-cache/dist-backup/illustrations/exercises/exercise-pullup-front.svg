<svg viewBox="0 0 400 600" xmlns="http://www.w3.org/2000/svg">
  <!--
    Exercise: Pull-Up - Top Position
    View: Front
    Primary Muscles: Latissimus Dorsi (95%), Biceps (80%), Rear Deltoid (55%), Rhomboids (60%)
  -->
  <defs>
    <linearGradient id="figureGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#475569"/>
      <stop offset="100%" stop-color="#334155"/>
    </linearGradient>
    <linearGradient id="activationMax" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#EF4444" stop-opacity="0.85"/>
      <stop offset="100%" stop-color="#DC2626" stop-opacity="0.65"/>
    </linearGradient>
    <linearGradient id="activationHigh" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#F97316" stop-opacity="0.75"/>
      <stop offset="100%" stop-color="#EA580C" stop-opacity="0.55"/>
    </linearGradient>
    <linearGradient id="activationMed" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#FB923C" stop-opacity="0.65"/>
      <stop offset="100%" stop-color="#F97316" stop-opacity="0.45"/>
    </linearGradient>
    <linearGradient id="activationLow" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#14B8A6" stop-opacity="0.55"/>
      <stop offset="100%" stop-color="#0D9488" stop-opacity="0.35"/>
    </linearGradient>
    <filter id="muscleGlow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="4" result="blur"/>
      <feMerge>
        <feMergeNode in="blur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    <filter id="softShadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="#000" flood-opacity="0.3"/>
    </filter>
  </defs>

  <!-- PULL-UP BAR -->
  <g id="equipment" filter="url(#softShadow)">
    <!-- Bar -->
    <rect x="60" y="60" width="280" height="8" fill="#52525B" rx="4"/>
    <!-- Bar supports -->
    <rect x="55" y="30" width="12" height="38" fill="#3F3F46"/>
    <rect x="333" y="30" width="12" height="38" fill="#3F3F46"/>
    <!-- Top beam -->
    <rect x="50" y="25" width="300" height="10" fill="#27272A"/>
    <!-- Grip texture on bar -->
    <g stroke="#71717A" stroke-width="1" opacity="0.5">
      <line x1="120" y1="62" x2="120" y2="66"/>
      <line x1="130" y1="62" x2="130" y2="66"/>
      <line x1="140" y1="62" x2="140" y2="66"/>
      <line x1="260" y1="62" x2="260" y2="66"/>
      <line x1="270" y1="62" x2="270" y2="66"/>
      <line x1="280" y1="62" x2="280" y2="66"/>
    </g>
  </g>

  <!-- MUSCLE ACTIVATION LAYER -->
  <g id="muscles" opacity="0.85">
    <!-- Latissimus Dorsi - PRIMARY (95%) - visible from front due to lat spread -->
    <path id="muscle-lats-left" data-muscle="latissimus-dorsi-left" data-activation="95"
      d="M 145 200 Q 125 210 110 250 Q 105 300 120 340 Q 150 350 160 320 Q 165 270 160 220 Q 155 200 145 200"
      fill="url(#activationMax)" filter="url(#muscleGlow)">
      <animate attributeName="opacity" values="0.8;0.95;0.8" dur="2s" repeatCount="indefinite"/>
    </path>
    <path id="muscle-lats-right" data-muscle="latissimus-dorsi-right" data-activation="95"
      d="M 255 200 Q 275 210 290 250 Q 295 300 280 340 Q 250 350 240 320 Q 235 270 240 220 Q 245 200 255 200"
      fill="url(#activationMax)" filter="url(#muscleGlow)">
      <animate attributeName="opacity" values="0.8;0.95;0.8" dur="2s" repeatCount="indefinite" begin="0.1s"/>
    </path>

    <!-- Biceps - SECONDARY (80%) -->
    <ellipse id="muscle-bicep-left" data-muscle="biceps-left" data-activation="80"
      cx="115" cy="155" rx="16" ry="35"
      fill="url(#activationHigh)" filter="url(#muscleGlow)" transform="rotate(-30 115 155)">
      <animate attributeName="opacity" values="0.7;0.88;0.7" dur="2s" repeatCount="indefinite" begin="0.2s"/>
    </ellipse>
    <ellipse id="muscle-bicep-right" data-muscle="biceps-right" data-activation="80"
      cx="285" cy="155" rx="16" ry="35"
      fill="url(#activationHigh)" filter="url(#muscleGlow)" transform="rotate(30 285 155)">
      <animate attributeName="opacity" values="0.7;0.88;0.7" dur="2s" repeatCount="indefinite" begin="0.3s"/>
    </ellipse>

    <!-- Brachialis -->
    <ellipse id="muscle-brachialis-left" data-muscle="brachialis-left" data-activation="65"
      cx="105" cy="165" rx="12" ry="28"
      fill="url(#activationMed)" filter="url(#muscleGlow)" transform="rotate(-30 105 165)"/>
    <ellipse id="muscle-brachialis-right" data-muscle="brachialis-right" data-activation="65"
      cx="295" cy="165" rx="12" ry="28"
      fill="url(#activationMed)" filter="url(#muscleGlow)" transform="rotate(30 295 165)"/>

    <!-- Forearm Flexors (grip) -->
    <ellipse id="muscle-forearm-left" data-muscle="forearm-flexors-left" data-activation="75"
      cx="105" cy="95" rx="10" ry="25"
      fill="url(#activationHigh)" filter="url(#muscleGlow)"/>
    <ellipse id="muscle-forearm-right" data-muscle="forearm-flexors-right" data-activation="75"
      cx="295" cy="95" rx="10" ry="25"
      fill="url(#activationHigh)" filter="url(#muscleGlow)"/>

    <!-- Rhomboids (visible through lat spread) -->
    <path id="muscle-rhomboids" data-muscle="rhomboids" data-activation="60"
      d="M 175 200 Q 200 195 225 200 Q 228 240 200 260 Q 172 240 175 200"
      fill="url(#activationMed)" filter="url(#muscleGlow)"/>

    <!-- Core (stabilization) -->
    <path id="muscle-core" data-muscle="rectus-abdominis" data-activation="45"
      d="M 180 310 Q 200 305 220 310 Q 225 360 220 410 Q 200 415 180 410 Q 175 360 180 310"
      fill="url(#activationLow)" filter="url(#muscleGlow)"/>
  </g>

  <!-- FIGURE LAYER - Front View Pull-Up Top Position -->
  <g id="figure" fill="url(#figureGrad)" stroke="#64748B" stroke-width="1.5" filter="url(#softShadow)">
    <!-- Head (at bar level) -->
    <ellipse cx="200" cy="110" rx="32" ry="38"/>

    <!-- Neck -->
    <rect x="185" y="145" width="30" height="20" rx="8"/>

    <!-- Shoulders (elevated, wide) -->
    <ellipse cx="140" cy="175" rx="25" ry="18"/>
    <ellipse cx="260" cy="175" rx="25" ry="18"/>

    <!-- Upper Arms (angled up, elbows bent ~90 degrees) -->
    <ellipse cx="120" cy="140" rx="16" ry="40" transform="rotate(-40 120 140)"/>
    <ellipse cx="280" cy="140" rx="16" ry="40" transform="rotate(40 280 140)"/>

    <!-- Forearms (vertical, gripping bar) -->
    <ellipse cx="105" cy="90" rx="13" ry="35"/>
    <ellipse cx="295" cy="90" rx="13" ry="35"/>

    <!-- Hands (on bar) -->
    <ellipse cx="120" cy="64" rx="14" ry="10" transform="rotate(-10 120 64)"/>
    <ellipse cx="280" cy="64" rx="14" ry="10" transform="rotate(10 280 64)"/>

    <!-- Torso (wide lat spread visible) -->
    <path d="M 140 190 Q 115 200 110 250 Q 120 320 145 380 Q 180 400 200 400 Q 220 400 255 380 Q 280 320 290 250 Q 285 200 260 190 Q 200 170 140 190"/>

    <!-- Pelvis -->
    <path d="M 160 390 Q 200 410 240 390 Q 248 425 235 450 Q 200 460 165 450 Q 152 425 160 390"/>

    <!-- Legs (hanging straight) -->
    <ellipse cx="178" cy="490" rx="22" ry="50"/>
    <ellipse cx="222" cy="490" rx="22" ry="50"/>

    <!-- Lower Legs -->
    <ellipse cx="176" cy="555" rx="14" ry="42"/>
    <ellipse cx="224" cy="555" rx="14" ry="42"/>
  </g>

  <!-- JOINT MARKERS -->
  <g id="joints" fill="#94A3B8" opacity="0.5">
    <circle cx="200" cy="150" r="4"/> <!-- Neck -->
    <circle cx="140" cy="175" r="4"/> <!-- Left shoulder -->
    <circle cx="260" cy="175" r="4"/> <!-- Right shoulder -->
    <circle cx="105" cy="120" r="3"/> <!-- Left elbow -->
    <circle cx="295" cy="120" r="3"/> <!-- Right elbow -->
    <circle cx="120" cy="64" r="3"/> <!-- Left wrist -->
    <circle cx="280" cy="64" r="3"/> <!-- Right wrist -->
    <circle cx="175" cy="440" r="4"/> <!-- Left hip -->
    <circle cx="225" cy="440" r="4"/> <!-- Right hip -->
  </g>

  <!-- MOVEMENT DIRECTION INDICATOR -->
  <g id="movement-indicator" opacity="0.6">
    <path d="M 350 180 L 350 220 L 340 200 Z" fill="#14B8A6"/>
    <path d="M 350 240 L 350 280 L 340 260 Z" fill="#14B8A6" opacity="0.4"/>
    <text x="355" y="205" fill="#14B8A6" font-family="Inter, sans-serif" font-size="10">DOWN</text>
  </g>
</svg>
