<svg viewBox="0 0 400 600" xmlns="http://www.w3.org/2000/svg">
  <!--
    Exercise: Hanging Leg Raise - Top Position
    View: Front
    Primary Muscles: Rectus Abdominis (90%), Hip Flexors (85%), Obliques (60%)
  -->
  <defs>
    <linearGradient id="figureGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#475569"/>
      <stop offset="100%" stop-color="#334155"/>
    </linearGradient>
    <linearGradient id="activationMax" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#EF4444" stop-opacity="0.85"/>
      <stop offset="100%" stop-color="#DC2626" stop-opacity="0.65"/>
    </linearGradient>
    <linearGradient id="activationHigh" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#F97316" stop-opacity="0.75"/>
      <stop offset="100%" stop-color="#EA580C" stop-opacity="0.55"/>
    </linearGradient>
    <linearGradient id="activationMed" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#FB923C" stop-opacity="0.65"/>
      <stop offset="100%" stop-color="#F97316" stop-opacity="0.45"/>
    </linearGradient>
    <linearGradient id="activationLow" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#14B8A6" stop-opacity="0.55"/>
      <stop offset="100%" stop-color="#0D9488" stop-opacity="0.35"/>
    </linearGradient>
    <filter id="muscleGlow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="4" result="blur"/>
      <feMerge>
        <feMergeNode in="blur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    <filter id="softShadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="#000" flood-opacity="0.3"/>
    </filter>
  </defs>

  <!-- PULL-UP BAR -->
  <g id="equipment" fill="#3F3F46" stroke="#52525B" stroke-width="2">
    <rect x="80" y="60" width="240" height="15" rx="7"/>
    <rect x="70" y="55" width="20" height="25" rx="3"/>
    <rect x="310" y="55" width="20" height="25" rx="3"/>
  </g>

  <!-- MUSCLE ACTIVATION LAYER -->
  <g id="muscles" opacity="0.85">
    <!-- Rectus Abdominis - PRIMARY (90%) -->
    <path id="muscle-abs" data-muscle="rectus-abdominis" data-activation="90"
      d="M 180 280 Q 200 275 220 280 Q 228 325 220 375 Q 200 385 180 375 Q 172 325 180 280"
      fill="url(#activationMax)" filter="url(#muscleGlow)">
      <animate attributeName="opacity" values="0.82;0.95;0.82" dur="2s" repeatCount="indefinite"/>
    </path>

    <!-- Hip Flexors - PRIMARY (85%) -->
    <ellipse id="muscle-hip-flexor-left" data-muscle="hip-flexors-left" data-activation="85"
      cx="175" cy="385" rx="20" ry="28"
      fill="url(#activationMax)" filter="url(#muscleGlow)">
      <animate attributeName="opacity" values="0.78;0.92;0.78" dur="2s" repeatCount="indefinite" begin="0.1s"/>
    </ellipse>
    <ellipse id="muscle-hip-flexor-right" data-muscle="hip-flexors-right" data-activation="85"
      cx="225" cy="385" rx="20" ry="28"
      fill="url(#activationMax)" filter="url(#muscleGlow)">
      <animate attributeName="opacity" values="0.78;0.92;0.78" dur="2s" repeatCount="indefinite" begin="0.2s"/>
    </ellipse>

    <!-- External Obliques - SECONDARY (60%) -->
    <path id="muscle-oblique-left" data-muscle="external-obliques-left" data-activation="60"
      d="M 155 295 Q 140 300 135 330 Q 132 370 145 400 Q 162 408 172 385 Q 175 345 165 305 Z"
      fill="url(#activationMed)" filter="url(#muscleGlow)"/>
    <path id="muscle-oblique-right" data-muscle="external-obliques-right" data-activation="60"
      d="M 245 295 Q 260 300 265 330 Q 268 370 255 400 Q 238 408 228 385 Q 225 345 235 305 Z"
      fill="url(#activationMed)" filter="url(#muscleGlow)"/>

    <!-- Quadriceps (holding legs up) -->
    <ellipse id="muscle-quad-left" data-muscle="quadriceps-left" data-activation="50"
      cx="170" cy="455" rx="22" ry="45"
      fill="url(#activationLow)" filter="url(#muscleGlow)" opacity="0.6"/>
    <ellipse id="muscle-quad-right" data-muscle="quadriceps-right" data-activation="50"
      cx="230" cy="455" rx="22" ry="45"
      fill="url(#activationLow)" filter="url(#muscleGlow)" opacity="0.6"/>

    <!-- Forearm Flexors (grip) -->
    <ellipse id="muscle-forearm-left" data-muscle="forearm-left" data-activation="55"
      cx="130" cy="165" rx="12" ry="30"
      fill="url(#activationMed)" filter="url(#muscleGlow)" opacity="0.6"/>
    <ellipse id="muscle-forearm-right" data-muscle="forearm-right" data-activation="55"
      cx="270" cy="165" rx="12" ry="30"
      fill="url(#activationMed)" filter="url(#muscleGlow)" opacity="0.6"/>

    <!-- Latissimus Dorsi (stabilization) -->
    <path id="muscle-lats-left" data-muscle="latissimus-dorsi-left" data-activation="45"
      d="M 148 210 Q 130 220 125 260 Q 122 310 138 355 Q 158 365 168 340 Q 172 285 160 235 Z"
      fill="url(#activationLow)" filter="url(#muscleGlow)" opacity="0.5"/>
    <path id="muscle-lats-right" data-muscle="latissimus-dorsi-right" data-activation="45"
      d="M 252 210 Q 270 220 275 260 Q 278 310 262 355 Q 242 365 232 340 Q 228 285 240 235 Z"
      fill="url(#activationLow)" filter="url(#muscleGlow)" opacity="0.5"/>
  </g>

  <!-- FIGURE LAYER - Front View Hanging Leg Raise -->
  <g id="figure" fill="url(#figureGrad)" stroke="#64748B" stroke-width="1.5" filter="url(#softShadow)">
    <!-- Hands (gripping bar) -->
    <ellipse cx="140" cy="85" rx="14" ry="12"/>
    <ellipse cx="260" cy="85" rx="14" ry="12"/>

    <!-- Forearms -->
    <ellipse cx="135" cy="130" rx="14" ry="40"/>
    <ellipse cx="265" cy="130" rx="14" ry="40"/>

    <!-- Upper Arms -->
    <ellipse cx="140" cy="195" rx="17" ry="45"/>
    <ellipse cx="260" cy="195" rx="17" ry="45"/>

    <!-- Shoulders -->
    <ellipse cx="150" cy="235" rx="24" ry="20"/>
    <ellipse cx="250" cy="235" rx="24" ry="20"/>

    <!-- Head -->
    <ellipse cx="200" cy="210" rx="30" ry="35"/>

    <!-- Neck -->
    <rect x="188" y="242" width="24" height="18" rx="6"/>

    <!-- Torso -->
    <path d="M 150 250 Q 135 270 140 320 Q 155 390 175 420 Q 200 430 225 420 Q 245 390 260 320 Q 265 270 250 250 Q 200 235 150 250"/>

    <!-- Pelvis (tilted - posterior tilt in leg raise) -->
    <path d="M 175 420 Q 200 435 225 420 Q 238 450 225 485 Q 200 500 175 485 Q 162 450 175 420"/>

    <!-- Thighs (raised to parallel) -->
    <ellipse cx="175" cy="470" rx="28" ry="55" transform="rotate(-15 175 470)"/>
    <ellipse cx="225" cy="470" rx="28" ry="55" transform="rotate(15 225 470)"/>

    <!-- Lower Legs -->
    <ellipse cx="155" cy="540" rx="18" ry="50" transform="rotate(-20 155 540)"/>
    <ellipse cx="245" cy="540" rx="18" ry="50" transform="rotate(20 245 540)"/>

    <!-- Feet -->
    <ellipse cx="140" cy="590" rx="15" ry="10" transform="rotate(-25 140 590)"/>
    <ellipse cx="260" cy="590" rx="15" ry="10" transform="rotate(25 260 590)"/>
  </g>

  <!-- JOINT MARKERS -->
  <g id="joints" fill="#94A3B8" opacity="0.5">
    <circle cx="140" cy="85" r="3"/> <!-- Left hand -->
    <circle cx="260" cy="85" r="3"/> <!-- Right hand -->
    <circle cx="150" cy="235" r="4"/> <!-- Left shoulder -->
    <circle cx="250" cy="235" r="4"/> <!-- Right shoulder -->
    <circle cx="175" cy="425" r="4"/> <!-- Left hip -->
    <circle cx="225" cy="425" r="4"/> <!-- Right hip -->
    <circle cx="160" cy="510" r="4"/> <!-- Left knee -->
    <circle cx="240" cy="510" r="4"/> <!-- Right knee -->
  </g>

  <!-- MOVEMENT INDICATOR -->
  <g id="movement-indicator" opacity="0.5">
    <path d="M 200 550 Q 200 480 200 420" fill="none" stroke="#14B8A6" stroke-width="2" stroke-dasharray="6,4">
      <animate attributeName="stroke-dashoffset" values="20;0" dur="1s" repeatCount="indefinite"/>
    </path>
    <path d="M 190 430 L 200 410 L 210 430" fill="none" stroke="#14B8A6" stroke-width="2"/>
    <text x="210" y="400" fill="#14B8A6" font-family="Inter, sans-serif" font-size="10">RAISE</text>
  </g>

  <!-- CORE CONTRACTION INDICATOR -->
  <g id="contraction" opacity="0.5">
    <ellipse cx="200" cy="350" rx="40" ry="60" fill="none" stroke="#EF4444" stroke-width="2" stroke-dasharray="4,3">
      <animate attributeName="ry" values="55;65;55" dur="2s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.7;0.3;0.7" dur="2s" repeatCount="indefinite"/>
    </ellipse>
  </g>
</svg>
