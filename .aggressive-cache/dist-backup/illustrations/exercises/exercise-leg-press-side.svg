<svg viewBox="0 0 400 600" xmlns="http://www.w3.org/2000/svg">
  <!--
    Exercise: Leg Press Machine - Lowered Position
    View: Side
    Primary Muscles: Quadriceps (92%), Gluteus Maximus (75%), Hamstrings (50%)
  -->
  <defs>
    <linearGradient id="figureGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#475569"/>
      <stop offset="100%" stop-color="#334155"/>
    </linearGradient>
    <linearGradient id="machineGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#3F3F46"/>
      <stop offset="100%" stop-color="#27272A"/>
    </linearGradient>
    <linearGradient id="activationMax" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#EF4444" stop-opacity="0.85"/>
      <stop offset="100%" stop-color="#DC2626" stop-opacity="0.65"/>
    </linearGradient>
    <linearGradient id="activationHigh" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#F97316" stop-opacity="0.75"/>
      <stop offset="100%" stop-color="#EA580C" stop-opacity="0.55"/>
    </linearGradient>
    <linearGradient id="activationMed" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#FB923C" stop-opacity="0.65"/>
      <stop offset="100%" stop-color="#F97316" stop-opacity="0.45"/>
    </linearGradient>
    <linearGradient id="activationLow" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#14B8A6" stop-opacity="0.55"/>
      <stop offset="100%" stop-color="#0D9488" stop-opacity="0.35"/>
    </linearGradient>
    <filter id="muscleGlow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="4" result="blur"/>
      <feMerge>
        <feMergeNode in="blur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    <filter id="softShadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="#000" flood-opacity="0.3"/>
    </filter>
  </defs>

  <!-- LEG PRESS MACHINE (Background) -->
  <g id="machine" fill="url(#machineGrad)" stroke="#52525B" stroke-width="2">
    <!-- Main frame -->
    <rect x="30" y="200" width="340" height="20" rx="5"/>
    <rect x="30" y="430" width="340" height="20" rx="5"/>

    <!-- Angled back rest support -->
    <path d="M 60 220 L 120 200 L 130 220 L 70 245 Z"/>

    <!-- Seat back rest (angled ~45°) -->
    <rect x="80" y="250" width="100" height="20" rx="3" transform="rotate(-45 130 260)" fill="#52525B"/>

    <!-- Seat cushion -->
    <rect x="100" y="350" width="120" height="25" rx="5" fill="#52525B"/>

    <!-- Foot plate -->
    <rect x="250" y="180" width="80" height="100" rx="8" fill="#3F3F46" stroke="#52525B"/>
    <line x1="270" y1="200" x2="270" y2="260" stroke="#27272A" stroke-width="2"/>
    <line x1="290" y1="200" x2="290" y2="260" stroke="#27272A" stroke-width="2"/>
    <line x1="310" y1="200" x2="310" y2="260" stroke="#27272A" stroke-width="2"/>

    <!-- Weight stack guide rails -->
    <rect x="45" y="220" width="8" height="210" fill="#27272A"/>
    <rect x="357" y="220" width="8" height="210" fill="#27272A"/>

    <!-- Weight stack -->
    <g transform="translate(350, 250)">
      <rect x="0" y="0" width="30" height="12" fill="#1F1F23"/>
      <rect x="0" y="15" width="30" height="12" fill="#1F1F23"/>
      <rect x="0" y="30" width="30" height="12" fill="#1F1F23"/>
      <rect x="0" y="45" width="30" height="12" fill="#3F3F46"/>
      <rect x="0" y="60" width="30" height="12" fill="#3F3F46"/>
    </g>
  </g>

  <!-- MUSCLE ACTIVATION LAYER -->
  <g id="muscles" opacity="0.85">
    <!-- Quadriceps - PRIMARY (92%) -->
    <path id="muscle-quads" data-muscle="quadriceps" data-activation="92"
      d="M 200 280 Q 230 270 250 295 Q 265 340 255 385 Q 225 400 200 390 Q 180 350 200 280"
      fill="url(#activationMax)" filter="url(#muscleGlow)">
      <animate attributeName="opacity" values="0.8;0.95;0.8" dur="2s" repeatCount="indefinite"/>
    </path>

    <!-- Gluteus Maximus - SECONDARY (75%) -->
    <path id="muscle-glutes" data-muscle="gluteus-maximus" data-activation="75"
      d="M 100 340 Q 130 325 155 350 Q 165 390 145 420 Q 110 430 95 405 Q 85 370 100 340"
      fill="url(#activationHigh)" filter="url(#muscleGlow)">
      <animate attributeName="opacity" values="0.7;0.85;0.7" dur="2s" repeatCount="indefinite" begin="0.2s"/>
    </path>

    <!-- Hamstrings - SECONDARY (50%) -->
    <path id="muscle-hamstrings" data-muscle="hamstrings" data-activation="50"
      d="M 155 360 Q 180 350 195 375 Q 205 415 190 445 Q 165 455 150 435 Q 145 400 155 360"
      fill="url(#activationLow)" filter="url(#muscleGlow)"/>

    <!-- Calves (Gastrocnemius) - Stabilizer -->
    <ellipse id="muscle-calves" data-muscle="gastrocnemius" data-activation="35"
      cx="260" cy="340" rx="12" ry="28"
      fill="url(#activationLow)" filter="url(#muscleGlow)" opacity="0.5"/>

    <!-- Adductors -->
    <path id="muscle-adductors" data-muscle="adductors" data-activation="40"
      d="M 175 350 Q 190 345 200 365 Q 205 395 195 420 Q 180 425 172 405 Q 168 375 175 350"
      fill="url(#activationLow)" filter="url(#muscleGlow)" opacity="0.5"/>
  </g>

  <!-- FIGURE LAYER - Side View Leg Press (Seated, reclined) -->
  <g id="figure" fill="url(#figureGrad)" stroke="#64748B" stroke-width="1.5" filter="url(#softShadow)">
    <!-- Head (reclined) -->
    <ellipse cx="85" cy="280" rx="28" ry="32" transform="rotate(-45 85 280)"/>

    <!-- Neck -->
    <path d="M 105 295 Q 115 305 125 320 L 140 340 Q 125 350 112 335 Z"/>

    <!-- Upper Body (reclined on back rest) -->
    <path d="M 130 330 Q 150 320 165 340 Q 180 370 170 400 Q 145 420 125 405 Q 110 380 130 330"/>

    <!-- Torso/Abdomen -->
    <path d="M 160 390 Q 180 380 195 400 Q 210 440 195 480 Q 165 495 145 475 Q 140 440 160 390"/>

    <!-- Shoulder -->
    <ellipse cx="140" cy="345" rx="18" ry="15" transform="rotate(-45 140 345)"/>

    <!-- Upper Arm (resting) -->
    <ellipse cx="130" cy="385" rx="14" ry="30" transform="rotate(30 130 385)"/>

    <!-- Forearm/Hand (on handles) -->
    <ellipse cx="110" cy="420" rx="10" ry="25" transform="rotate(45 110 420)"/>

    <!-- Pelvis/Hip -->
    <path d="M 150 450 Q 175 440 200 460 Q 215 500 195 535 Q 160 550 140 525 Q 130 490 150 450"/>

    <!-- Thigh (bent, knees toward chest) -->
    <path d="M 180 490 Q 210 480 235 510 Q 260 560 245 600 Q 200 615 175 590 Q 165 545 180 490"/>

    <!-- Knee area -->
    <ellipse cx="235" cy="420" rx="22" ry="18"/>

    <!-- Lower Leg (angled toward foot plate) -->
    <path d="M 235 400 Q 260 390 275 350 Q 285 310 280 270 Q 265 255 250 265 Q 250 310 245 355 Q 235 390 235 400"/>

    <!-- Feet (on foot plate) -->
    <ellipse cx="275" cy="235" rx="18" ry="25" transform="rotate(10 275 235)"/>
  </g>

  <!-- JOINT MARKERS -->
  <g id="joints" fill="#94A3B8" opacity="0.5">
    <circle cx="105" cy="300" r="4"/> <!-- Neck -->
    <circle cx="140" cy="345" r="4"/> <!-- Shoulder -->
    <circle cx="120" cy="400" r="3"/> <!-- Elbow -->
    <circle cx="170" cy="480" r="5"/> <!-- Hip -->
    <circle cx="235" cy="420" r="4"/> <!-- Knee -->
    <circle cx="275" cy="260" r="4"/> <!-- Ankle -->
  </g>

  <!-- MOVEMENT DIRECTION INDICATOR -->
  <g id="movement-indicator" opacity="0.6">
    <path d="M 290 150 L 290 110 L 280 130 Z" fill="#14B8A6"/>
    <path d="M 290 95 L 290 55 L 280 75 Z" fill="#14B8A6" opacity="0.4"/>
    <text x="295" y="85" fill="#14B8A6" font-family="Inter, sans-serif" font-size="10">PUSH</text>
  </g>

  <!-- KNEE ANGLE INDICATOR -->
  <g id="angle-indicator" opacity="0.4">
    <path d="M 200 490 Q 235 420 275 280" fill="none" stroke="#14B8A6" stroke-width="1" stroke-dasharray="4,4"/>
    <text x="245" y="380" fill="#14B8A6" font-family="Inter, sans-serif" font-size="9">90°</text>
  </g>
</svg>
