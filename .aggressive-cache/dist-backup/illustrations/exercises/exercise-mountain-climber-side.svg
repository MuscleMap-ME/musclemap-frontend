<svg viewBox="0 0 400 600" xmlns="http://www.w3.org/2000/svg">
  <!--
    Exercise: Mountain Climber - Mid Position
    View: Side
    Primary Muscles: Core (85%), Hip Flexors (90%), Shoulders (55%), Quadriceps (60%)
  -->
  <defs>
    <linearGradient id="figureGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#475569"/>
      <stop offset="100%" stop-color="#334155"/>
    </linearGradient>
    <linearGradient id="activationMax" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#EF4444" stop-opacity="0.85"/>
      <stop offset="100%" stop-color="#DC2626" stop-opacity="0.65"/>
    </linearGradient>
    <linearGradient id="activationHigh" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#F97316" stop-opacity="0.75"/>
      <stop offset="100%" stop-color="#EA580C" stop-opacity="0.55"/>
    </linearGradient>
    <linearGradient id="activationMed" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#FB923C" stop-opacity="0.65"/>
      <stop offset="100%" stop-color="#F97316" stop-opacity="0.45"/>
    </linearGradient>
    <linearGradient id="activationLow" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#14B8A6" stop-opacity="0.55"/>
      <stop offset="100%" stop-color="#0D9488" stop-opacity="0.35"/>
    </linearGradient>
    <filter id="muscleGlow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="4" result="blur"/>
      <feMerge>
        <feMergeNode in="blur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    <filter id="softShadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="#000" flood-opacity="0.3"/>
    </filter>
  </defs>

  <!-- MUSCLE ACTIVATION LAYER -->
  <g id="muscles" opacity="0.85">
    <!-- Hip Flexor (driving leg) - PRIMARY (90%) -->
    <ellipse id="muscle-hip-flexor-drive" data-muscle="hip-flexor-drive" data-activation="90"
      cx="185" cy="305" rx="22" ry="32"
      fill="url(#activationMax)" filter="url(#muscleGlow)" transform="rotate(-25 185 305)">
      <animate attributeName="opacity" values="0.85;0.98;0.85" dur="1s" repeatCount="indefinite"/>
    </ellipse>

    <!-- Core (stabilization) - PRIMARY (85%) -->
    <path id="muscle-core" data-muscle="rectus-abdominis" data-activation="85"
      d="M 165 265 Q 190 255 210 270 Q 225 330 210 395 Q 185 410 162 390 Q 148 330 165 265"
      fill="url(#activationMax)" filter="url(#muscleGlow)">
      <animate attributeName="opacity" values="0.82;0.95;0.82" dur="1s" repeatCount="indefinite" begin="0.05s"/>
    </path>

    <!-- Driving Leg Quadriceps -->
    <ellipse id="muscle-quad-drive" data-muscle="quadriceps-drive" data-activation="75"
      cx="165" cy="355" rx="18" ry="42"
      fill="url(#activationHigh)" filter="url(#muscleGlow)" transform="rotate(-45 165 355)"/>

    <!-- Back Leg Hip Flexor (extended) -->
    <ellipse id="muscle-hip-flexor-back" data-muscle="hip-flexor-back" data-activation="50"
      cx="245" cy="335" rx="15" ry="22"
      fill="url(#activationLow)" filter="url(#muscleGlow)" transform="rotate(15 245 335)" opacity="0.55"/>

    <!-- Shoulders/Deltoids (supporting) -->
    <ellipse id="muscle-delt" data-muscle="anterior-deltoid" data-activation="55"
      cx="105" cy="235" rx="18" ry="22"
      fill="url(#activationMed)" filter="url(#muscleGlow)" opacity="0.65"/>

    <!-- Triceps (arm support) -->
    <ellipse id="muscle-triceps" data-muscle="triceps" data-activation="45"
      cx="95" cy="275" rx="14" ry="32"
      fill="url(#activationLow)" filter="url(#muscleGlow)" transform="rotate(-10 95 275)" opacity="0.5"/>

    <!-- Back Leg Glutes -->
    <path id="muscle-glutes-back" data-muscle="gluteus-maximus" data-activation="45"
      d="M 235 310 Q 265 298 288 330 Q 305 385 288 435 Q 252 455 232 425 Q 218 375 235 310"
      fill="url(#activationLow)" filter="url(#muscleGlow)" opacity="0.5"/>

    <!-- Back Leg Hamstrings -->
    <ellipse id="muscle-hamstrings-back" data-muscle="hamstrings" data-activation="40"
      cx="305" cy="415" rx="16" ry="45"
      fill="url(#activationLow)" filter="url(#muscleGlow)" transform="rotate(25 305 415)" opacity="0.45"/>
  </g>

  <!-- FIGURE LAYER - Side View Mountain Climber (plank with one knee driven forward) -->
  <g id="figure" fill="url(#figureGrad)" stroke="#64748B" stroke-width="1.5" filter="url(#softShadow)">
    <!-- Head (looking down/forward) -->
    <ellipse cx="75" cy="205" rx="28" ry="32" transform="rotate(-15 75 205)"/>

    <!-- Neck -->
    <path d="M 98 225 Q 115 235 132 255 L 150 280 Q 130 295 112 270 Z"/>

    <!-- Shoulder -->
    <ellipse cx="120" cy="265" rx="26" ry="22" transform="rotate(-15 120 265)"/>

    <!-- Upper Arm (supporting) -->
    <ellipse cx="100" cy="285" rx="16" ry="42" transform="rotate(-15 100 285)"/>

    <!-- Forearm (on ground) -->
    <ellipse cx="80" cy="340" rx="14" ry="38" transform="rotate(-5 80 340)"/>

    <!-- Hand (on ground) -->
    <ellipse cx="75" cy="390" rx="14" ry="10"/>

    <!-- Torso (plank position) -->
    <path d="M 145 280 Q 185 265 225 300 Q 270 370 260 450 L 200 480 Q 155 415 145 280"/>

    <!-- Pelvis -->
    <path d="M 210 420 Q 260 405 295 450 Q 325 525 300 595 Q 255 625 218 600 Q 185 550 210 420"/>

    <!-- Driving Leg - Thigh (knee toward chest) -->
    <path d="M 165 330 Q 135 365 130 430 Q 132 495 160 550 Q 205 580 245 555 Q 265 500 250 440 Q 225 375 165 330"/>

    <!-- Driving Leg - Lower Leg (foot near hip) -->
    <path d="M 165 535 Q 145 560 148 620 Q 155 680 180 730 Q 215 755 250 738 Q 265 685 258 625 Q 242 565 195 540"/>

    <!-- Driving Foot (near hip) -->
    <ellipse cx="180" cy="375" rx="22" ry="12" transform="rotate(-30 180 375)"/>

    <!-- Back Leg - Thigh (extended) -->
    <path d="M 265 440 Q 305 425 340 465 Q 375 540 360 620 Q 320 655 282 632 Q 255 575 265 440"/>

    <!-- Back Leg - Lower Leg (extended) -->
    <path d="M 345 605 Q 375 625 385 695 Q 392 765 378 830 Q 342 855 305 838 Q 290 780 300 715 Q 318 645 345 605"/>

    <!-- Back Foot (on ground) -->
    <path d="M 295 820 Q 265 835 260 865 Q 265 900 305 915 Q 380 928 430 912 Q 455 890 440 860 Q 415 840 295 820"/>
  </g>

  <!-- JOINT MARKERS -->
  <g id="joints" fill="#94A3B8" opacity="0.5">
    <circle cx="88" cy="218" r="4"/> <!-- Neck -->
    <circle cx="120" cy="265" r="4"/> <!-- Shoulder -->
    <circle cx="90" cy="330" r="3"/> <!-- Elbow -->
    <circle cx="75" cy="390" r="3"/> <!-- Wrist -->
    <circle cx="235" cy="460" r="5"/> <!-- Hip -->
    <circle cx="185" cy="540" r="4"/> <!-- Driving knee -->
    <circle cx="345" cy="615" r="4"/> <!-- Back knee -->
  </g>

  <!-- PLANK LINE INDICATOR -->
  <g id="plank-indicator" opacity="0.4">
    <line x1="75" y1="390" x2="385" y2="390" stroke="#14B8A6" stroke-width="1" stroke-dasharray="4,3"/>
    <text x="200" y="380" fill="#14B8A6" font-family="Inter, sans-serif" font-size="8">plank position</text>
  </g>

  <!-- DRIVING MOTION INDICATOR -->
  <g id="motion-indicator" opacity="0.5">
    <path d="M 350 500 Q 280 450 185 390" fill="none" stroke="#14B8A6" stroke-width="2" stroke-dasharray="6,4">
      <animate attributeName="stroke-dashoffset" values="0;-25" dur="0.5s" repeatCount="indefinite"/>
    </path>
    <text x="255" y="420" fill="#14B8A6" font-family="Inter, sans-serif" font-size="10">DRIVE</text>
  </g>

  <!-- CONTRACTION INDICATOR -->
  <g id="contraction" opacity="0.5">
    <ellipse cx="185" cy="340" rx="40" ry="55" fill="none" stroke="#EF4444" stroke-width="2" stroke-dasharray="4,3" transform="rotate(-25 185 340)">
      <animate attributeName="rx" values="35;45;35" dur="1s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.7;0.3;0.7" dur="1s" repeatCount="indefinite"/>
    </ellipse>
  </g>

  <!-- GROUND LINE -->
  <line x1="50" y1="400" x2="180" y2="400" stroke="#334155" stroke-width="2"/>
  <line x1="250" y1="920" x2="460" y2="920" stroke="#334155" stroke-width="2"/>
</svg>
