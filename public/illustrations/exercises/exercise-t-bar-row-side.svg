<svg viewBox="0 0 400 600" xmlns="http://www.w3.org/2000/svg">
  <!--
    Exercise: T-Bar Row - Top Position
    View: Side
    Primary Muscles: Latissimus Dorsi (90%), Rhomboids (85%), Trapezius Middle (80%), Biceps (65%)
  -->
  <defs>
    <linearGradient id="figureGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#475569"/>
      <stop offset="100%" stop-color="#334155"/>
    </linearGradient>
    <linearGradient id="activationMax" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#EF4444" stop-opacity="0.85"/>
      <stop offset="100%" stop-color="#DC2626" stop-opacity="0.65"/>
    </linearGradient>
    <linearGradient id="activationHigh" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#F97316" stop-opacity="0.75"/>
      <stop offset="100%" stop-color="#EA580C" stop-opacity="0.55"/>
    </linearGradient>
    <linearGradient id="activationMed" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#FB923C" stop-opacity="0.65"/>
      <stop offset="100%" stop-color="#F97316" stop-opacity="0.45"/>
    </linearGradient>
    <linearGradient id="activationLow" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#14B8A6" stop-opacity="0.55"/>
      <stop offset="100%" stop-color="#0D9488" stop-opacity="0.35"/>
    </linearGradient>
    <filter id="muscleGlow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="4" result="blur"/>
      <feMerge>
        <feMergeNode in="blur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    <filter id="softShadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="#000" flood-opacity="0.3"/>
    </filter>
  </defs>

  <!-- T-BAR ROW MACHINE/LANDMINE -->
  <g id="equipment" fill="#3F3F46" stroke="#52525B" stroke-width="2">
    <!-- Landmine pivot point -->
    <rect x="20" y="530" width="40" height="30" rx="5"/>
    <circle cx="40" cy="545" r="10" fill="#27272A"/>

    <!-- Platform foot plate (for standing) -->
    <rect x="140" y="535" width="100" height="15" rx="3"/>
    <rect x="130" y="545" width="120" height="10" rx="2"/>
  </g>

  <!-- MUSCLE ACTIVATION LAYER -->
  <g id="muscles" opacity="0.85">
    <!-- Latissimus Dorsi - PRIMARY (90%) -->
    <path id="muscle-lats" data-muscle="latissimus-dorsi" data-activation="90"
      d="M 225 260 Q 260 245 280 280 Q 295 345 275 410 Q 235 430 210 400 Q 195 340 225 260"
      fill="url(#activationMax)" filter="url(#muscleGlow)">
      <animate attributeName="opacity" values="0.85;0.98;0.85" dur="2s" repeatCount="indefinite"/>
    </path>

    <!-- Rhomboids - PRIMARY (85%) -->
    <path id="muscle-rhomboids" data-muscle="rhomboids" data-activation="85"
      d="M 235 235 Q 255 225 265 250 Q 272 295 262 340 Q 245 350 235 330 Q 228 285 235 235"
      fill="url(#activationHigh)" filter="url(#muscleGlow)">
      <animate attributeName="opacity" values="0.78;0.92;0.78" dur="2s" repeatCount="indefinite" begin="0.1s"/>
    </path>

    <!-- Trapezius Middle - PRIMARY (80%) -->
    <path id="muscle-mid-traps" data-muscle="trapezius-middle" data-activation="80"
      d="M 230 215 Q 255 205 270 225 Q 280 260 268 295 Q 248 305 235 285 Q 225 250 230 215"
      fill="url(#activationHigh)" filter="url(#muscleGlow)"/>

    <!-- Biceps - SECONDARY (65%) -->
    <ellipse id="muscle-biceps" data-muscle="biceps" data-activation="65"
      cx="165" cy="315" rx="15" ry="35"
      fill="url(#activationMed)" filter="url(#muscleGlow)" transform="rotate(-25 165 315)"/>

    <!-- Rear Deltoid -->
    <ellipse id="muscle-rear-delt" data-muscle="posterior-deltoid" data-activation="70"
      cx="220" cy="255" rx="18" ry="20"
      fill="url(#activationMed)" filter="url(#muscleGlow)"/>

    <!-- Erector Spinae (stabilization) -->
    <path id="muscle-erector" data-muscle="erector-spinae" data-activation="50"
      d="M 240 380 Q 260 370 270 400 Q 278 460 268 515 Q 250 530 238 515 Q 230 460 240 380"
      fill="url(#activationLow)" filter="url(#muscleGlow)" opacity="0.55"/>

    <!-- Hamstrings (stabilization) -->
    <path id="muscle-hamstrings" data-muscle="hamstrings" data-activation="35"
      d="M 205 485 Q 230 475 248 505 Q 262 560 250 610 Q 218 625 200 600 Q 190 550 205 485"
      fill="url(#activationLow)" filter="url(#muscleGlow)" opacity="0.4"/>
  </g>

  <!-- FIGURE LAYER - Side View T-Bar Row (bent over) -->
  <g id="figure" fill="url(#figureGrad)" stroke="#64748B" stroke-width="1.5" filter="url(#softShadow)">
    <!-- Head (looking forward/down) -->
    <ellipse cx="135" cy="205" rx="28" ry="32" transform="rotate(40 135 205)"/>

    <!-- Neck -->
    <path d="M 155 225 Q 175 235 195 255 L 215 280 Q 195 295 175 270 Z"/>

    <!-- Shoulder -->
    <ellipse cx="210" cy="275" rx="24" ry="20" transform="rotate(40 210 275)"/>

    <!-- Upper Back (bent over position) -->
    <path d="M 200 285 Q 240 265 270 305 Q 300 375 290 450 L 235 480 Q 200 425 200 285"/>

    <!-- Upper Arm (pulling back - contracted) -->
    <ellipse cx="185" cy="305" rx="18" ry="45" transform="rotate(-30 185 305)"/>

    <!-- Forearm (gripping handle) -->
    <ellipse cx="150" cy="355" rx="14" ry="38" transform="rotate(-55 150 355)"/>

    <!-- Hands (on T-bar handle) -->
    <ellipse cx="125" cy="390" rx="14" ry="11" transform="rotate(-55 125 390)"/>

    <!-- Torso (bent at ~45 degrees) -->
    <path d="M 235 435 Q 270 420 300 460 Q 330 525 315 600 Q 280 630 245 620 Q 215 605 215 555 Q 220 490 235 435"/>

    <!-- Pelvis -->
    <path d="M 260 565 Q 300 550 330 590 Q 355 650 330 710 Q 290 735 255 715 Q 230 670 260 565"/>

    <!-- Thigh -->
    <path d="M 220 660 Q 195 675 180 720 Q 170 780 185 840 Q 220 865 255 845 Q 270 790 260 735 Q 245 680 220 660"/>

    <!-- Lower Leg -->
    <path d="M 190 825 Q 170 850 175 910 Q 180 970 195 1020 Q 225 1035 255 1025 Q 265 975 260 920 Q 250 865 220 835"/>

    <!-- Foot (on platform) -->
    <path d="M 170 1010 Q 145 1020 140 1045 Q 142 1070 175 1082 Q 245 1090 290 1078 Q 310 1060 295 1035 Q 275 1020 170 1010"/>
  </g>

  <!-- T-BAR WITH HANDLE -->
  <g id="equipment-bar" filter="url(#softShadow)">
    <!-- Bar (angled from pivot to hands) -->
    <line x1="40" y1="545" x2="125" y2="390" stroke="#71717A" stroke-width="12" stroke-linecap="round"/>

    <!-- V-Handle attachment -->
    <path d="M 115 400 L 135 380 L 135 400 M 115 400 L 135 420 L 135 400" fill="none" stroke="#52525B" stroke-width="6"/>

    <!-- Plates (on bar) -->
    <ellipse cx="85" cy="460" rx="30" ry="12" fill="#3F3F46" transform="rotate(-55 85 460)"/>
    <ellipse cx="70" cy="480" rx="25" ry="10" fill="#52525B" transform="rotate(-55 70 480)"/>
  </g>

  <!-- JOINT MARKERS -->
  <g id="joints" fill="#94A3B8" opacity="0.5">
    <circle cx="150" cy="225" r="4"/> <!-- Neck -->
    <circle cx="210" cy="275" r="4"/> <!-- Shoulder -->
    <circle cx="165" cy="340" r="3"/> <!-- Elbow -->
    <circle cx="125" cy="390" r="3"/> <!-- Wrist -->
    <circle cx="275" cy="610" r="4"/> <!-- Hip -->
    <circle cx="230" cy="830" r="4"/> <!-- Knee -->
  </g>

  <!-- BACK ANGLE INDICATOR -->
  <g id="angle-indicator" opacity="0.4">
    <line x1="275" y1="700" x2="275" y2="300" stroke="#14B8A6" stroke-width="1" stroke-dasharray="4,3"/>
    <path d="M 275 550 Q 240 490 200 420" fill="none" stroke="#14B8A6" stroke-width="1"/>
    <text x="215" y="470" fill="#14B8A6" font-family="Inter, sans-serif" font-size="9">~45Â°</text>
  </g>

  <!-- MOVEMENT INDICATOR -->
  <g id="movement-indicator" opacity="0.5">
    <path d="M 125 430 Q 140 400 165 350" fill="none" stroke="#14B8A6" stroke-width="2" stroke-dasharray="6,4">
      <animate attributeName="stroke-dashoffset" values="0;20" dur="1s" repeatCount="indefinite"/>
    </path>
    <text x="100" y="360" fill="#14B8A6" font-family="Inter, sans-serif" font-size="10">PULL</text>
  </g>

  <!-- CONTRACTION INDICATOR -->
  <g id="contraction" opacity="0.5">
    <ellipse cx="240" cy="320" rx="45" ry="70" fill="none" stroke="#EF4444" stroke-width="2" stroke-dasharray="4,3" transform="rotate(30 240 320)">
      <animate attributeName="rx" values="40;50;40" dur="2s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.7;0.3;0.7" dur="2s" repeatCount="indefinite"/>
    </ellipse>
  </g>

  <!-- GROUND LINE -->
  <line x1="100" y1="555" x2="280" y2="555" stroke="#334155" stroke-width="2"/>
</svg>
