<svg viewBox="0 0 400 600" xmlns="http://www.w3.org/2000/svg">
  <!--
    Exercise: Cable Face Pull - Contracted Position
    View: Front
    Primary Muscles: Rear Deltoid (90%), Rhomboids (75%), Trapezius Middle (70%), External Rotators (65%)
  -->
  <defs>
    <linearGradient id="figureGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#475569"/>
      <stop offset="100%" stop-color="#334155"/>
    </linearGradient>
    <linearGradient id="activationMax" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#EF4444" stop-opacity="0.85"/>
      <stop offset="100%" stop-color="#DC2626" stop-opacity="0.65"/>
    </linearGradient>
    <linearGradient id="activationHigh" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#F97316" stop-opacity="0.75"/>
      <stop offset="100%" stop-color="#EA580C" stop-opacity="0.55"/>
    </linearGradient>
    <linearGradient id="activationMed" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#FB923C" stop-opacity="0.65"/>
      <stop offset="100%" stop-color="#F97316" stop-opacity="0.45"/>
    </linearGradient>
    <linearGradient id="activationLow" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#14B8A6" stop-opacity="0.55"/>
      <stop offset="100%" stop-color="#0D9488" stop-opacity="0.35"/>
    </linearGradient>
    <filter id="muscleGlow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="4" result="blur"/>
      <feMerge>
        <feMergeNode in="blur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    <filter id="softShadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="#000" flood-opacity="0.3"/>
    </filter>
  </defs>

  <!-- CABLE MACHINE -->
  <g id="equipment" fill="#3F3F46" stroke="#52525B" stroke-width="2">
    <!-- Cable tower (behind figure, centered) -->
    <rect x="175" y="30" width="50" height="15" rx="4"/>
    <rect x="190" y="20" width="20" height="60" rx="3"/>

    <!-- Pulley -->
    <circle cx="200" cy="55" r="10" fill="#52525B" stroke="#71717A"/>
    <circle cx="200" cy="55" r="4" fill="#27272A"/>

    <!-- Rope attachment split -->
    <path d="M 200 65 L 200 100 Q 180 120 135 150" fill="none" stroke="#71717A" stroke-width="4"/>
    <path d="M 200 65 L 200 100 Q 220 120 265 150" fill="none" stroke="#71717A" stroke-width="4"/>

    <!-- Rope ends -->
    <ellipse cx="130" cy="155" rx="10" ry="8" fill="#52525B" transform="rotate(-25 130 155)"/>
    <ellipse cx="270" cy="155" rx="10" ry="8" fill="#52525B" transform="rotate(25 270 155)"/>
  </g>

  <!-- MUSCLE ACTIVATION LAYER -->
  <g id="muscles" opacity="0.85">
    <!-- Rear Deltoid Left - PRIMARY (90%) -->
    <ellipse id="muscle-rear-delt-left" data-muscle="posterior-deltoid-left" data-activation="90"
      cx="125" cy="190" rx="22" ry="25"
      fill="url(#activationMax)" filter="url(#muscleGlow)">
      <animate attributeName="opacity" values="0.82;0.95;0.82" dur="2s" repeatCount="indefinite"/>
    </ellipse>

    <!-- Rear Deltoid Right - PRIMARY (90%) -->
    <ellipse id="muscle-rear-delt-right" data-muscle="posterior-deltoid-right" data-activation="90"
      cx="275" cy="190" rx="22" ry="25"
      fill="url(#activationMax)" filter="url(#muscleGlow)">
      <animate attributeName="opacity" values="0.82;0.95;0.82" dur="2s" repeatCount="indefinite" begin="0.1s"/>
    </ellipse>

    <!-- Rhomboids - SECONDARY (75%) -->
    <path id="muscle-rhomboids" data-muscle="rhomboids" data-activation="75"
      d="M 170 200 Q 200 190 230 200 Q 238 240 230 275 Q 200 285 170 275 Q 162 240 170 200"
      fill="url(#activationHigh)" filter="url(#muscleGlow)">
      <animate attributeName="opacity" values="0.7;0.85;0.7" dur="2s" repeatCount="indefinite" begin="0.15s"/>
    </path>

    <!-- Trapezius Middle - SECONDARY (70%) -->
    <path id="muscle-traps-mid" data-muscle="trapezius-middle" data-activation="70"
      d="M 160 175 Q 200 165 240 175 Q 250 195 240 215 Q 200 225 160 215 Q 150 195 160 175"
      fill="url(#activationHigh)" filter="url(#muscleGlow)"/>

    <!-- External Rotators (infraspinatus/teres minor) -->
    <ellipse id="muscle-ext-rot-left" data-muscle="infraspinatus-left" data-activation="65"
      cx="140" cy="210" rx="18" ry="22"
      fill="url(#activationMed)" filter="url(#muscleGlow)"/>
    <ellipse id="muscle-ext-rot-right" data-muscle="infraspinatus-right" data-activation="65"
      cx="260" cy="210" rx="18" ry="22"
      fill="url(#activationMed)" filter="url(#muscleGlow)"/>

    <!-- Biceps - Stabilizer -->
    <ellipse id="muscle-bicep-left" data-muscle="biceps-left" data-activation="40"
      cx="110" cy="220" rx="14" ry="28"
      fill="url(#activationLow)" filter="url(#muscleGlow)" opacity="0.5" transform="rotate(-60 110 220)"/>
    <ellipse id="muscle-bicep-right" data-muscle="biceps-right" data-activation="40"
      cx="290" cy="220" rx="14" ry="28"
      fill="url(#activationLow)" filter="url(#muscleGlow)" opacity="0.5" transform="rotate(60 290 220)"/>

    <!-- Upper Trapezius -->
    <path id="muscle-traps-upper" data-muscle="trapezius-upper" data-activation="50"
      d="M 165 150 Q 200 140 235 150 Q 245 165 235 180 Q 200 190 165 180 Q 155 165 165 150"
      fill="url(#activationLow)" filter="url(#muscleGlow)" opacity="0.6"/>
  </g>

  <!-- FIGURE LAYER - Front View Face Pull -->
  <g id="figure" fill="url(#figureGrad)" stroke="#64748B" stroke-width="1.5" filter="url(#softShadow)">
    <!-- Head -->
    <ellipse cx="200" cy="100" rx="32" ry="38"/>

    <!-- Neck -->
    <rect x="186" y="135" width="28" height="22" rx="7"/>

    <!-- Trapezius/Shoulders (squeezed back) -->
    <path d="M 140 160 Q 170 150 200 155 Q 230 150 260 160 Q 275 180 270 200 L 130 200 Q 125 180 140 160"/>

    <!-- Shoulders -->
    <ellipse cx="128" cy="195" rx="26" ry="22"/>
    <ellipse cx="272" cy="195" rx="26" ry="22"/>

    <!-- Torso -->
    <path d="M 130 210 Q 115 230 120 280 Q 135 360 165 430 Q 185 450 200 450 Q 215 450 235 430 Q 265 360 280 280 Q 285 230 270 210 Q 200 195 130 210"/>

    <!-- Left Upper Arm (horizontal, externally rotated) -->
    <ellipse cx="100" cy="195" rx="32" ry="16"/>

    <!-- Right Upper Arm (horizontal, externally rotated) -->
    <ellipse cx="300" cy="195" rx="32" ry="16"/>

    <!-- Left Forearm (angled up - external rotation) -->
    <ellipse cx="82" cy="165" rx="14" ry="32" transform="rotate(-20 82 165)"/>

    <!-- Right Forearm (angled up - external rotation) -->
    <ellipse cx="318" cy="165" rx="14" ry="32" transform="rotate(20 318 165)"/>

    <!-- Left Hand (gripping rope) -->
    <ellipse cx="95" cy="145" rx="12" ry="14" transform="rotate(-20 95 145)"/>

    <!-- Right Hand (gripping rope) -->
    <ellipse cx="305" cy="145" rx="12" ry="14" transform="rotate(20 305 145)"/>

    <!-- Pelvis -->
    <path d="M 165 430 Q 200 455 235 430 Q 248 470 232 505 Q 200 520 168 505 Q 152 470 165 430"/>

    <!-- Legs (slight stagger for stability) -->
    <ellipse cx="175" cy="545" rx="26" ry="50"/>
    <ellipse cx="225" cy="550" rx="26" ry="50"/>

    <!-- Lower Legs -->
    <ellipse cx="173" cy="600" rx="16" ry="42"/>
    <ellipse cx="227" cy="602" rx="16" ry="42"/>
  </g>

  <!-- JOINT MARKERS -->
  <g id="joints" fill="#94A3B8" opacity="0.5">
    <circle cx="200" cy="155" r="4"/> <!-- Neck -->
    <circle cx="128" cy="195" r="4"/> <!-- Left shoulder -->
    <circle cx="272" cy="195" r="4"/> <!-- Right shoulder -->
    <circle cx="78" cy="195" r="3"/> <!-- Left elbow -->
    <circle cx="322" cy="195" r="3"/> <!-- Right elbow -->
    <circle cx="95" cy="145" r="3"/> <!-- Left wrist -->
    <circle cx="305" cy="145" r="3"/> <!-- Right wrist -->
  </g>

  <!-- EXTERNAL ROTATION INDICATOR -->
  <g id="rotation-indicator" opacity="0.4">
    <path d="M 78 195 Q 75 160 95 145" fill="none" stroke="#14B8A6" stroke-width="2" stroke-dasharray="4,3"/>
    <path d="M 322 195 Q 325 160 305 145" fill="none" stroke="#14B8A6" stroke-width="2" stroke-dasharray="4,3"/>
    <text x="60" y="175" fill="#14B8A6" font-family="Inter, sans-serif" font-size="8">rotate</text>
    <text x="315" y="175" fill="#14B8A6" font-family="Inter, sans-serif" font-size="8">rotate</text>
  </g>

  <!-- SCAPULAR RETRACTION INDICATOR -->
  <g id="retraction-indicator" opacity="0.5">
    <path d="M 150 220 L 180 220" fill="none" stroke="#EF4444" stroke-width="2">
      <animate attributeName="d" values="M 150 220 L 180 220;M 160 220 L 175 220;M 150 220 L 180 220" dur="2s" repeatCount="indefinite"/>
    </path>
    <path d="M 250 220 L 220 220" fill="none" stroke="#EF4444" stroke-width="2">
      <animate attributeName="d" values="M 250 220 L 220 220;M 240 220 L 225 220;M 250 220 L 220 220" dur="2s" repeatCount="indefinite"/>
    </path>
  </g>

  <!-- PULL DIRECTION -->
  <g id="movement-indicator" opacity="0.5">
    <path d="M 200 80 L 200 50 L 190 65 Z" fill="#14B8A6"/>
    <text x="165" y="45" fill="#14B8A6" font-family="Inter, sans-serif" font-size="10">PULL TO FACE</text>
  </g>
</svg>
