<svg viewBox="0 0 400 600" xmlns="http://www.w3.org/2000/svg">
  <!--
    Exercise: Dumbbell Fly (Flat Bench) - Bottom/Stretched Position
    View: Side
    Primary Muscles: Pectoralis Major (92%), Anterior Deltoid (55%)
  -->
  <defs>
    <linearGradient id="figureGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#475569"/>
      <stop offset="100%" stop-color="#334155"/>
    </linearGradient>
    <linearGradient id="activationMax" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#EF4444" stop-opacity="0.85"/>
      <stop offset="100%" stop-color="#DC2626" stop-opacity="0.65"/>
    </linearGradient>
    <linearGradient id="activationMed" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#FB923C" stop-opacity="0.65"/>
      <stop offset="100%" stop-color="#F97316" stop-opacity="0.45"/>
    </linearGradient>
    <linearGradient id="activationLow" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#14B8A6" stop-opacity="0.55"/>
      <stop offset="100%" stop-color="#0D9488" stop-opacity="0.35"/>
    </linearGradient>
    <filter id="muscleGlow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="4" result="blur"/>
      <feMerge>
        <feMergeNode in="blur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    <filter id="softShadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="#000" flood-opacity="0.3"/>
    </filter>
  </defs>

  <!-- BENCH -->
  <g id="equipment-bench" fill="#3F3F46" stroke="#52525B" stroke-width="2">
    <rect x="60" y="320" width="280" height="30" rx="6"/>
    <rect x="80" y="350" width="15" height="100" rx="3"/>
    <rect x="305" y="350" width="15" height="100" rx="3"/>
    <rect x="65" y="440" width="270" height="15" rx="4"/>
  </g>

  <!-- MUSCLE ACTIVATION LAYER -->
  <g id="muscles" opacity="0.85">
    <!-- Pectoralis Major - PRIMARY (92%) - Stretched -->
    <path id="muscle-chest" data-muscle="pectoralis-major" data-activation="92"
      d="M 185 245 Q 220 235 245 260 Q 260 305 245 350 Q 210 365 180 345 Q 165 300 185 245"
      fill="url(#activationMax)" filter="url(#muscleGlow)">
      <animate attributeName="opacity" values="0.82;0.95;0.82" dur="2s" repeatCount="indefinite"/>
    </path>

    <!-- Anterior Deltoid - SECONDARY (55%) -->
    <ellipse id="muscle-front-delt" data-muscle="anterior-deltoid" data-activation="55"
      cx="170" cy="270" rx="22" ry="28"
      fill="url(#activationMed)" filter="url(#muscleGlow)"/>

    <!-- Biceps (stabilization with slight bend) -->
    <ellipse id="muscle-biceps" data-muscle="biceps" data-activation="35"
      cx="125" cy="285" rx="14" ry="32"
      fill="url(#activationLow)" filter="url(#muscleGlow)" opacity="0.5" transform="rotate(-45 125 285)"/>

    <!-- Serratus Anterior -->
    <path id="muscle-serratus" data-muscle="serratus-anterior" data-activation="40"
      d="M 205 335 Q 220 330 230 350 Q 235 385 225 415 Q 210 422 202 400 Z"
      fill="url(#activationLow)" filter="url(#muscleGlow)" opacity="0.5"/>
  </g>

  <!-- FIGURE LAYER - Side View Dumbbell Fly -->
  <g id="figure" fill="url(#figureGrad)" stroke="#64748B" stroke-width="1.5" filter="url(#softShadow)">
    <!-- Head (on bench) -->
    <ellipse cx="100" cy="295" rx="30" ry="28"/>

    <!-- Neck -->
    <path d="M 125 300 Q 140 305 155 320 L 165 340 Q 150 355 135 338 Z"/>

    <!-- Upper Back (on bench) -->
    <path d="M 155 330 Q 190 315 225 340 Q 255 385 250 445 L 195 475 Q 160 430 155 330"/>

    <!-- Shoulder -->
    <ellipse cx="175" cy="350" rx="26" ry="22"/>

    <!-- Upper Arm (out to side, slightly below horizontal - stretch) -->
    <ellipse cx="135" cy="310" rx="18" ry="45" transform="rotate(-50 135 310)"/>

    <!-- Forearm (slight elbow bend) -->
    <ellipse cx="95" cy="275" rx="14" ry="38" transform="rotate(-70 95 275)"/>

    <!-- Hand (gripping dumbbell) -->
    <ellipse cx="65" cy="250" rx="12" ry="14" transform="rotate(-70 65 250)"/>

    <!-- Torso (on bench) -->
    <path d="M 200 440 Q 240 425 270 460 Q 300 530 290 600 Q 255 640 220 635 Q 190 625 185 580 Q 180 510 200 440"/>

    <!-- Pelvis (on bench) -->
    <path d="M 250 550 Q 290 535 320 575 Q 345 640 320 700 Q 275 730 235 710 Q 210 660 250 550"/>

    <!-- Thigh -->
    <path d="M 290 660 Q 330 645 365 680 Q 395 740 380 800 Q 340 830 305 810 Q 280 760 290 660"/>

    <!-- Lower Leg (off bench) -->
    <path d="M 365 785 Q 390 780 410 810 Q 425 860 415 910 Q 385 930 355 915 Q 345 870 365 785"/>
  </g>

  <!-- DUMBBELL -->
  <g id="equipment-dumbbell" filter="url(#softShadow)">
    <g transform="rotate(-70 65 250)">
      <rect x="50" y="220" width="8" height="55" fill="#71717A" rx="4"/>
      <rect x="43" y="215" width="22" height="14" fill="#3F3F46" rx="3"/>
      <rect x="43" y="268" width="22" height="14" fill="#3F3F46" rx="3"/>
    </g>
  </g>

  <!-- JOINT MARKERS -->
  <g id="joints" fill="#94A3B8" opacity="0.5">
    <circle cx="120" cy="305" r="4"/> <!-- Neck -->
    <circle cx="175" cy="350" r="4"/> <!-- Shoulder -->
    <circle cx="110" cy="295" r="3"/> <!-- Elbow -->
    <circle cx="65" cy="250" r="3"/> <!-- Wrist -->
    <circle cx="265" cy="580" r="4"/> <!-- Hip -->
  </g>

  <!-- MOVEMENT ARC -->
  <g id="movement-indicator" opacity="0.5">
    <path d="M 65 250 Q 120 180 200 220" fill="none" stroke="#14B8A6" stroke-width="2" stroke-dasharray="6,4">
      <animate attributeName="stroke-dashoffset" values="0;20" dur="1s" repeatCount="indefinite"/>
    </path>
    <text x="120" y="170" fill="#14B8A6" font-family="Inter, sans-serif" font-size="10">SQUEEZE</text>
  </g>

  <!-- STRETCH INDICATOR -->
  <g id="stretch-indicator" opacity="0.4">
    <path d="M 175 350 Q 120 320 65 250" fill="none" stroke="#EF4444" stroke-width="2" stroke-dasharray="4,3"/>
    <text x="30" y="235" fill="#EF4444" font-family="Inter, sans-serif" font-size="9">stretch</text>
  </g>

  <!-- CONTRACTION INDICATOR -->
  <g id="contraction" opacity="0.5">
    <ellipse cx="210" cy="300" rx="45" ry="55" fill="none" stroke="#EF4444" stroke-width="2" stroke-dasharray="4,3">
      <animate attributeName="rx" values="40;50;40" dur="2s" repeatCount="indefinite"/>
    </ellipse>
  </g>
</svg>
