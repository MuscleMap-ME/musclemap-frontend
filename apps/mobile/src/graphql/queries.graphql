# ============================================================================
# User & Profile Queries
# ============================================================================

query Me {
  me {
    id
    username
    email
    displayName
    avatar
    level
    xp
    wealthTier {
      tier
      name
      minCredits
      color
      icon
      description
      creditsToNext
      progressPercent
    }
    createdAt
    roles
    archetype
  }
}

query MyProfile {
  profile {
    id
    userId
    displayName
    bio
    avatar
    location
    website
    socialLinks
    fitnessGoals
    preferredWorkoutTime
    experienceLevel
    visibility
    wealthTier {
      tier
      name
      color
      icon
    }
    createdAt
    updatedAt
  }
}

query MyFullProfile {
  myFullProfile {
    id
    userId
    displayName
    bio
    bioRichJson
    avatar
    avatars {
      id
      url
      isActive
    }
    location
    website
    socialLinks
    fitnessGoals
    preferredWorkoutTime
    experienceLevel
    visibility
    wealthTier {
      tier
      name
      color
      icon
      progressPercent
      creditsToNext
    }
    creditBalance
    progressPhotos {
      id
      imageUrl
      takenAt
      notes
    }
    workoutStats {
      totalWorkouts
      totalVolume
      currentStreak
      longestStreak
      weeklyWorkouts
    }
    createdAt
    updatedAt
  }
}

# ============================================================================
# Exercises Queries
# ============================================================================

query Exercises(
  $search: String
  $muscleGroup: String
  $equipment: String
  $limit: Int = 20
) {
  exercises(
    search: $search
    muscleGroup: $muscleGroup
    equipment: $equipment
    limit: $limit
  ) {
    id
    name
    description
    type
    primaryMuscles
    secondaryMuscles
    equipment
    difficulty
    instructions
    tips
    imageUrl
    videoUrl
  }
}

query Exercise($id: ID!) {
  exercise(id: $id) {
    id
    name
    description
    type
    primaryMuscles
    secondaryMuscles
    equipment
    difficulty
    instructions
    tips
    imageUrl
    videoUrl
  }
}

query ExerciseHistory($exerciseIds: [ID!]!) {
  exerciseHistory(exerciseIds: $exerciseIds) {
    exerciseId
    lastPerformed
    totalSets
    totalReps
    totalVolume
    estimatedOneRepMax
    personalRecords {
      type
      value
      achievedAt
    }
    recentSets {
      weight
      reps
      rpe
      performedAt
    }
  }
}

# ============================================================================
# Workout Queries
# ============================================================================

query MyWorkouts($limit: Int = 10, $offset: Int = 0) {
  myWorkouts(limit: $limit, offset: $offset) {
    id
    userId
    exercises {
      exerciseId
      name
      sets
      reps
      weight
      notes
    }
    duration
    notes
    totalTU
    characterStats {
      strength
      endurance
      agility
      vitality
      focus
    }
    createdAt
  }
}

query Workout($id: ID!) {
  workout(id: $id) {
    id
    userId
    exercises {
      exerciseId
      name
      sets
      reps
      weight
      notes
    }
    duration
    notes
    totalTU
    characterStats {
      strength
      endurance
      agility
      vitality
      focus
    }
    createdAt
  }
}

query MyWorkoutStats {
  myWorkoutStats {
    totalWorkouts
    totalVolume
    currentStreak
    longestStreak
    weeklyWorkouts
    favoriteExercise
    lastWorkoutAt
    thisWeekVolume
    lastWeekVolume
  }
}

# ============================================================================
# Workout Session Queries (Real-time logging)
# ============================================================================

query ActiveWorkoutSession {
  activeWorkoutSession {
    id
    userId
    startedAt
    pausedAt
    totalPausedTime
    lastActivityAt
    workoutPlan
    currentExerciseIndex
    currentSetIndex
    sets {
      id
      exerciseId
      exerciseName
      setNumber
      weight
      reps
      rpe
      duration
      notes
      isPR
      createdAt
    }
    totalVolume
    totalReps
    estimatedCalories
    musclesWorked {
      muscleId
      muscleName
      activationLevel
      sets
    }
    sessionPRs {
      exerciseId
      exerciseName
      prType
      value
      previousValue
    }
    restTimerRemaining
    restTimerTotalDuration
    restTimerStartedAt
    clientVersion
    serverVersion
  }
}

query WorkoutSession($id: ID!) {
  workoutSession(id: $id) {
    id
    userId
    startedAt
    pausedAt
    totalPausedTime
    lastActivityAt
    workoutPlan
    currentExerciseIndex
    currentSetIndex
    sets {
      id
      exerciseId
      exerciseName
      setNumber
      weight
      reps
      rpe
      duration
      notes
      isPR
      createdAt
    }
    totalVolume
    totalReps
    estimatedCalories
    musclesWorked {
      muscleId
      muscleName
      activationLevel
      sets
    }
    sessionPRs {
      exerciseId
      exerciseName
      prType
      value
      previousValue
    }
    clientVersion
    serverVersion
  }
}

query RecoverableSessions($limit: Int = 5) {
  recoverableSessions(limit: $limit) {
    sessionId
    startedAt
    lastActivityAt
    exerciseCount
    setCount
    duration
  }
}

query WorkoutMuscleBreakdown($sessionId: ID!) {
  workoutMuscleBreakdown(sessionId: $sessionId) {
    muscleId
    muscleName
    activationLevel
    sets
  }
}

# ============================================================================
# Economy & Credits Queries
# ============================================================================

query EconomyWallet {
  economyWallet {
    userId
    credits
    wealthTier
    tierProgress {
      tier
      name
      color
      icon
      progressPercent
      creditsToNext
    }
    lastUpdated
  }
}

query EconomyTransactions($limit: Int = 20, $offset: Int = 0) {
  economyTransactions(limit: $limit, offset: $offset) {
    id
    userId
    amount
    type
    category
    description
    metadata
    createdAt
  }
}

# ============================================================================
# Social Queries
# ============================================================================

query StatLeaderboard($stat: String!, $period: String!, $limit: Int = 50) {
  statLeaderboard(stat: $stat, period: $period, limit: $limit) {
    entries {
      rank
      userId
      username
      avatar
      value
      wealthTier
    }
    myRank
    myValue
    totalParticipants
  }
}

query MyCrew {
  myCrew {
    isMember
    crew {
      id
      name
      tag
      description
      avatarUrl
      bannerUrl
      memberCount
      maxMembers
      isPrivate
      createdAt
      stats {
        totalWorkouts
        weeklyWorkouts
        totalVolume
        avgMemberLevel
      }
    }
    members {
      userId
      username
      avatar
      role
      joinedAt
      weeklyWorkouts
      weeklyVolume
    }
    myRole
  }
}

query CrewLeaderboard($period: String!, $limit: Int = 20) {
  crewLeaderboard(period: $period, limit: $limit) {
    entries {
      rank
      crewId
      crewName
      crewTag
      crewAvatar
      value
      memberCount
    }
    myCrew {
      rank
      crewId
      crewName
      value
    }
    totalCrews
  }
}

# ============================================================================
# Achievements Queries
# ============================================================================

query Achievements {
  achievements {
    id
    key
    name
    description
    category
    icon
    tier
    xpReward
    creditReward
    requirement
    isUnlocked
    unlockedAt
    progress
  }
}

query RecentAchievements($limit: Int = 5) {
  recentAchievements(limit: $limit) {
    id
    key
    name
    description
    icon
    tier
    xpReward
    creditReward
    unlockedAt
  }
}

# ============================================================================
# Goals Queries
# ============================================================================

query MyGoals($status: String) {
  myGoals(status: $status) {
    id
    userId
    type
    target
    current
    unit
    title
    description
    status
    startDate
    targetDate
    completedAt
    metadata
    milestones {
      id
      target
      title
      reached
      reachedAt
    }
    createdAt
    updatedAt
  }
}

query Goal($id: ID!) {
  goal(id: $id) {
    id
    userId
    type
    target
    current
    unit
    title
    description
    status
    startDate
    targetDate
    completedAt
    metadata
    milestones {
      id
      target
      title
      reached
      reachedAt
    }
    createdAt
    updatedAt
  }
}

query GoalSuggestions($limit: Int = 5) {
  goalSuggestions(limit: $limit) {
    type
    target
    unit
    title
    description
    reason
    confidence
  }
}

# ============================================================================
# Character Stats Queries
# ============================================================================

query MyCharacterStats {
  myCharacterStats {
    userId
    level
    xp
    xpToNextLevel
    strength
    endurance
    agility
    vitality
    focus
    totalTU
    archetypeBonus
    updatedAt
  }
}

query CharacterLeaderboard($stat: String!, $limit: Int = 50) {
  characterLeaderboard(stat: $stat, limit: $limit) {
    entries {
      rank
      userId
      username
      avatar
      level
      value
      archetype
    }
    myRank
    totalParticipants
  }
}
