# ============================================================================
# Core User Queries
# ============================================================================

query Me {
  me {
    id
    username
    email
    displayName
    avatar
    level
    xp
    wealthTier {
      tier
      name
      minCredits
      color
      icon
      description
      creditsToNext
      progressPercent
    }
    createdAt
    roles
  }
}

query MyProfile {
  profile {
    id
    userId
    displayName
    bio
    avatar
    location
    website
    socialLinks
    fitnessGoals
    preferredWorkoutTime
    experienceLevel
    visibility
    wealthTier {
      tier
      name
      color
      icon
    }
    createdAt
    updatedAt
  }
}

query MyFullProfile {
  myFullProfile {
    id
    username
    displayName
    avatarUrl
    avatarId
    xp
    level
    rank
    wealthTier
    age
    gender
    heightCm
    weightKg
    preferredUnits
    ghostMode
    leaderboardOptIn
    aboutMe
    limitations
    equipmentInventory
    weeklyActivity
    theme
  }
}

# ============================================================================
# Exercises Queries
# ============================================================================

query Exercises(
  $search: String
  $muscleGroup: String
  $equipment: String
  $limit: Int = 20
) {
  exercises(
    search: $search
    muscleGroup: $muscleGroup
    equipment: $equipment
    limit: $limit
  ) {
    id
    name
    description
    type
    primaryMuscles
    secondaryMuscles
    equipment
    difficulty
    instructions
    tips
    imageUrl
    videoUrl
  }
}

query GetExercise($id: ID!) {
  exercise(id: $id) {
    id
    name
    description
    type
    primaryMuscles
    secondaryMuscles
    equipment
    difficulty
    instructions
    tips
    imageUrl
    videoUrl
  }
}

# ============================================================================
# Workout Queries
# ============================================================================

query MyWorkouts($limit: Int = 10, $offset: Int = 0) {
  myWorkouts(limit: $limit, offset: $offset) {
    id
    userId
    exercises {
      exerciseId
      name
      sets
      reps
      weight
      notes
    }
    duration
    notes
    totalTU
    createdAt
  }
}

query GetWorkout($id: ID!) {
  workout(id: $id) {
    id
    userId
    exercises {
      exerciseId
      name
      sets
      reps
      weight
      notes
    }
    duration
    notes
    totalTU
    createdAt
  }
}

query MyWorkoutStats {
  myWorkoutStats {
    totalWorkouts
    totalExercises
    totalSets
    totalReps
    totalWeight
    averageWorkoutDuration
    currentStreak
    longestStreak
    thisWeek
    thisMonth
  }
}

# ============================================================================
# Workout Session Queries (Real-time logging)
# ============================================================================

query ActiveWorkoutSession {
  activeWorkoutSession {
    id
    userId
    startedAt
    pausedAt
    totalPausedTime
    lastActivityAt
    workoutPlan
    currentExerciseIndex
    currentSetIndex
    sets {
      id
      exerciseId
      exerciseName
      setNumber
      weightKg
      reps
      rpe
      rir
      durationSeconds
      restSeconds
      tag
      notes
      tu
      isPRWeight
      isPRReps
      isPR1RM
      performedAt
    }
    totalVolume
    totalReps
    estimatedCalories
    musclesWorked {
      muscleId
      muscleName
      totalTU
      setCount
      percentageOfMax
    }
    sessionPRs {
      exerciseId
      exerciseName
      prType
      newValue
      previousValue
      improvementPercent
      achievedAt
    }
    restTimerRemaining
    restTimerTotalDuration
    restTimerStartedAt
    clientVersion
    serverVersion
  }
}

query RecoverableSessions($limit: Int = 5) {
  recoverableSessions(limit: $limit) {
    id
    startedAt
    archivedAt
    archiveReason
    setsLogged
    totalVolume
    musclesWorked
    canRecover
  }
}

# ============================================================================
# Economy & Credits Queries
# ============================================================================

query EconomyWallet {
  economyWallet {
    balance {
      credits
      pending
      lifetime
    }
    transactions {
      id
      type
      amount
      description
      createdAt
    }
  }
}

query EconomyTransactions($limit: Int = 20) {
  economyTransactions(limit: $limit) {
    id
    type
    amount
    description
    createdAt
    metadata
  }
}

# ============================================================================
# Social Queries
# ============================================================================

query StatLeaderboard($stat: String, $scope: String, $scopeValue: String, $limit: Int = 50, $afterRank: Int) {
  statLeaderboard(stat: $stat, scope: $scope, scopeValue: $scopeValue, limit: $limit, afterRank: $afterRank) {
    entries {
      userId
      username
      avatarUrl
      statValue
      rank
      gender
      country
      state
      city
    }
    total
    nextCursor
  }
}

query MyCrew {
  myCrew {
    crew {
      id
      name
      tag
      description
      avatar
      color
      ownerId
      memberCount
      totalTU
      weeklyTU
      wins
      losses
      createdAt
    }
    membership {
      id
      crewId
      userId
      role
      joinedAt
      weeklyTU
      totalTU
      username
      avatar
      archetype
    }
    members {
      id
      crewId
      userId
      role
      joinedAt
      weeklyTU
      totalTU
      username
      avatar
      archetype
    }
    stats {
      totalMembers
      totalTU
      weeklyTU
      warsWon
      warsLost
      currentStreak
    }
  }
}

# ============================================================================
# Achievements Queries
# ============================================================================

query MyAchievements($category: String, $limit: Int, $offset: Int) {
  myAchievements(category: $category, limit: $limit, offset: $offset) {
    achievements {
      id
      achievementKey
      achievementName
      achievementDescription
      achievementIcon
      category
      points
      rarity
      creditsEarned
      xpEarned
      isVerified
      witnessUsername
      earnedAt
    }
    total
  }
}

# ============================================================================
# Goals Queries
# ============================================================================

query Goals {
  goals {
    id
    userId
    type
    target
    current
    unit
    title
    description
    status
    deadline
    milestones {
      id
      goalId
      title
      target
      achieved
      achievedAt
    }
    createdAt
    updatedAt
  }
}

query GetGoal($id: ID!) {
  goal(id: $id) {
    id
    userId
    type
    target
    current
    unit
    title
    description
    status
    deadline
    milestones {
      id
      goalId
      title
      target
      achieved
      achievedAt
    }
    createdAt
    updatedAt
  }
}

query GoalSuggestions {
  goalSuggestions {
    type
    target
    unit
    title
    description
    reasoning
  }
}
